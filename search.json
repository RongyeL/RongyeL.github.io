[{"title":"运动习惯打卡","url":"/posts/511ce4ff.html","content":"\n# 运动习惯打卡\n**关联项目:** [[运动日常化]]\n\n## 运动打卡\n- [ ] #TODO #habit 运动  [repeat:: every day when done]  [due:: 2025-09-08]\n- [x] #TODO #habit 运动  [repeat:: every day when done]  [due:: 2025-09-04]  [completion:: 2025-09-07]","tags":["身心健康","运动","健康"],"categories":["运动日常化"]},{"title":"人为什么要工作呢？","url":"/posts/e9389d22.html","content":"\n# 人为什么要工作呢？\n## 打工不能致富\n看到XHS上有人说，一年赚20w，30年也才600w，没什么意思，为什么要工作。\n\nemmmmm，说实话，槽点很多。\n且不说到手肯定没有20W，30年工资完全不涨也不太可能，但最大的问题在于：\n**不能赚大钱，工作就没有意义吗？**\n\nNONONO，如果说你家境殷实，那确实是没有意义。\n但对于99%的普通人而言，工作，是为了生存。\n\n老实打工赚辛苦钱，那确实是没办法赚大钱的。\n但绝大部分人也没办法，赚老实打工以外的钱啊。\n\n所以，作为普通家庭的孩子，老老实实找份高薪岗位打一辈子工，过的衣食无忧就可以了。\n\n还是这个时代太复杂了，人们基本的温饱已经得到满足，生活相对自由，所以一个个都有了更高的追求。\n老一辈追求的不饿肚子，现在根本不算什么了。\n\n知足，是现在这个时代的人民最需要的品质。\n","tags":["工作","人生"],"categories":["个人浅见"]},{"title":"记录，第二次给小红造景","url":"/posts/3b43d27a.html","content":"\n# 记录，第二次给小红造景\n## 全景观赏\n先看看全景，再次塞了四、五珠植物进去\n底层是椰土等混合土，上层厚铺树皮地表。压几块青龙石点缀。\n左边的屋子换成大平房，主要是避免龟龟爬坡翻车。\n![20250903_230640.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250903_230640.jpg)\n\n## 鸭掌木\n本次寄予厚望的绿植。\n所有的陆龟都是推土机，只是苏卡达最厉害而已。\n小红也是小型陆地坦克，普通的植物要是比较柔弱，会被轻松推倒踩扁。\n比如这里的狼尾蕨，我是觉得它好看又再买了两株作为矮景，但第一天晚上我就感觉它们快不行了……\n\n买的老桩鸭掌木，有比较粗壮的树干，这个就比较稳了，扎在土里，边上铺点东西让小红无法直接挤进去，貌似没啥问题。\n- 遵循 **见干见湿** 原则，土表发干再浇透。\n- 喜半阴，避免烈日直晒，尤其是夏季中午。\n- 易徒长，需**及时剪掉过长或杂乱枝条**，保持株型紧凑美观\n- 适宜温度 **16-27℃**，冬季不低于 5℃\n\n## 迷你椰子\n这个上次也买过，活得算比较久的了。\n估计是我养的不好，后面变枯变黄了，最终还是被小红推倒了。\n这次其实是套餐买回来的，种在角落里，希望能种得更久一些。\n\n- 生长季（春夏）**保持土壤微湿**，见干就浇，不能长期干旱\n- 喜半阴，**避免长时间烈日直射**，尤其是夏季中午\n- 喜湿润空气，可经常向叶面和周围喷雾。\n- 最适温度 **18-24℃**，低于 10℃ 会进入休眠\n\n## 小红怎么说\n小红应该是很喜欢的，刚送回缸里，立马就扎到绿植丛中了。\n心痛我的绿植。\n只能说，这些绿植我可能都没法真正的长期种下去，能坚持三个月就是我的目标。\n后续就重新买重新更换吧。\n![20250903_234154.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250903_234154.jpg)\n","tags":["爬宠","红腿陆龟","家有小红","造景"],"categories":["家有小红"]},{"title":"美食探店","url":"/posts/efffe449.html","content":"# 美食探店\n## 核心目标\n记录并管理所有与餐厅、美食探店相关的笔记，包括：\n- 想去的餐厅清单\n- 已探店记录\n- 评分与体验\n\n## 探店计划\n- [ ] #深圳  TAGSIU \n\n## 美食档案\n![美食](兴趣档案/美食.base)","tags":["美食","餐厅"]},{"title":"Obsidian PARA架构设计","url":"/posts/a4b9d2b0.html","content":"# Obsidian PARA架构设计\n关联项目:   [基于PARA法的任务管理架构实现](认真生活/笔记人生/基于PARA法的任务管理架构实现.md)\n## 笔记类型\n笔记类型，奠定了整个笔记系统的结构，是重中之重。\n经过这么长时间的不断使用，迭代，我对于PARA的理解也逐步加深。\n原始的PARA并不适合我，现在我对笔记的类型有更多的划分，以适配我个人的使用场景以及喜好。\n\n### Projects 项目\n项目笔记，[对于Projects笔记的理解](认真生活/笔记人生/基于PARA法的任务管理架构实现/对于Projects笔记的理解.md)也是加深了不少。\n项目笔记一定是要用来推进某件事务的完成，才建立的。\n必须有明确的：目标、时间点、任务分解，才有必要建立一个新的项目笔记。\n\n由于项目可大可小，因此还需要考虑到子项目的设计。当然，子项目的出现会导致架构更加复杂，当前不允许使用。建议只是分解任务时增加小标题。\n\n一旦建立了项目，就需要做好任务分解。项目必须有结项时间，结项的同时在相关领域建立里程碑记录。项目进展记录到项目笔记内，领域需要的只是里程碑式的记录。\n\n项目产出笔记直接放在项目文件夹下。通过tags让领域笔记收集，一篇笔记可能关联多个领域。后续查阅要从领域去找，而不是项目。\n\n领域笔记内有如下内容：\n- 项目目标，立项所希望达成的结果是什么，如，制作EasyAXI系列视频并发布。\n- 项目计划，确定项目完成各阶段的时间点，如，视频每一期发布的时间计划。\n- 项目任务，区别于计划，这是实际分解出来的执行任务项。逐步完成每一个任务，直至达成整个项目完成。如，系列大纲分析、第1期视频脚本撰写、第1期视频代码开发等。\n- 项目日志：记录项目推进进展，在发生项目推进的日子记录当天推进的工作情况。\n- 项目笔记：项目产出的笔记汇总，通过dataviewjs实现。\n- 项目资源：对项目推动有帮助的参考资料。\n### Areas 领域\n领域笔记，长期、持续、概念级。\n它应该是一种领域概念，而非一件具体的事物，因为它不存在所谓的工作和实体，它只应当用于收集该领域的内容，呈现、索引，而不是直接往其填写内容。\n\n领域名称应当尽可能简洁明了，如，游戏，旅行，方法论等。可以被其他项目，笔记，档案们添加到tags中，在领域内以此检索出来。\n\n领域笔记应该包含如下内容：\n- 领域核心：这个领域是什么，涵盖哪些内容？\n- 当前关注：这个领域近期在关注什么？不是所有领域都会持续活跃的，活跃的领域在不同时间关注的内容可能也不一样。\n- 相关笔记：就是跟这个领域存在关键性的笔记，通常通过在笔记中添加领域tag来建立关联。这样一篇笔记可能会有多个tags，也就是会关联多个领域。\n- 相关项目：跟相关笔记类似，只是笔记的类型不同。可以在领域跟踪相关项目的进展。\n- 特有内容：不同的领域可能会有一些特殊的记录内容，比如对于兴趣类的领域，此处就会直接关键一个数据库。比如一些习惯跟踪，那可能会建立一个周期性任务跟踪。比如有一些小的计划，美食探店，可以建立\n\n### Notes 笔记\n笔记，是真正承载笔记价值的文件。\n项目，是为了推进某件事物的完成，期间可能会生产笔记。理论上，项目完成后也是可以删除掉的。\n领域，是一种概念，会与多种笔记存在关联。即便没有领域笔记去汇聚，我们也可以直接访问。\n所以说，para一切都是虚的，只有笔记是真的。\n只要能一直保持记录的习惯，那么笔记系统就可以一直使用下去。Para等一切方法学，只是为了更好的管理笔记系统而已。\n\nNotes什么内容都可能有，所以不局限是什么。\n\n### Resources 资源\n在我这里，只有参考文献，才算资源。\n通常是一些剪藏的资料。最多包含一些视频链接等。\n跟原本的PARA不同，我不会将自己生产的笔记，作为其他的资源。\n\n### Archives 档案\nNotes的变种。\n档案，记录事务的各种信息，如评分、作者、阅读时间、通关时间、简评等。\n重在规范的、格式化的信息归档。\n对于这件事务的感想、心得，应该撰写为笔记，在档案中链接。\n\n### Memos 备忘\nNotes的变种。\n速记灵感、感想、待办等信息，需要及时清理转化成其他类型。\n\n\n## 系统架构图","tags":["方法学论","PARA","Obsidian"],"categories":["学习笔记"]},{"title":"房屋收纳空间规划","url":"/posts/675afc59.html","content":"\n# 房屋收纳空间规划\n**关联项目:** [[认真生活/舒适的家/打造一个舒适的窝]]\n## 衣柜\n分左右两间，每间宽67cm\n\n### 左侧空间\n- [x] **最上（高40cm）**：开放式空间，存放**双肩包、单肩包等**\n- [x] **中间（高100cm）**：带挂衣杆，悬挂**全部应季上衣**（按类型分区）\n- [ ] **中下（高35cm）**：开放式空间，放置**折叠的应季裤子**（建议使用收纳盒分隔）\n- [x] **最下**：两个抽屉\n    - [x] 第一个：已用于**内裤和袜子**\n    - [x] 第二个：存放**毛巾及备用生活用品**（未开封沐浴露、洗发水、纸巾等）\n        \n\n### 右侧空间\n- [x] **最上（高40cm）**：开放式空间，存放**备用床品**\n- [x] **中间（高38cm）**：开放式空间，存放**不应季的衣物**\n- [x] **中下（高34cm）**：开放式空间，存放**季节性配饰**（手套、帽子等）\n- [x] **最下（高100cm）**：带挂衣杆，悬挂**易皱长裤和外套**，以及直立存放**20寸行李箱**\n    \n\n## 展示柜\n### 上方三层玻璃展柜（宽70cm）\n- [x] **最上层（高25cm）**：**模型手办展示区**\n- [x] **中层（高25cm）**：存放**相机及常用镜头**\n- [x] **下层（高35cm）**：存放**游戏光盘盒和少量书籍**\n    \n\n### 中间抽屉\n- [x] **半透抽屉**（65×34×11cm）：专放**相机镜头、滤镜**等精密器材，增加收纳棉。\n- [x] **实木抽屉**（65×35×11cm）：收纳**笔记本电脑，数码配件包**\n\n### 下方下拉式玻璃柜（高33cm）\n- [x] 存放**工具箱**（小至中型工具），目前收纳一些备用器件。\n\n## 书桌\n### 左侧三个抽屉\n- [x] **最上**（38×40×5cm）：存放**办公文具、常用数据线及充电头**\n- [x] **中间**（38×40×16.5cm）：**数码配件专区**（数据线、移动电源、耳机等，使用分隔收纳盒）\n- [x] **最下**（38×40×26cm）：存放**书籍及文件资料**，杂物。\n    \n### 中间两个抽屉\n- [x] **左**（均49×40×5cm）：存放**纸巾、牙签、遥控器**等随手取用的扁平物品\n- [x] **右**（均49×40×5cm）：存放**重要证件**\n    \n \n## 床底\n### 床侧3个抽屉（47×36×11cm）\n- [x] 存放**袜子、内衣**或**药品、护理品**等小件物品，目前闲置。\n\n### 三个大格\n- [x] 一格：存放**换季的鞋子**（用鞋盒装好）,暂无。目前用于收纳数码产品包装盒。\n- [x] 一格：存放**大瓶储备生活用品**或**非常用的大型工具**。目前空置。","tags":["家居","舒适的家"],"categories":["方案分析"]},{"title":"有时候为了链接什么，必须先切割什么","url":"/posts/880c7cef.html","content":"送完玛玛了，我是以最慢的步速走完了最后一程。\n死亡搁浅这个游戏，真的很值得细品。感受里面的故事，听着那段音乐，沉浸在那种淡淡的，悲伤的氛围中，结束一段又一段的旅程。\n","tags":["游戏","死亡搁浅"],"categories":["兴趣杂谈"]},{"title":"对于Projects笔记的理解","url":"/posts/4ee67243.html","content":"# 对于Projects笔记的理解\n关联项目:   [基于PARA法的任务管理架构实现](认真生活/笔记人生/基于PARA法的任务管理架构实现.md)\n## Projects，一定是有计划性的\n必须真的有需要推进的流程、需要多阶段任务完成，以实现某种目标。此时才有立项的必要。\n\n这段时间，有效立项如下：\n- [舒适的窝]\n- [制作EasyAXI第六期]\n\n无效立项如下：\n- [游玩_怪物猎人荒野]：我打游戏根本不需要立项，因为没有分解的任务，从来不会要求自己这次打游戏需要完成哪些工作，我根本不知道这次玩会体验哪些内容。另外，通过一个游戏这么纯粹的目标，也不需要建立一个项目去跟踪。\n\n\n## 小结\n首先，不要什么都立项。\n先思考一下，这件事情是否需要立项来跟踪完成？\n它是否\n- 需要完成多件任务？\n- 需要持续推进？\n- 是否有价值？","tags":["方法学论","PARA"],"categories":["PARA"]},{"title":"在深圳这个地方，买房真不如租房","url":"/posts/7aea17b5.html","content":"# 在深圳这个地方，买房真不如租房\n关联项目:  [第一次购房计划](认真生活/舒适的家/第一次购房计划.md)\n\n## 租金回报率对比，太差\n房价：1300 万\n\n年租金：1.3 万 × 12 = 15.6 万\n\n租金回报率 = 年租金 ÷ 房价 = 1.2% 左右\n\n深圳住宅的平均租金回报率大约在 1.7% 左右\n\n假设买这套房：\n\n首付（30%）：390 万\n贷款（70%，30 年，利率 4%）：月供约 4.9 万，30 年总还款约 1764 万\n总投入（首付+还款）≈ 2154 万\n\n租这套房：\n30 年总租金 ≈ 468 万\n**差额：约 1686 万的资金差距**\n\n你现在的租金水平，等于用不到 1% 的房价占用权，享受了 100% 的居住权益。\n\n## 小结\n- **理性财务角度**：继续租更划算，把差额资金做投资或保留流动性。\n- **情感与生活角度**：如果你追求稳定、可自由改造、长期定居，买房才有意义。","tags":["家居","深圳","买房"],"categories":["个人浅见"]},{"title":"看到恭也那么释然，我真想哭。","url":"/posts/580e7c57.html","content":"相关笔记：[我们的重制人生](兴趣档案/轻小说/我们的重制人生.md)\n看到恭也那么释然，我真想哭。\n第十卷真的太压抑了，对于伙伴们来讲，都是认可，都是进步。\n对于恭也来讲，则是放手，是释怀。\n\n虽然下一卷就逃避了，但是他是内心想明白得到的结论。\n他是一个内心强大的人，只是过于抗压了……压抑自己，并不能让所有人都幸福，希望恭也能早日理解这一点。\n\n","tags":["轻小说"],"categories":["兴趣杂谈"]},{"title":"想手淫这件事情，其实从早上就开始了","url":"/posts/c7b46d52.html","content":"# 想手淫这件事情，其实从早上就开始了\n关联项目:   [关于手淫这件事](认真生活/身心健康/关于手淫这件事.md)\n## 并不是晚上才出发的淫欲\n其实今天早上坐班车的时候，就已经在胡思乱想了。\n也不知道是什么原因，也不知道是什么触发的。反正就是有想法了，然后排解不掉。\n晚上吃饱饭，喝了酒，再忙碌完鱼缸的事情，突然就控制不住了。\n打开了视频网站，即便看着也没有状态很好，但最后还是一直看黄，直到最后导出来。\n\n\n## 本次反思\n白天如果有出现迹象，晚上可能要重点关注一下。\n特别是周五，这种喝了酒的晚上。\n很容易就开始了，一旦开始真的控不住，停不下来。\n所以需要针对性的定一些计划，让自己不闲下来，最后直接睡觉度过这一天。\n\n","tags":["健康","手淫"],"categories":["身心健康"]},{"title":"关于手淫这件事","url":"/posts/761f7ffa.html","content":"\n# 关于手淫这件事\n\n## 手淫反省\n### 2025-09-02 差点出问题\n唉，睡前打开了哔咔，又看了二十分钟。不仅算熬了夜，还差点破功。不过没掏出来所以还算是控制住了。\n\n额，现在是2点40。很遗憾，失眠了，满脑子想着黄色。最后还是打开电脑看了1个小时Pica，看的还是我收藏的精品。\n这一个小时看下来，虽然期间没有用手触碰，但其实已经一直在积攒了，最后轻轻撸两下，就射了超级多。\n\n那么本轮戒撸结束，**距离上次间隔9天**。\n\n\n### 2025-08-31 很好，保护一周了 \n这周虽然看了一次，但控制住自己直接去睡觉了。 \n### 2025-08-29 今天打断了一次，无聊想打开黄页的冲动。赶紧刷牙直接睡觉！ \n不能因为闲得无聊就去看黄，毫无意义，浪费时间。 \n### 2025-08-23 立项啦，以后每次破功就写篇忏悔。 \n 今天反正是爽了，记录一下自己为什么会这样。\n\n## 手淫打卡\n- [ ] #TODO #habit 释放  [repeat:: every day when done]  [due:: 2025-09-05]\n- [x] #TODO 释放  [repeat:: every day when done]  [due:: 2025-09-02]  [completion:: 2025-09-04]","tags":["身心健康"],"categories":["习惯打卡"]},{"title":"打造岛屿书桌","url":"/posts/d666206a.html","content":"既要能放下大显示器，又要具备储物能力，还要能美观展示。  \n自己琢磨了一种组合式书桌的搭建方案。\n\n<!--less-->\n\n# 打造岛屿书桌\n关联项目:   [打造一个舒适的窝](认真生活/舒适的家/打造一个舒适的窝.md)\n## 书桌\n选择了最扎实沉稳的设计。\n两侧是扎实的U型桌脚，左边的桌脚用抽屉柜顶替，整个桌面呈方形，一眼方正的那种。\n桌子的规格，斟酌再三还是选择了180x80x75的尺寸。\n首先，桌子180没问题，仔细测量了房间的墙，190的总长，最右边留10cm给电动窗帘活动，剩下摆180桌子刚刚好。\n桌深80真的是纠结了很久，因为房间还是太小了。\n床选了120cm，桌深再80cm的话，那就只剩下50+cm作为中间过道了。这导致我的活动空间会比较少。\n但桌子大又真的很重要，显示器以及桌面布置都可以获得更大的自由度，因此最后还是选择了80cm深。\n唉，取舍就在方寸之间。\n\n\n## 桌下理线器\n由于桌子增加了2个抽屉，所以桌下并非完全空缺的，因此不能搞一个长的，大插座。\n每个抽屉后面都大概有50cm的长，20cm的宽。\n因此最后找到了如下的理线槽，带插座的那种。\n不是因为觉得它好看，就是因为它的尺寸很完美，长度44cm。宽度15cm，可以说是完美用上了剩余的空间。\n直接买两个。\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250804230059.png)\n\n## 纸巾收纳\n目前看到比较好的是一个侧边竖着的纸巾盒，表面黑胡桃木的。\n不过想了想，暂时不固定纸巾的位置。因为还可能增加桌下柜以及边柜，可能纸巾放远一点。\n现在直接将纸巾放在右手边抽屉里，取用其实也挺方便的。\n\n\n## 展柜\n最开始买了一个214cm的柜子，可以做到满墙。心动了很久，下单了一周后还没有发货，也就退掉了。\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250804231802.png)\n首先是意识到了这个柜子太高了，我房门只有200cm，到时候这个柜子进来很不方便。\n其次是，本来那个柜子我是想侧着靠着桌子放的，但后来觉得这样不够美观，因为只有坐在桌子上才能看到柜子的正面。\n而且那个柜子的上层好几层都是空架，没有什么设计也。所以最后就取消订单了。\n\n现在选了下面这个架子，75cm，目标就是横着放了，能够把左边那面墙挡住75%。可以遮挡住下面几个难看的插排。当然，这个柜子估计没法贴墙放。\n正面看也很有设计感，上面的大玻璃柜门，放我的各种展示物，相机，雕像等。\n中间的半透柜门跟我的桌子还有一点设计延续性。\n下面两个柜门设计感也挺好，整体从正面看过去就非常的好看。\n高度182cm，可以正着送到房间里，这个估计能带来不少的便利。\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250804231341.png)\n\n## 桌下柜【放弃】\n不能选120cm那个，太长了。有很大一段都被桌子压住了，其实使用起来会很不方便。\n其实，不能选太宽的。我现在的桌子左边已经被柜子占了不少空间了，右边不能再大量挤占我的腿部空间，否则有拘束感那就没有意义了。\n现在还没选好。\n\n桌下柜选择直接放弃。想了想，床和桌的间隙太小了，放任何柜子，大部分空间都是被桌子挡住了，使用很不方便。暂且不添加了。购置一个方的床头柜就行了。\n\n## 桌上侧柜\n这个目前也没选好，需要分析下。\n首先是用途，我是用于展示还是收纳。\n目前看应该以显示为主，不缺收纳\n\n然后是尺寸。感觉深度在30cm内会比较合适，右手边不会太占据太多空间。\n\n然后要考虑鱼缸的兼容性，小米鱼缸需要留20.4cm的宽度。要么就留，要么就让鱼缸摆上去。但是这样层高最好不要太高，否则不便于随时观赏。\n\n目前已经定制了一款，尺寸如图\n柜子爱是比较符合我审美的。而且思路突然打开了，右边中间那个格子，我专门设计好尺寸，可以直接放下小米鱼缸。\n鱼缸宽度21不到，高度35左右，深度的话22cm。然后预留个走线孔，这样鱼缸问题就解决了。\n长度72cm，对于我80深的桌面来讲，应该是比较和谐的，不会太极限。\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250817215350.png)\n\n","tags":["家居"],"categories":["舒适的窝"]},{"title":"超过十二点就叫熬夜","url":"/posts/9effe81c.html","content":"# 超过十二点就叫熬夜\n## 熬夜反省\n### 2025-09-06 因为谈心而晚睡……\n陪白白谈心到了一点半，好吧。这真没办法，毕竟陪陪柳依还是很重要的。\n明天加班估计是做不到了。好好休息吧，算了。\n### 2025-09-02 麻烦了，失眠 \n不清楚原因，可能是咖啡喝多了，可能是喝了乌龙茶，可能是睡前看了黄。\n现在就是睡不着，翻来覆去1点半了。\n现在就是煎熬，控制自己至少不要手淫。\n摆烂了，准备看会小说到2点再试着睡。\n### 2025-08-22 多看了两眼porn，我有罪 \n不能用看黄当娱乐，这不合适。还好这次只是看看，完全没有动手。 \n### 2025-08-19 今日开始记录熬夜反思 \n首先，没有遵守12点前关电脑的规则。在12点15分本来想刷好牙直接睡觉的，却发现衣服没有晒。因此，今后在需要晒衣服的日子，必须提前至少15分钟完成，而不是到了临睡才发现衣服没晒，影响心情。 \n\n## 熬夜打卡\n- [ ] #TODO #habit 熬夜  [repeat:: every day when done]  [due:: 2025-09-08]\n- [ ] #TODO #habit 熬夜  [repeat:: every day when done]  [due:: 2025-09-07]\n- [x] #TODO #habit 熬夜  [repeat:: every day when done]  [due:: 2025-09-05]  [completion:: 2025-09-06]","tags":["身心健康"],"categories":["习惯打卡"]},{"title":"明日方舟肉鸽界园三结局通关感想","url":"/posts/2afa3202.html","content":"方舟的肉鸽是真好玩啊。\n虽然我跳过了一个萨卡兹肉鸽，但其他所有肉鸽我都打了三结局，\n界园肉鸽的话，虽然这次大家骂的都比较厉害，不过我玩的也没那么多嘛，拿电弧麻麻带着打确实很快乐。\n\n目前只要享受就行了，有电弧加维神，绝大多数地图怎么打都心中有数了。\n只要发牌正常点，别从头到尾不给辅助、先锋、奶妈之类的刚需牌，基本都能打。\n可能高难度对藏品要求会高一些吧，但就我打到N9的感觉来说，应该没啥问题。\n\n![新熊结局一堵门](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/Screenshot_20250807_192928.jpg)\n\n反正现在肉鸽每天就打个一两把，没什么压力，三个结局也都见识过了，现在就看慢慢打到N15吧。a\n\n\n\n\n## 2025-08-10\n太难啦！！！终于过了一次N9界园三结局\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250810133551.png)\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250810133817.png)\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250810134240.png)\n\n这把真的是拼尽全力才能过的……","tags":["游戏","明日方舟","肉鸽"],"categories":["兴趣档案"]},{"title":"2025 东京 P5巡礼游行程计划~","url":"/posts/48b92cb3.html","content":"难得的单人出游机会，细细观察东京。\n\n<!--less-->\n\n# 2025 东京 P5巡礼游行程计划~\n关联项目:   [2025 东京单人游](认真生活/世界巡礼/2025%20东京单人游.md)\n## 主题曲 女神异闻录5巡礼\n以P5巡礼为主线，再慢慢的观察下东京这个地方。\nP5也不打算全去，把最重要的地方看了就行。\n需要巡礼的主要有：\n- 三轩茶屋，整个地方不大，全部走一遍。\n- 涩谷，本来就很好逛的地方。\n- 井之头公园，据说公园本身就不错。\n- 吉祥寺，比较老的商业街了，重点看吃的。\n- 台场海滨公园，看高达，看夜景。\n- 新宿/秋叶原，都可以。\n## 交通安排\n大湾区航空 来回 2249元\n## 日程安排\n### Day1 2025-09-29 星期一：\n1. 8点45分 蛇口港口坐船前往香港机场，预计9点15分到达；\n2. 11点00分 大湾区航空 HB322 起飞，预计16点45分到达成田机场；\n3. 成田机场（skyline） -》 日暮里站（山手线Yamanote Line） -》 涉谷站（东急东横线） -》 祐天寺站\n4. 酒店 **东京目黑佑天寺东急STAY酒店** 入住；\n\n### Day2 2025-09-30 星期二：\n1. 三轩茶屋、下北泽、井之头公园、吉祥寺\n2. 新宿\n3. 回酒店\n\n### Day3 2025-10-01 星期三：\n1. 猫猫严选，中目黑、惠比寿、代官山，**富人区**；\n2. 涩谷；\n3. 猫猫推荐，黄昏阶段，在台场附近看日落、吃晚饭后再看夜景。\n\n### Day4 2025-10-02 星期四：\n1. 早餐后散步、11点退房。\n2. 前往成田机场；\n3. 17点45分 大湾区航空 HB323 起飞，预计21点50分到达香港国际机场T1；\n\n\n\n\n## 美食计划\n\n\n## 购物清单\n- [ ] 死亡搁浅 OST\n","tags":["旅游","日本","单人游","东京","世界巡礼"],"categories":["旅行计划"]},{"title":"2025 东京单人游","url":"/posts/14431ab9.html","content":"# 2025 东京单人游\n相关领域：[世界巡礼](认真生活/世界巡礼.md)\n\n## 项目计划\n- [ ] #TODO 购物清单 [due:: 2025-08-31]\n- [ ] #TODO 询问AI需要准备哪些基本对话  [due:: 2025-08-26]\n- [x] #TODO 出行清单  [due:: 2025-09-07]  [completion:: 2025-09-07]\n- [ ] #TODO 行程计划  [due:: 2025-09-07]\n- [x] #TODO 预定酒店  [due:: 2025-08-02]  [completion:: 2025-08-02]\n- [x] #TODO 购买机票  [due:: 2025-08-02]  [completion:: 2025-08-02]\n- [x] #TODO 建立项目计划  [due:: 2025-08-02]  [completion:: 2025-08-02]\n\n## 项目笔记\n```dataviewjs\n// 获取当前笔记名称（不含.md）\nconst currentNoteName = dv.current().file.name.replace(\".md\", \"\");\n\n// 查询所有链接到当前 project 笔记的 `type=note` 笔记\nconst notePages = dv.pages()\n    .where(n => \n        n.type === \"notes\" &&\n        n.file.outlinks.some(link => link.path === dv.current().file.path)\n    )\n    .sort(n => n.modify, 'desc'); // 按修改时间排序\n\n// 计算统计信息\nconst totalNotes = notePages.length;\nconst completedNotes = notePages.filter(n => n.done).length;\nconst recentUpdated = notePages[0]?.file.mday.toISODate() || \"无记录\";\n\n// 显示结果\nif (totalNotes > 0) {\n    dv.table(\n        [\"状态\", \"笔记名称\", \"最近修改\", \"进度\"], \n        [\n            ...notePages.map(n => [\n                n.done ? \"✅ 已完成\" : \"🟡 进行中\",\n                n.file.link,\n                n.file.mday.toISODate(),\n                n.progress || \"无进度数据\"\n            ]),\n            // 统计行\n            [\n                `**${completedNotes}/${totalNotes}**`,\n                `**笔记统计**`,\n                `**最近更新: ${recentUpdated}**`,\n                ` `\n            ]\n        ]\n    );\n} else {\n    dv.span(`当前 project 笔记没有链接到任何笔记`);\n}\n\n```\n\n## 项目日志\n### 2025-09-07 出行物品清单就绪 \ndone \n### 2025-08-17 巡礼行程初步确定 \nP5巡礼的路线基本定下来了。酒店、机票、船票也直接定下来了。需要继续细化。 \n\n\n## 项目资源\n","tags":["旅行","日本","单人游"]},{"title":"世界巡礼","url":"/posts/da922f9b.html","content":"# 世界巡礼\n> 世界很大，多出去看看\n\n\n## 项目列表\n```dataviewjs\n// 获取当前笔记名称（不含.md）\nconst currentNoteName = dv.current().file.name.replace(\".md\", \"\");\n\n// 查询所有链接到当前 project 笔记的 `type=project` 笔记\nconst projectPages = dv.pages()\n    .where(p => \n        p.type === \"projects\" &&\n        p.file.outlinks.some(link => link.path === dv.current().file.path)\n    )\n    .sort(p => p.file.cday, 'asc'); // 仍按创建时间排序\n\n// 状态显示函数（基于 done 状态）\nfunction getStatusIcon(project) {\n    return project.done ? \"✅ 已完成\" : \"🟡 进行中\";\n}\n\n// 进度显示函数（支持多种格式）\nfunction getProgressDisplay(project) {\n    if (project.done) return \"▮▮▮▮▮ 100%\";\n    if (!project.progress) return \"▯▯▯▯▯ 0%\";\n    \n    // 处理不同进度格式\n    if (project.progress.includes(\"▮\")) {\n        return project.progress;\n    } else {\n        const percent = parseInt(project.progress.toString().replace(/\\D/g, '')) || 0;\n        const filled = Math.floor(percent / 20);\n        return \"▮\".repeat(filled) + \"▯\".repeat(5-filled) + ` ${percent}%`;\n    }\n}\n\n// 结项日期显示函数\nfunction getCompletionDate(project) {\n    if (!project.done) return \" \";\n    if (project.completion) {\n        return dv.date(project.completion).toISODate();\n    }\n    if (project.file.mtime) {\n        return project.file.mtime.toISODate(); // 降级使用最后修改时间\n    }\n    return \"无记录\";\n}\n\n// 显示结果\nif (projectPages.length > 0) {\n    // 统计项目状态及关联笔记数量\n    const projectsWithNoteCount = projectPages.map(p => {\n        const noteCount = dv.pages()\n            .where(n => \n                n.type === \"notes\" &&\n                n.file.outlinks.some(link => link.path === p.file.path)\n            ).length;\n\n        return {\n            ...p,\n            noteCount,\n            status: getStatusIcon(p),\n            progress: getProgressDisplay(p),\n            completion: getCompletionDate(p)\n        };\n    });\n\n    // 计算统计信息\n    const doneCount = projectsWithNoteCount.filter(p => p.done).length;\n    const totalCount = projectsWithNoteCount.length;\n\n    dv.table(\n    [\"状态\", \"项目名称\", \"进度\", \"关联笔记\", \"创建时间\", \"结项日期\"], \n    [\n        ...projectsWithNoteCount.map(p => [\n            p.status,\n            p.file.link,\n            p.progress,\n            p.noteCount > 0 ? `📝 ${p.noteCount}` : \"无\",\n            p.file.cday.toISODate(),\n            p.completion\n        ]),\n        // 统计行（已修复）\n        [\n            `**${doneCount}/${totalCount}**`,\n            `**项目统计**`,\n            `**完成率: ${Math.round(doneCount/totalCount*100)}%**`,\n            \"\",\n            \"\",\n            `**最近结项: ${\n                projectsWithNoteCount\n                    .filter(p => p.done)\n                    .sort((a, b) => (b.file?.mtime || new Date(0)) - (a.file?.mtime || new Date(0)))\n                    [0]?.completion || \"无\"\n            }**`\n        ]\n    ]\n\t);\n} else {\n    dv.span(`当前领域笔记没有链接到任何项目笔记`);\n}\n\n```\n\n## 项目日志\n\n","tags":["旅游"]},{"title":"不要害怕讨论，充分交流可以减少走弯路。","url":"/posts/f718ab89.html","content":"记录一次工作有感。\n自己吭哧吭哧写了两三天方案，自以为自己方案写的很完美，画了很多图。\n结果一讨论，好家伙，根本没有必要。\n\n完全可以用复杂度更低的方式实现90%的功能，而且风险还小。\n\n所以，一定不要闭门造车。\n在开发过程中多交流，多讨论。很多时候，别人的一句话可能就会点醒你一种更好的结果。\n","tags":["工作","芯片","开发"],"categories":["工作经验"]},{"title":"衣柜利用分析","url":"/posts/2fa72900.html","content":"衣柜不大，需要利用好  \n\n<!--less-->\n\n# 衣柜利用分析\n关联项目:   [打造一个舒适的窝](认真生活/舒适的家/打造一个舒适的窝.md)\n## 衣物收纳箱选择\n**右侧柜子**\n- 最上面两格，宽75cm，高35cm。比较高，没有什么利用价值，拿来存放不常用的衣物。\n\t- **选择无印的衣物收纳箱刚好，箱子长度37x35x32，那么就可以一格放两个。**\n- 中间格，放置物品待定。\n- 下方，带挂架。挂各种厚衣服外套。\n\n**左侧柜子**\n- 最上方柜子也是拿取不方便，放置物品待定。\n- 中间作为最高频使用的位置，挂所有正在穿着的衣服裤子。**此处衣架不够，需要增补宜家的衣架。**\n- 下方格子用来放高频使用的背包好了。\n- 最下方的两个抽屉目前是放袜子内裤，不过以后可能换到床底下放感觉更好。**此处可以增加收纳的小盒子，但是床还没到，所以无法确定尺寸。**\n","tags":["家居","舒适的家"],"categories":["舒适的窝"]},{"title":"小香入住计划","url":"/posts/8bed0c66.html","content":"\n# 小香入住计划\n[舒适的家](认真生活/舒适的家.md)\n\n## 项目计划\n- [x] #TODO 完成阶段二迁移  [due:: 2025-07-06]  [completion:: 2025-07-15]\n- [x] #TODO 完成阶段一迁移  [due:: 2025-07-06]  [completion:: 2025-07-08]\n- [x] #TODO 迁移物品分析  [due:: 2025-07-06]  [completion:: 2025-07-06]\n- [x] #TODO 建立项目计划  [due:: 2025-07-06]  [completion:: 2025-07-06]\n\n## 项目笔记\n```dataviewjs\n// 获取当前笔记名称（不含.md）\nconst currentNoteName = dv.current().file.name.replace(\".md\", \"\");\n\n// 查询所有链接到当前 project 笔记的 `type=note` 笔记\nconst notePages = dv.pages()\n    .where(n => \n        n.type === \"note\" &&\n        n.file.outlinks.some(link => link.path === dv.current().file.path)\n    )\n    .sort(n => n.modify, 'desc'); // 按修改时间排序\n\n// 计算统计信息\nconst totalNotes = notePages.length;\nconst completedNotes = notePages.filter(n => n.done).length;\nconst recentUpdated = notePages[0]?.file.mday.toISODate() || \"无记录\";\n\n// 显示结果\nif (totalNotes > 0) {\n    dv.table(\n        [\"状态\", \"笔记名称\", \"最近修改\", \"进度\"], \n        [\n            ...notePages.map(n => [\n                n.done ? \"✅ 已完成\" : \"🟡 进行中\",\n                n.file.link,\n                n.file.mday.toISODate(),\n                n.progress || \"无进度数据\"\n            ]),\n            // 统计行\n            [\n                `**${completedNotes}/${totalNotes}**`,\n                `**笔记统计**`,\n                `**最近更新: ${recentUpdated}**`,\n                ` `\n            ]\n        ]\n    );\n} else {\n    dv.span(`当前 project 笔记没有链接到任何笔记`);\n}\n\n```\n\n## 项目日志\n### 2025-07-13 搬家基本完成 \n只剩下一个显示器还没能挪过来 \n### 2025-07-06 建立计划 \n让Deepseek协助分析了，如何用两周的时间完成逐步迁移。我计划最开始直接带东西住过去，然后每天搬一点东西过去。 \n\n## 项目资源\n\n"},{"title":"运动日常化","url":"/posts/6739503f.html","content":"\n# 运动日常化\n**关联领域**: [身心健康](认真生活/身心健康.md)\n\n## 项目计划\n- [x] #TODO 休息一周，看看情况。  [due:: 2025-09-04]  [completion:: 2025-09-04]\n- [x] #TODO 日常化运动第五步，结合饮食。  [due:: 2025-08-25]  [completion:: 2025-09-04]\n- [x] #TODO 日常化运动第四步，固定运动周期。  [due:: 2025-08-17]  [completion:: 2025-08-25]\n- [x] #TODO 日常化运动第三步，兴趣推动：更多健身器械  [due:: 2025-08-02]  [completion:: 2025-08-17]\n- [x] #TODO 日常化运动第二步，继续保持  [due:: 2025-07-05]  [completion:: 2025-07-15]\n- [x] #TODO 日常化运动的第一步，复健  [due:: 2025-06-23]  [completion:: 2025-07-05]\n- [x] #TODO 建立项目计划  [due:: 2025-06-23]  [completion:: 2025-07-15]\n\n## 项目笔记\n```dataviewjs\n// 获取当前笔记名称（不含.md）\nconst currentNoteName = dv.current().file.name.replace(\".md\", \"\");\n\n// 查询所有链接到当前 project 笔记的 `type=note` 笔记\nconst notePages = dv.pages()\n    .where(n => \n        n.type === \"notes\" &&\n        n.file.outlinks.some(link => link.path === dv.current().file.path)\n    )\n    .sort(n => n.modify, 'desc'); // 按修改时间排序\n\n// 计算统计信息\nconst totalNotes = notePages.length;\nconst completedNotes = notePages.filter(n => n.done).length;\nconst recentUpdated = notePages[0]?.file.mday.toISODate() || \"无记录\";\n\n// 显示结果\nif (totalNotes > 0) {\n    dv.table(\n        [\"状态\", \"笔记名称\", \"最近修改\", \"进度\"], \n        [\n            ...notePages.map(n => [\n                n.done ? \"✅ 已完成\" : \"🟡 进行中\",\n                n.file.link,\n                n.file.mday.toISODate(),\n                n.progress || \"无进度数据\"\n            ]),\n            // 统计行\n            [\n                `**${completedNotes}/${totalNotes}**`,\n                `**笔记统计**`,\n                `**最近更新: ${recentUpdated}**`,\n                ` `\n            ]\n        ]\n    );\n} else {\n    dv.span(`当前 project 笔记没有链接到任何笔记`);\n}\n\n```\n## 项目日志\n### 2025-09-06 休息效果不好 \n没有运动，可能导致我饮食、睡眠都不是很好？这周过的并不怎么样，甚至失眠很严重。下周恢复运动。 \n### 2025-09-04 本周暂停了健身房运动，只保持一次周三的羽毛球。 \n让身体舒缓一下，放松一下。这周运动量不大，重点关注饮食是否控制即可。 \n### 2025-09-02 睡前测量体重 64.5 \n很明显的低于65了，这段时间的运动加饮食控制效果非常好。目前取得一定成效了，后续继续保持。我的目标是降到62kg。\n\n### 2025-08-31 持续进行中，本周控制的还不够完美。 \n这周有几次晚上吃撑了，不太好。下周因为脚受伤了，不能跑步打球，所以更需要专注在控制饮食上。半分饱即可。 \n\n### 2025-08-25 饮食加大限制 \n本周的目标就是，坚持工作日吃少，吃清淡。运动照常。 \n\n### 2025-08-17 每周运动执行的不错，体重有下降 \n一周运动至少4次以上，做的比较好了。而且饮食方面更佳健康，一日三餐正常吃，只是会注意主食的摄入量。今天称了一下，体重是回到65左右了，比较满意。接下来就是继续保持这个常态运动，再过一个月可以见分晓。 \n\n### 2025-07-05 坚持运动两周了，好的开始\n两周，都是周一、二、四健身房，周三打球，周六别的运动。反正运动量比之前多多了。吃的控制的也好了不少，晚上睡前有饥饿感。\n\n### 2025-06-23 今天开始执行每日运动的目标。\n第一天，完成了健身房跑步\n\n## 项目资源\n","tags":["运动","健身","健康","跑步"]},{"title":"打造一个舒适的窝","url":"/posts/22b96b3f.html","content":"\n# 舒适的窝\n**关联领域**: [舒适的家](认真生活/舒适的家.md)\n\n## 项目计划\n- [x] #TODO 按照梳理的收纳计划，完成收纳  [due:: 2025-09-01]  [completion:: 2025-09-02]\n- [ ] #TODO 统计打造开销 [due:: 2025-08-23]\n- [x] #TODO 房屋收纳分析，各种收纳位置应收纳什么物品。  [priority:: highest]  [due:: 2025-08-31]  [completion:: 2025-08-31]\n- [x] #TODO 桌下插座分析  [due:: 2025-08-04]  [completion:: 2025-08-04]\n- [x] #TODO 桌下柜分析  [due:: 2025-08-04]  [completion:: 2025-08-25]\n- [x] #TODO 纸巾收纳分析  [due:: 2025-08-04]  [completion:: 2025-08-04]\n- [x] #TODO 测量衣物收纳箱尺寸  [due:: 2025-07-16]  [completion:: 2025-07-17]\n- [x] #TODO 洞洞板使用分析  [due:: 2025-07-06]  [completion:: 2025-07-11]\n- [ ] #TODO 床头氛围打造  [due:: 2025-09-30]\n- [x] #TODO 分析是否增补展柜  [due:: 2025-07-06]  [completion:: 2025-08-04]\n- [x] #TODO 选择书桌侧边柜  [due:: 2025-07-06]  [completion:: 2025-07-16]\n- [x] #TODO 购置书桌  [due:: 2025-07-06]  [completion:: 2025-07-11]\n- [x] #TODO 购置床架  [due:: 2025-07-06]  [completion:: 2025-07-11]\n- [x] #TODO 购置床垫  [due:: 2025-07-06]  [completion:: 2025-07-11]\n- [x] #TODO 绘制空间布局图  [due:: 2025-07-06]  [completion:: 2025-07-11]\n- [x] #TODO 选择书桌  [due:: 2025-07-06]  [completion:: 2025-07-11]\n- [x] #TODO 选择床架  [due:: 2025-07-06]  [completion:: 2025-07-11]\n- [x] #TODO 选择床垫  [due:: 2025-07-06]  [completion:: 2025-07-11]\n- [x] #TODO 计算桌面需求  [due:: 2025-07-06]  [completion:: 2025-07-11]\n- [x] #TODO 建立项目计划  [due:: 2025-07-06]  [completion:: 2025-07-06]\n\n## 项目笔记\n```dataviewjs\n// 获取当前笔记名称（不含.md）\nconst currentNoteName = dv.current().file.name.replace(\".md\", \"\");\n\n// 查询所有链接到当前 project 笔记的 `type=note` 笔记\nconst notePages = dv.pages()\n    .where(n => \n        n.type === \"notes\" &&\n        n.file.outlinks.some(link => link.path === dv.current().file.path)\n    )\n    .sort(n => n.modify, 'desc'); // 按修改时间排序\n\n// 计算统计信息\nconst totalNotes = notePages.length;\nconst completedNotes = notePages.filter(n => n.done).length;\nconst recentUpdated = notePages[0]?.file.mday.toISODate() || \"无记录\";\n\n// 显示结果\nif (totalNotes > 0) {\n    dv.table(\n        [\"状态\", \"笔记名称\", \"最近修改\", \"进度\"], \n        [\n            ...notePages.map(n => [\n                n.done ? \"✅ 已完成\" : \"🟡 进行中\",\n                n.file.link,\n                n.file.mday.toISODate(),\n                n.progress || \"无进度数据\"\n            ]),\n            // 统计行\n            [\n                `**${completedNotes}/${totalNotes}**`,\n                `**笔记统计**`,\n                `**最近更新: ${recentUpdated}**`,\n                ` `\n            ]\n        ]\n    );\n} else {\n    dv.span(`当前 project 笔记没有链接到任何笔记`);\n}\n\n```\n\n\n## 项目日志\n### 2025-09-04 房间收纳初步完成。 \n东西并没有那么多，还有很多收纳空间。为未来打下了扎实的基础。 \n### 2025-09-01 进行了房屋收纳规划 \n找Deepseek根据我的房屋情况，给出了收纳的规划。 \n\n\n## 项目资源\n","tags":["家居","舒适的家"]},{"title":"迁移物资整理","url":"/posts/e6aa86c3.html","content":"让Deepseek给了我一段搬家建议。\n\n<!--less-->\n\n# 迁移物资整理\n关联项目:   [小香入住计划](认真生活/舒适的家/小香入住计划.md)\n## 分阶段搬运计划（建议每日耗时1-1.5小时）\n\n| 阶段  | 天数      | 重点搬运物品          | 技巧提示         |\n| --- | ------- | --------------- | ------------ |\n| 1   | 第3-4天   | 卧室必需品（当季衣物、床品）  | 提前在新家布置好床铺   |\n| 2   | 第5-6天   | 浴室用品+清洁工具       | 先完成新家首次深度清洁  |\n| 3   | 第7-8天   | 厨房基础器具（微波炉/电饭煲） | 保留旧家1套餐具备用   |\n| 4   | 第9-10天  | 工作区物品+部分电子产品    | 重要文件建议单独手提运输 |\n| 5   | 第11-12天 | 客厅小件+装饰品        | 利用鞋盒装小物件     |\n| 6   | 第13天    | 最后检查+植物/宠物      | 植物建议白天运输     |\n|     |         |                 |              |\n\n\n## 阶段1-初步入住\n- [x] 一周的衣物\n- [x] 日常用品\n\t- [x] 牙刷，网购\n\t- [x] 毛巾，网购\n\t- [x] 浴巾，网购\n\t- [x] 拖鞋\n\t- [x] 纸巾\n\t- [x] 被子\n\t- [x] 枕头\n- [x] 洗浴用品\t\n\t- [x] 沐浴露\n\t- [x] 洗发液\n\t- [x] 洗面奶\n- [x] 带一只鹅鹅\n- [x] 笔记本电脑\n\n## 阶段2-核心套件\n- [x] 台式电脑\n\t- [x] 主机\n\t- [ ] 显示器\n\t- [x] 鼠标键盘\n- [x] 清洁工具\n\t- [x] 扫帚\n\t- [x] 拖把\n- [x] 剩下所有的衣服\n\n## 阶段3-个人设备\n- [x] 相机、镜头\n- [x] 书\n- [x] 游戏盘\n- [x] 数码设备\n\t- [x] NAS\n\n## 阶段4\n- [x] 模型手办等","tags":["搬家"],"categories":["舒适的窝"]},{"title":"房东物品","url":"/posts/cc2db2c6.html","content":"# 房东物品\n关联项目:   \n## 标题\n天威光猫\n电动窗帘电机\n","tags":["家居"],"categories":["小香入住计划"]},{"title":"舒适的床","url":"/posts/a9b57d66.html","content":"想要一张质感与使用兼备的床。  \n\n<!--less-->\n\n# 舒适的床\n关联项目:   [打造一个舒适的窝](认真生活/舒适的家/打造一个舒适的窝.md)\n## 床\n精挑细选，选了一个充满实用性又不失设计（自认为）的胡桃木箱体床。\n床的规格选择了200x120x27规格的。\n虽然房间确实不大，放一张90宽的床可能可以获得更多的活动空间，但是90cm我连横着躺脚都放不下，实在是称不上舒适。\n因此最终还是选择至少120宽的床。\n\n## 床垫\n去试了宜家的床垫，感觉这种卷边的床垫，侧边都没有做加固，坐在床边的时候会下滑，我很不满意。\n然后意外在源氏木语试到了比较满意的床垫，偏硬，侧边加固不塌陷。\n后来专门牺牲了一个无效，又去了一家源氏木语的线下店试这个床垫，然后当场就选择下单了。\n这是一个以竹炭椰棕为主，上层有乳胶，下层独立弹簧组成的床垫，所以硬度我就很满意，然后又不会太硬，表层有2cm乳胶，所以很舒适。\n现在已经收到货了，睡着非常舒服，跟线下店体感一致，完美符合我的需求。\n\n没想到源氏木语的木制家居我完全摒弃，但是反而认可它的床垫呢。可能这反而有良心吧。\n\n## 枕头+被芯\n这次选了一套宜家的，也是线下实际试过的枕头。\n比较厚实，应该是属于？人体工学记忆海绵枕。\n躺着支撑感挺足的，感觉确实年纪大了，这些有支撑感的东西让我感觉更舒服。\n\n被芯就没有试了，只是根据网上的评价挑选了一个四季被，尺寸好像选大了，230x200的，不过这个尺寸是宜家推荐的，希望盖起来更爽。\n\n## 四件套\n本来是想换新的，更高级的。但最后发现我之前选的四件套质量已经很不错了。用到现在还很舒服，而且颜色更我现在的房间也相当搭配，所以就不准备换了。\n不过被套之前的尺寸比较小，所以还是得补一个。\n\n","tags":["家居"],"categories":["舒适的窝"]},{"title":"小红成长记录","url":"/posts/5ff6615c.html","content":"\n# 小红身高体重记录\n## 体重记录\n### 2025-08-27 体重227.5g，背甲10cm \n\n### 2025-07-26  体重223g，背甲10cm\n\n### 2025-06-30 体重208g，背甲10cm\n\n### 2025-05-21 体重196g，背甲10cm\n\n### 2025-04-20 体重179.5g，背甲9cm\n\n## 周期任务\n- [ ] #TODO 体重、背甲测量  [repeat:: every month]  [due:: 2025-09-20]","tags":["家有小红"],"categories":["家有小红"]},{"title":"我家红腿的居住环境如何？","url":"/posts/5fd70d3a.html","content":"# 物种名\n红腿陆龟\n\n# 环境尺寸\n90 * 45 * 45 CM\n\n![20250202_190606.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250202_190606.jpg)\n\n# 冷热区温度\n此处我准备使用加热灯的方式提供温度。\n整个缸分为3部分，热区、温暖区和冷区三个梯度区域。\n\n广东只有两种天气，设计温度区间如下：\n非冬季：热区温度约30℃，温暖区温度约27℃，冷区温度约24℃。\n冬季：热区温度约28℃，温暖区温度约24℃，冷区温度约20℃。\n热区是热源放置的位置，此处我会放置UVA(晒灯，100w)、UVB（10.0，15w），和一个陶瓷灯（75w）作为热源。\n\n其中，UVA和UVB两盏灯使用一个双灯罩，放置在饲养缸右侧上方，经过滤网后照射右侧40%的缸内空间。\n这两盏灯将会在白天定时开启12小时，只定时，不温控。\n通常白天开启的时候，缸内热区的温度就可以稳定在24~26℃（冬季）\n\n而陶瓷灯则是作为补充、保底热源，通过一个壁挂灯座挂在缸内的。\n它是接入温控控制的，温度上下限就是前面写的温度区间。\n而且它是完全无光的，在夜间使用也不会影响到爬宠。\n\n# 湿度\n主要是靠加湿器，另一个就是靠垫材，还有就是喷水。\n因为在广东地区，整体还是比较潮湿的，唯一可能干燥的时间段就是短暂的冬天。\n\n目前我的保湿策略如下：\n- 缸内放置一个大的水盆：即便整体的湿度不足，龟龟也可以通过水池的方式来给自己保湿。并且在晒灯下，水分持续挥发，一定程度上遏制了缸内湿度下降的速度。\n- 垫材主要使用椰土：保湿性极好。\n- 湿控加湿器：通过湿度控制器自动开关：当湿度低于设置的最小湿度60%后，加湿器通电开始喷出水雾，直到湿度回升大于设定最大值80%。加湿器主要是白天工作，因为白天开灯温度高，水分蒸发的比较快。到了夜间不需要开加湿，湿度也能维持在70%左右。\n- 喷壶手动喷水：直接用喷壶是极为高效的加湿方式，水雾模式喷洒缸内几秒即可维持较长时间的湿度。\n\n\n\n# 光照设计\n加热灯的选择：日光灯100W。\n由于这种灯的光是比较散的，在冬季，经过几个小时的加温，峰值也就25℃左右。没有达到我计划的冬季晒点温度28℃。\n不过我的热源还有一个陶瓷灯，那个灯是挂在缸内的，所以温度不足的部分由它来补足即可。\n\nUVB的选择：UVB 10.0 15W\n红腿陆龟属于弗格森2区，需要的UVI应该在0.7 ~ 1.0。\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250327234751.png)\n\n根据此数据，我再去寻找40cm这个距离下，哪个规格的UVB能够满足我的诉求。目前看下来，UVB10.0 15W这个规格应该是比较合适的。根据该规格的等辐射图，这个区间应该会获得大约13 ~ 27 μW/cm^2的UVB.\n这里我购置了Giangarden的UVB测试仪进行实测。将仪器放到晒台位置进行实测，测出来是20μW/cm^2，也就是0.8，达到弗格森2区的范围了。而且龟龟自身还有一定高度的，所以这里指数还会略微再高一些，肯定是满足要求了。\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250327234716.png)\n\n\n# 垫材\n考虑到保湿和绿植种植，垫材选择了：2斤泥炭土+8L椰土+2斤半块椰壳砖+9斤小颗粒红土，混合铺底。\n再盖上一层森林地表，保持龟龟身体清洁。森林地表选用了中颗粒，确保龟龟不会误食。\n额外的，我在龟龟的躲避屋下铺了椰棕垫，这个东西主要是保持屋内的干净，以防龟挖土啥的。\n\n# 背景墙设计\n只是一块岩石背景板，在板上种了点苔藓。\n纯造景，毕竟龟也不攀爬这个。\n\n# 绿植\n主要是造景和一定的保湿作用。\n绿植我购置的都是雨林类植物，没有铺设很多，毕竟我这是要养龟不是要造雨林缸。\n栽种了迷你椰树、狼尾蕨、菖蒲、阿波蕨。还有短绒藓，点缀在躲避屋、岩石背景板上。\n\n# 食盆、水盆\n食盆简单选用了一块岩板，足够大，跟垫材明显区分开，培养龟龟只吃这个岩板的东西，减少误食垫材的可能。\n水盆我选择了比较大的，放在缸中宛如一个小池子。\n大的水盆能装更多的水，不仅能够给龟龟提供饮水区域，还能维持环境的湿度。\n\n# 躲避屋\n考虑到龟龟的生长速度，我直接一步到位买了最大尺寸的陆龟躲避。  \n这里注意要买了圆拱形的，考虑到陆龟壳会拱起来占很多高度。\n躲避屋够大，阴影区也够大，能让小红腿完全藏身。\n\n# 饲养时间/年龄\n其实还没有养多久，今年春节后我才将它接到家里的。\n所以至今饲养了2个月，龟龟的年龄则大概是8个月。\n背甲目前是8~9cm。\n\n# 活跃时间/观察经验\n白天开灯的时间能看到它在多个地方逛荡，最常见的几个地方分别是：\n- 右侧的蕨草区，它喜欢趴在那里晒背？\n- 中间那个树桩加湿器旁边，它经常是斜着扒拉着树桩，不知道在想什么。\n- 在中间那块岩板上来回踱步，头瞅着我，不知道是不是在等开饭。\n- 如果想休息了会回到躲避屋的阴影区趴着。\n\n熄灯后则哪里都有可能趴着，好像不认床。\n![20250208_220613.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250208_220613.jpg)\n\n\n\n# 平日相处\n我每天都会给他温水泡澡，有时候泡澡它会排便。\n泡澡后再给它喂食：\n- 每天1颗龟粮（Mazuri牌陆龟粮5M21），泡软后放在岩板上让他自己吃。\n- 一周会奖励它一次水果/蔬菜，都是厨房有什么就给它拿什么，比如一片包菜、小半颗草莓、半颗葡萄啥的。\n- 一周会补一次钙粉，撒到泡软的龟粮上让它吃进去。\n\n完全不怕人，伸手摸它也不怎么躲。不怎么拿它到手上把玩。\n\n晚上看到我回家会靠近玻璃看看我，很治愈。\n\n周末天气好我会带它出门晒晒太阳，在草地上撒欢爬。\n![VideoCapture_20250328-001323.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/VideoCapture_20250328-001323.jpg)\n\n\n# 合法持证饲养\n本人从线下正规爬宠店购入的红腿陆龟，有芯片标识卡，合法持证饲养。\n\n","tags":["家有小红","宠物"],"categories":["兴趣杂谈"]},{"title":"Obsidian PARA改造思路","url":"/posts/b0a35424.html","content":"Obsidian 用了三百多天了，还在持续改进中。目前还是能感受到PARA的意义的。\n\n<!--less-->\n\n# 对于当前Obsidian笔记的PARA改造思路\n相关项目：[基于PARA法的任务管理架构实现](认真生活/笔记人生/基于PARA法的任务管理架构实现.md)\n## 记忆阵列\n存放的还是日记、周记、年记。\n目前日记好说，周记和年记做的不是很好，没有执行起来。\n是否能类似项目的方式去管理？这个待定。\n\n## 思维殿堂\n作为我思想的存放处，不需要做项目、领域的概念。\n每一篇笔记都是零散的也没有关系？\n此处还是可以考究的，如果是正在进行某些技术的学习，或者课题的研究，是否还是需要建立领域去维系？\n这个也待定。\n\n## 兴趣档案\n每一篇档案，就是一篇领域笔记。\n每一篇档案承载的是一件事物的信息，对于这件事物如果有正在进行的工作，那么就建立项目。\n\n## 文献仓库\n全部为剪藏文献，包括一些文章、语录。作为资源调用即可。\n\n## 创作空间\n以某个系列来建立领域，比如：\nEasyAXI系列视频、怪物猎人模型重涂、喵&汪的日常~ 绘画\n\n在对这个系列的某次具体工作建立项目，比如：\nEasyAXI 第五期 AXI Outstanding特性实现、灭尽龙历战王重涂、喵&汪 日本旅游篇等等\n\n## 认真生活\n一件需要长期管理的活动作为领域笔记\n如：小红的成长记录，而某一件具体的工作作为项目，如：2025年Q3 小红背甲、体重月度测量\n\n如：我的舒适小屋作为领域笔记，桌面整改计划作为项目。\n\n","tags":["笔记","PARA","Obsidian"],"categories":["方法学论"]},{"title":"哪些笔记应该做PARA化？","url":"/posts/d8e09664.html","content":"PARA是一个好的方法学，但不代表适用任何笔记内容。\n\n<!--less-->\n\n\n# 哪些笔记应该做PARA化？\n相关项目：[基于PARA法的任务管理架构实现](认真生活/笔记人生/基于PARA法的任务管理架构实现.md)\n## 1. 任务型笔记\n- 有明确的达成目标，有目的性获得某种结果。如，完成视频创作，制作生日礼物等。\n- 倾向于行动导向\n- 需要较长时间推进完成\n- 可以分解为多项具体行为\n- 有明确的完成时间，至少是计划完成时间\n- 进度可以跟踪\n\n这其实是在分析适合做Project的笔记，有了项目，那就有相应的领域。\n\n## 2. 学习型笔记\n- 有明确的领域，如数字芯片设计\n- 需要长时间推进完成；\n- 可以分散成多个项目推进领域扩张，如AXI、CHI、Cache……等一系列学习内容，均可独立项目\n\n## 3. 兴趣型笔记\n- 有明确的领域，如动漫、游戏\n- 长期关注，长期维护，可谓永无止境。比如会一直看新的动漫、玩新的游戏\n\n\n## 4. 资源型笔记\n- 具备参考价值，如各种文献\n- 灵感库，收集的创意、思维的发散点\n- 查询的资料，通常因为项目推进而发现，存档后链接到项目","tags":["PARA","Obsidian","方法论","笔记人生"],"categories":["方法学论"]},{"title":"好看可爱又能吃的老八，谁不喜欢呢？——《败犬女主太多了！》","url":"/posts/b4a0abff.html","content":"老八真可爱\n\n<!--less-->\n八奈见杏菜，人称老八，她实在是太青春太可爱了，值得我专门写篇文来记录她的可爱！\n\n# 伟大的[A-1 Pictures](https://zh.wikipedia.org/wiki/A-1_Pictures)献上了逆天的制作力  \n想必有不少人跟我一样，看第一集的时候被这段制作给震撼到了。  \n盛夏的蓝天白云，可爱的少女站在天台护栏边\n![电影滤镜般的朦胧感](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240812234835.png)\n\n她湛蓝的长发随风飘动，不知是在看向何人\n![特意去掉了描边线条的绘图](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240812235020.png)\n\n抬首间，看到她宝石般的眼眸\n![极致的神态描绘](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240812235332.png)\n\n她意识到你的到来，回首，挥挥手\n![脸上依旧挂着淡淡的悲伤](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240812235510.png)\n\n几句交谈，不经意间悲伤涌上心头，已是泪满流\n![泪花飞溅如珍珠](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240812235628.png)\n\n无法抑制的情感，无法抑制的泪。一段恋情的结束，也可能是另一端恋情的开端\n![宝石变得黯淡无光](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240812235821.png)\n\n\n蓝天，白云，盛夏，天台上的男女高中生。\n\n![青春，无需多言](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240812235944.png)\n\n# 活力的笑容是治愈人心得良药\n\n欠男主钱然后给他做饭，这种契约简直就是过一辈子的\n\n![奸商的笑容](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240813235925.png)\n\n\n俏皮可爱就是不太聪明\n![小机灵鬼的笑容](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240814000116.png)\n\n世界上只有青梅竹马和狐狸精，至理名言出现\n![看狐狸精的笑容（？）](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240814000159.png)\n\n为了安慰好伙伴，不惜搭上自己的胃，海吃湖喝，然后继续欠男主钱\n![胃口好的笑容（？？）](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240814000348.png)\n\n看你这得意的样子，真是太让人喜欢了\n![欠钱的笑容（？？？！）](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240814000504.png)\n![还怪漂亮的这个笨蛋](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240814000545.png)\n\n![得意的小表情哈哈](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240908205233.png)\n\n# 能吃还有好身材的谁不爱呢？\n\n这腿\n![意义明确的镜头](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240814000758.png)\n\n这战袍\n![蓝色系真的很爱](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240814000843.png)\n\n这笑容\n![awsl](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240814000939.png)\n\n这小肚腩\n![深渊啊](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240814001024.png)\n\n这一拳，定终身\n![吃着炒面真香啊，饿了](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240814001154.png)\n\n\n\n\n# 不失小心机的动作撩人心弦\n爱了爱了，上大分  \n![跟老八的互动太棒了](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240814001417.png)\n\n这笑容说真的，守护一辈子\n![蓝宝石的眼睛看着你](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240814001446.png)\n\n![宠溺的眼神，宠溺的笑](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240814001502.png)\n\n\n![男主这不可置信的样子笑死了](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240908204823.png)\n\n# 陪伴是最长情的告白\n本番最长的陪伴，毫无疑问就是老八啊\n希望最后能修成正果\n![这一眼，已经陷进去了](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240908205036.png)\n\n\n![上啊！！！她怂了！！](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240908205329.png)\n\n![她慌了她慌了！快A她](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240908205359.png)\n\n","tags":["动漫"],"categories":["兴趣杂谈"]},{"title":"至今为止我依旧认为，无职转生就是最好的异世界转生作品。","url":"/posts/1da22451.html","content":"鲁迪的人生旅程，就是无职的故事。\n\n\n<!--less-->\n\n> 鲁迪的人生旅程，就是无职的故事。\n\n绝大多数的异世界动漫，不过是寻找了一个舞台，一个剑与魔法的西幻舞台，讲述一段快乐的故事。  \n而无职转生才是真正的”现实太失败、太痛苦。幸运的是，身亡后意外穿越异世界，这一次我要好好重新过自己的人生。“的异世界转身题材作品。  \n\n# **认真的对待生死**\n---\n父亲为了救自己，死了。  \n母亲解救出来，但是痴呆了。  \n普通的作品，哪里会去认真刻画这些，还刻画的那么动人，那么的撕心裂肺。画面中无声的沉寂，死寂，看的我心一抽一抽的。也很难受。\n鲁迪再次陷入了绝望，虽然鲁迪从某种意义上讲，不是他们真正的孩子。\n但毫无疑问，保罗和赛妮丝是鲁迪的父母。\n本集标题《双亲》，更是无声地点名了联系。  \n很多异世界穿越的作品，对双亲的刻画几乎没有，可以说就是工具人。\n无职不仅有，还描述的很不错。\n![ED画面中，那份简单的爱](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240701221427.png)\n\n至第二季结束，父亲保罗的刻画毫无疑问，已经准确且完善了。接下来也不再有他的故事，已经化为一抔尘土。\n![保罗最后还是笑着离去的](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240701221127.png)\n![绝望的](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240701221245.png)\n\n而母亲赛妮丝，其实除了第一季开头一段外，描述的也不是那么丰富。但是看过小说的我知道，后面的剧情中，赛妮丝虽然痴呆了，但那种亲人间的情感一直存在，刻画的其实很生动，敬请期待后续剧情的发展。\n\n\n\n# **认真的对待感情**\n---\n第二季第24话，鲁迪背负着父亲的死、洛琪希的爱回到了自己的家，回来见自己的妻子、妹妹们。  \n![死寂的情绪，通过灰暗的画面表达](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240701215117.png)\n\n他认真的传递了悲伤，认真的向着自己的爱人交代、恳求同意取洛琪希为妻。他是真的成长了，没有回避现实的残酷和尴尬，而是背负着这一切，面对他们，好好的向前生活着。\n![认真准备和希露菲交代的鲁迪](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240701215230.png)\n![已经察觉但也认真面对的希露菲](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240701215321.png)\n![虽然觉得自己很无耻，但还是希望能被认可这段爱的洛琪希](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240701215436.png)\n\n事情很顺利（这里我就忽略妹妹的情绪），希露菲第一时间就接受了洛琪希。虽然从现代人的眼光来看，这是开后宫，是一夫多妻，是应该被批判。后面还有爱丽丝呢，到时候就是三个老婆了，值得批判！  \n但我一直认为在这种异世界、中世纪风的剑与魔法世界，完全没有必要把现代人的制度强加上去。  \n我看这类作品，批不批判这个后宫，只看这段感情讲的怎么样。  \n如果是那种龙傲天题材，收后宫那哪里有什么感情基础，只要男主有实力，自动会有一对妹子贴上来。  \n而无职转生不一样，我认为鲁迪娶三个老婆，是因为他真的有三段真挚的爱情。且鲁迪为了她们都是付出了性命去珍惜的。\n\n**他值得这份爱，这是我的观点。**\n\n\n\n# **认真的，在这个世界活着**\n---\n很多很多的异世界作品，我觉得看的很轻松的原因就是，他们根本就是来玩的。他们只是把异世界当作一个游戏去看待。\n当然，由于很多异世界作品就是看个爽，什么系统一大堆，这能不让人觉得是游戏才怪咧。\n\n而无职，鲁迪，是真的来到了这个世界。但他真正在这个世界活着，其实是第二季最后一集了。\n在这一集中，他的第一个孩子，出生了。自己的血肉降生在世上的那一刻，他才真正与这个世界有了强烈的联系。他是切切实实的，是这个世界的人了。\n![人妻感爆棚的希露菲](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240701215917.png)\n\n另外就是，鲁迪在保罗墓前喝酒说的话，以及这一话的标题《继承》。  \n鲁迪不再带着前世的记忆，用看陌生人的眼光，看待这个世界了。  \n他真正的，会努力，在这个世界活得更好。珍惜一起他应该珍惜的失误\n![承认自己的不成熟，是成熟的前兆](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240701220110.png)\n\n后面这段风吹动了鲁迪，仿佛保罗在身后拍了拍他的肩膀，说“那就都交给你了”\n\n![保罗在身后拍了拍他的肩膀，说“那就都交给你了”](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240701220216.png)\n\n\n# **何时我才能看到转折点四**\n---\n第三季也已经宣布制作，很开心~期待  \n","tags":["动漫"],"categories":["兴趣杂谈"]},{"title":"香格里拉边境 为什么让我兴奋","url":"/posts/3b1a7464.html","content":"\n\n香格里拉边界荣升我十月最期待新番，着实拿捏了我对于虚拟网游的幻想，就像当年的刀剑一样。\n\n\n<!--less-->\n\n## 游戏，是我生活的一个重要旋律。\n\n从小学一年级开始，我就在楼上大哥哥的指导下，玩上了冒险岛这个网游，至今我都偶尔会上线玩一玩。当然，国内游戏环境实在太差了……这就是另外的话题了暂且跳过。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230710215416.png)\n\n\n总之，网游这个东西我玩了很多年了，特别是角色扮演游戏MMO，在网络中，扮演一个非现实的角色和其他玩家一起冒险，打怪，看NPC的故事，会给我带来极大的快乐~\n\n冒险岛、龙之谷、剑灵、最终幻想14、激战2、魔兽世界、艾尔之光、彩虹岛、黑色沙漠……人生二十来年，也是辗转过多个异世界了呢。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230806171854.png)\n\n\n所以游戏类的网文，也一直都是我的心头好。经典的《网游之纵横天下》、《网游之贼行天下》、《全职高手》、《网游之近战法师》、《惊悚乐园》……一个游戏网络世界，可能就是最对我胃口的世界设定。这几本书我都重看了不知道多少遍了……\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20231028235238.png)\n\n那么在动漫里，相关的也不少了其实。尤其是在《刀剑神域》的带领下，虚拟现实游戏类的动漫漫画轻小说作品那是层出不穷，《OVERLORD》至今还是我最喜欢的动漫/轻小说之一。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20231028235301.png)\n\n就是要这种大型角色扮演！MMO的网游！丰富的世界观，精细的职业技能，精彩的剧情，广阔的探险空间~太对我胃口了。而《香格里拉边境》，就是我时隔多年看到的新的网游动漫。\n\n## 香格里拉的冒险\n动漫全称：[香格里拉边境～粪作猎人向神作游戏发起挑战～](https://www.themoviedb.org/tv/205050)\n男主是一个「粪作猎人」，喜欢玩各种粪作游戏，挑战不合理还能得到极大的快感。在通关了某部粪作后，为了换换口味，男主这次向神作「香格里拉边境」发起了进攻，在游戏的过程中，遇见了许多奇特的冒险。\n\n撰写本文的时候已经看到第四集了，真的一跃成为我最期待的2023年10月新番。\n\n男主是那种操作类玩家，追求极致的输出，脆皮，刀尖添血的那种。动漫也很好的制作出了精彩的打斗，使用完美格挡和巨型boss鏖战的打戏可谓是前三集的巅峰剧情。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20231016231840.png)\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20231016232056.png)\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20231023234734.png)\n剧情中出现的boss也很有魄力，其他玩家角色绘制的也很好看，最重要的是，那种游戏氛围塑造的特别好。\n角色加点的分析、装备的选择、独特剧情的展开，看的我是真的过瘾！\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20231016231650.png)\n还有这只兔兔，太可爱了~\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20231016231949.png)\n\n看游戏题材的动漫和小说，其实也就是想通过“玩”以外的方式，享受到游戏的乐趣，而《香格里拉边境》它做到了。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/DSCF2416.jpg)\n\n该动漫其实是有原作漫画的，在日本旅游的时候刚好看到过它的超大海报，可见其原作实力充足，我觉得动漫是真的可以好好期待下去，期待下周的播出。\n","tags":["动漫","游戏"],"categories":["兴趣杂谈"]},{"title":"养一只红腿象龟以前，我需要做好哪些准备","url":"/posts/f32ec8c.html","content":"# 写在开头\n## 它是你的宠物，还是观赏物？\n这个话题我不展开，请各位自行根据自己的情况做选择。\n\n在我这边，它是宠物。\n宠物是一种主要供个人陪伴的动物，我希望能跟它建立好的情感关系。\n龟这类宠物，只要看着它吃好喝好一天天长大，就能给我提供情绪价值了。\n再来就是熟悉我、信任我，不要天天躲着我，或者总是想着咬死我，那就养的相当成功啦。\n\n原本我只养了一只小鳄龟，养了一年啦，目前看来养的还算成功？它是一只可以摸头的乖宝宝。\n今年计划再入一只红腿陆龟，年后就能到我家啦。\n当然，是正规爬宠店购入，合法持证饲养。\n\n在等待它到来前，我也做了比较充足的准备来迎接它。花的钱比养鳄龟时多多了。。\n毕竟相对于小鳄龟这种比较耐好养活的，陆龟的饲养难度着实上升了不少。\n## 本文无广，无产品对比\n我列出来的，就是我实际用的。\n没有货比三家，没有商家给我广告费。\n因此，文中提到的设备我都不会描述具体品牌，主要分析的是规格。\n\n# 品种篇\n## 老版？樱桃？\n目前市面上有红腿陆龟（老版红腿）和樱桃红腿两个品类。\n根据大部分资料描述，樱桃红腿相较老版红腿有一下几个差异（未经过勘误）：\n1. 樱桃红腿的头部更红，老版红腿一般为黄色；\n2. 樱桃红腿的背甲更圆润，老版红腿会出现葫芦腰，雄性比较明显；\n3. 樱桃红腿可能爆白，老版红腿不会；\n4. 樱桃红腿腹甲大面积黑，老版红腿腹甲以黄色为主。\n4. 樱桃红腿成体最大约30cm，老版红腿可成长至40cm往上。\n![樱桃红腿鲜艳的头部](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250106223600.png)\n\n市场上樱桃红腿价格更贵，各个商家也比较推荐（吹嘘？）樱桃红腿更好更适合饲养。\n但从我个人角度来看，无论是樱桃还是老版，成体后都很好看。而且从海外的大量视频来看，这些爱好者均不纠结是樱桃还是老版，对红腿的喜爱都是相同的。\n\n因此，我甚至更倾向于饲养老版红腿，因为我喜欢大的。目前家中已经养了一只小鳄龟，该品种也是能长到40cm往上的，所以我希望养的陆龟也是有这个最终潜力。\n\n\n## 所谓爆白\n一般来讲，就是指乌龟生长速度过快导致龟壳黑色色素沉淀时间不足，呈现大面积的白色部分。\n据部分饲养者的说法，爆白只是幼龟发育过程中的一种现象，在成体以后会逐步变黑，最终无差别。（未经过勘误）\n只有樱桃红腿会爆白，老版红腿不会。\n可以看看自己喜欢什么样的，貌似有些玩法是专门培养爆白纹路。\n我个人是不太喜欢，黝黑的背甲更符合我的审美。\n![爆白也很漂亮的背甲](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250106223749.png)\n\n\n# 环境篇\n## 饲养箱选择\n市面上常见的有PVB箱、木箱、和玻璃缸。\n个人认为玻璃缸是观赏性最好的，但最不便利的。\n\n最终我选择使用常规的爬宠玻璃缸进行饲养，\n\n### 饲养箱尺寸分析\n根据英国两爬协会提供的爬行动物最小饲养尺寸指南，陆龟需要的饲养空间尺寸应为：**8 x 4倍 腹甲长PL**\n那么一只腹甲长度20cm的红腿陆龟需要的饲养空间大小应为：160x80cm长宽\n![陆龟尺寸](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250106225042.png)\n此外，广东这个地方其实是比较潮湿的，仅仅在短暂的冬季会比较干燥，所以缸内还需要注意通风。\n当然，在保证了通风的同时，就导致了冬季很难保湿。这个难题后续会再分析。\n\n具体的，我选择的了一个90\\*45\\*45CM规格的箱子。该箱子顶部、两侧均设置了网格风道，因此对通风有一定帮助，适合东南沿海比较温暖、潮湿的地区。\n这个规格属于一步到位型，本人居住在城市中，没有院子之类的环境散养红腿，因此咬咬牙选择大的饲养缸，希望能够给它提供一个还算自由的空间。\n但是，由上述分析可见，我准备的这个90\\*45\\*45CM其实按道理只能勉强养一只腹甲12cm的红腿，而这个尺寸可能成长1年就超过了……\n对此我暂时没有太好的办法，只能说住房就只能那么大，最多平时放它在家里散散步。\n\n![RK0119 90*45*45CM](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250106230447.png)\n\n## 温度\n### 温度需求分析\n红腿象龟在自然界中栖息在热带雨林和热带草原的过渡区之间，如林中空地或沿水路。对环境温度具备较强的适应性，栖息地**温度在20~35℃。**\n\n> 红腿象龟的首选栖息地按地区有所不同，但一般包括温度接近30°C的地区，很少低于20°C或超过35°C，同时喜爱高湿度、雨量充沛的地方，尽管一些地区可能相当干燥。大多数的栖息地内可能会遇到较冷的雨季（4月到8月）和温暖干燥的季节（9月至3月），但只有部分的南部范围内偶有寒流。——引自维基百科\n\n### 温度梯度规划\n此处我准备使用加热灯的方式提供温度。搭建环境温度的方案参考了其他资料比较完备的爬宠环境，如蓝舌。\n如下图所示【待补充】，整个缸分为3部分，热区、温暖区和冷区三个梯度区域。\n\n广东只有两种天气，设计温度区间如下：\n- 非冬季：热区温度约32℃，温暖区温度约28℃，冷区温度约24℃。\n- 冬季：热区温度约28℃，温暖区温度约24℃，冷区温度约20℃。\n\n热区是热源放置的位置，此处我会放置UVA(晒灯，100w)、UVB（10.0，15w），和一个陶瓷灯（75w）作为热源。\n\n其中，UVA和UVB两盏灯使用一个双灯罩，放置在饲养缸的上方，经过滤网后照射右侧40%的缸内空间。\n这两盏灯将会在白天定时开启12小时，只定时，不温控。通常白天开启的时候，缸内热区的温度就可以稳定在26℃（冬季）\n\n而陶瓷灯则是作为补充、保底热源，通过一个壁挂灯座挂在缸内的。\n它是接入温控控制的，温度上下限就是前面写的温度区间，加热到温暖区就够了。\n而且它是完全无光的，在夜间使用也不会影响到爬宠。\n\n冬季的时候，温度低于20℃才开启，加热到24℃就会断开了。一般来讲，只会在深夜、凌晨那段最低温时间，才会低于20℃。所以这个灯工作通常都不工作的，只有深夜工作一会，确保温度不会太低。\n\n龟并没有那么的脆弱，存在昼夜温差对于生物来讲是很正常的。\n不过在苗子阶段，温度最好还是保持的再高一点。避免在身子还比较虚弱的时候受到太大的刺激。\n\n![双灯罩，白天同时开启](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250106234613.png)\n\n\n### 温度相关设备\n- UVA灯（日光灯，100w）\n- 陶瓷灯（75w），无光热源，适合夜间加温\n- 壁挂灯座，可悬挂于缸内\n- 双座灯罩，可以放置在缸顶隔热网上。适用于希望同时开关的两种灯，如UVA+UVB\n- 温控器，只接陶瓷灯，用于设置温度区间，最好能按白天、黑夜分开设定。通常我会让夜间温度比白天低4℃。\n- 定时器，只接UVA+UVB，这两个灯不需要温控，也不能用温控，常开即可。\n\n\n## 湿度\n### 湿度需求分析\n红腿象龟在自然界中栖息在热带雨林和热带草原的过渡区之间，如林中空地或沿水路。对环境湿度有较高要求，建议维持在70~80%，如果湿度过低可能会导致隆背。\n\n> 红腿象龟的首选栖息地按地区有所不同，但一般包括温度接近30°C的地区，很少低于20°C或超过35°C，同时喜爱高湿度、雨量充沛的地方，尽管一些地区可能相当干燥。大多数的栖息地内可能会遇到较冷的雨季（4月到8月）和温暖干燥的季节（9月至3月），但只有部分的南部范围内偶有寒流。——引自维基百科\n\n### 湿度控制手段\n湿度这方面没什么可说的，一个就是加湿器，另一个就是靠垫材，还有就是喷水。\n因为在广东地区，整体还是比较潮湿的，唯一可能干燥的时间段就是短暂的冬天。\n\n目前我的保湿策略如下：\n1. 缸内放置一个大的水盆：即便整体的湿度不足，龟龟也可以通过水池的方式来给自己保湿。并且在晒灯下，水分持续挥发，一定程度上遏制了缸内湿度下降的速度。\n2. 垫材主要使用椰土：保湿性极好。\n3. 湿控加湿器：通过湿度控制器自动开关：当湿度低于设置的最小湿度60%后，加湿器通电开始喷出水雾，直到湿度回升大于设定最大值80%。\n4. 喷壶手动喷水：直接用喷壶是极为高效的加湿方式，水雾模式喷洒缸内几秒即可维持较长时间的湿度。注意不要对着湿度计喷，放置湿度计内残留水渍影响判断。\n\n非冬季期间，靠垫材加简单的物理加湿方式就能顶得住。\n日常保持喷水，人不在就放个水盆、干苔藓盒，确保龟龟能够自己找到加湿的地方应该就OK了。\n![放置一个大水盆](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250119_173927.jpg)\n\n冬季的时候，因为白天的时候缸内要开晒灯，所以湿度会降的比较快。\n在白天开着晒灯的情况下，先通过喷壶喷一次水，达到80%湿度后，最多只能维持湿度在60%以上1个小时。\n因此白天的时候必须同时开着加湿器。它的工作机制是每1个小时喷雾10分钟。实际上大约喷雾5分钟，就能够将湿度从59%抬到80%。\n麻烦的地方在于，这种喷雾的加湿效果维持的时间很短，不像喷壶那样实际有很多水残留在表面，能够继续挥发维持湿度。\n所以虽然湿度抬到80%以上，但大概20分钟就会跌落低于60%，然后重新触发湿度控制，再次开启。\n加湿器这样频繁开关，也是有点恼人。而且这个加湿器加湿的时候噪音还是比较明显的。\n对此目前也没有什么太好的办法，冬天只能这么熬过去吧。\n\n到了晚上，湿度的问题就会好很多。\n因为不需要继续开晒灯了，这时候椰土垫材的保湿能力就会体现出来。\n睡前甚至不需要用喷壶喷一次水，缸内湿度就可以持续保持在70%以上。\n所以晚上是可以把加湿器关掉的，增加续航。\n![一觉睡到9点，湿度还稳定在70%以上](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250119_092044.jpg)\n\n\n### 湿度相关设备\n- 湿度控制器：接加湿器，低于60%开启，高于80%关闭\n- 加湿器：喷雾型、雨淋型均可，根据缸的造景和个人喜好选择\n- 又浅又大的水盆：浅，是为了爬宠不会笨死在里面。大，是为了容纳更多的水，在晒灯下能挥发更长时间。\n- 保湿垫材：椰土等，根据个人喜好选择。\n- 喷壶：常规的种植喷壶即可，水雾状喷洒几秒，就可以快速提高湿度。\n\n## UVA灯（晒灯）\n单独聊UVA灯，是因为灯具的选择需要根据具体的环境数据进行。前面虽然规划好了温度梯度，但如何实现这样的环境，就需要仔细分析灯的使用。\n\n在购置灯的时候，我发现商家经常不会把灯的数据明确写在商品页面上，这对我挑选灯的规格带来了巨大的困扰，只能咨询客服给些意见（但不少客服其实根本不懂）。\n而且尤为搞笑的是，我把灯实际买到家后，灯的包装上其实是明确的写了：在多少距离下大概是多少温度。\n就非要我先买才能获取相应的资讯？真的是浪费时间。\n\n去外网官网查询倒是轻松获取到这个信息了，如下图的一个太阳灯，一看就就可以初步判断，我这个高45cm的箱子，如果用这个100W的灯，产生的温度高达38℃，不符合需求。而且考虑到垫材和晒台的高度，实际灯的距离应该在40cm左右。\n\n当然，这个图也只能作为参考，初步分析一下。真的数据还得买回来实际测量一下，毕竟温度这些东西跟我们所在的环境也是有很大关系的。\n![在REPTI ZOO官方网站的商店中，则明确给出了示意图](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250106235630.png)\n\n最终，加热灯的选择：**日光灯100W**。\n由于这种灯的光是比较散的，在冬季，经过几个小时的加温，峰值也就25℃左右。没有达到我计划的冬季晒点温度28℃。\n不过我的热源还有一个陶瓷灯，那个灯是挂在缸内的，所以温度不足的部分由它来补足即可。\n![日光灯100W 40cm晒台实测](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250112234803.png)\n\n\n\n## UVB灯\n按照各位爬圈大佬的科普，UVB主要根据弗格森区判断需要的UVI指数\n搜索一下关键文献：《Reptile and Amphibian Working Group  UV-TOOL》。\n从文章中可以直接看下总结部分\n![Ferguson’s zone](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250107001203.png)\n![红腿陆龟属于弗格森2区](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250107001559.png)\n补充一个中文表格更方便看，是冬青大佬专栏文章里的\n![冬青大佬整理的中文表格](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250107001340.png)\n\n\n研究到这里就会发现，红腿陆龟在整个爬宠界都是有名的存在？好多文献中都以红腿陆龟作为了陆龟的一个代表列出名字。\n得幸于此，我们可以明确判断，红腿陆龟属于弗格森2区，需要的UVI应该在0.7 ~ 1.0。\n根据此数据，我再去寻找**40cm**这个距离下，哪个规格的UVB能够满足我的诉求。目前看下来，**UVB10.0 15W**这个规格应该是比较合适的。根据该规格的等辐射图，这个区间应该会获得大约13 ~ 27 μW/cm^2的UVB.\n\n![UVB灯距表](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250108231924.png)\n\n\n\n**问题来了，这怎么对应上前面说的UVI 0.7 ~ 1呢？**\n\n根据冬青老师的视频可以了解到，UVI和UVB的比例大概是1：25μW/cm^2 。当然，这个比例只能参考，不同灯具厂商实际制造的比例不一定按这个来。最合理的还是直接测量一下。所以上面的13 ~ 27 μW/cm^2计算过来那就是0.52 ~ 1.08，而我的距离应该在40cm，所以不会达到30cm这个最大值，不会超过1的范围。\n\n### UVB数据实测\n前面的内容都是理论计算，下面我直接拿实际的灯具和仪器做了测试，来验证上面的分析是否正确。为了给龟龟打造最合适的环境，也算是下血本了（仪器贼贵。。。\n\n现在用来测试的灯是reptizoo的UVB5.0 26W。为什么是这个灯呢？我上面不是分析要UVB10.0 15W吗？\n那是因为我买这个灯的时候还没有经过仔细的研究学习，而通常来讲会推荐雨林型的爬宠使用UVB5.0的灯具。然后我考虑到缸比较高，灯的距离远，所以还特意挑选了26W。\n\n看包装上画的图，跟我上面的图是一致的。那么根据标注，现在这个UVB5.0 26W，在45cm的时候应该是10 μW/cm^2。\n\n![产品包装上的灯距表](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250108_232835.jpg)\n\n接着是测试仪器，买的是Giangarden的UVB测试仪。这个也是经过冬青老师测试过的，有发布视频，测试准确度还不错。\n![Giangarden的UVB测试仪](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250108_232922.jpg)\n\n下面就是测试的结果了，第一张图片是直接把仪器放在灯正下方缸底。我这个现在是空缸，所以距离其实就是45cm左右。\n测试结果显示的是UVB的数据，现在是8 μW/cm^2。跟标注的的10 μW/cm^2还算接近。\n![UVB5.0 26W实测数据1](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250108_232844.jpg)\n第二张图片是用灯泡的盒子垫了一下仪器放在灯正下方缸底。盒子的厚度差不多就是5cm，所以距离其实就是40cm左右。\n现在是12 μW/cm^2，图上标的是30cm->16，45cm->10，所以这个40cm->12感觉还是挺合理的。\n![UVB5.0 26W实测数据2](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250108_232854.jpg)\n\n测试结果可以看出来，，这个UVB5.0 26W的灯确实不符合需求，12μW/cm^2 按照1：25折算换算的话UVI才0.45左右。而红腿陆龟属于弗格森2区，需要的UVI应该在0.7~1.0，所以不够。因此还是得买那个UVB 10.0 15W才行。\n\n最终，UVB灯具选择：**UVB 10.0 15W**，将仪器放到晒台位置进行实测，测出来是20μW/cm^2，也就是0.8，达到弗格森2区的范围了。而且龟龟自身还有一定高度的，所以这里指数还会略微再高一些，肯定是满足要求了。\n![UVB 10.0 15W实测数据3](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250112234347.png)\n\n\n\n\n## 垫材\n红腿陆龟作为雨林型爬宠，是有较高湿度需求的，所以在选择垫材的时候需要考虑到保湿性。\n因为之前我也养过一只寄居蟹，所以对于椰土这种垫材已经相当熟悉了。椰土的保湿性是很好的，价格也十分便宜，一块椰砖顶天了十来块钱，泡水以后可以铺一整缸，缺点在于容易生虫，所以最好不要单独使用。\n这个陆龟缸我会考虑栽种一些绿植作为造景和保湿，所以会补充一些腐殖土。\n\n最终，垫材选择：**2斤泥炭土+8L椰土+2斤半块椰壳砖+9斤小颗粒红土，混合铺底，再盖上一层森林地表。** \n额外的，我在龟龟的躲避屋下铺了椰棕垫，这个东西主要是保持屋内的干净，以防龟挖土啥的。\n![椰土砖](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250112232108.png)\n\n![大汉泥炭土](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250112232151.png)\n![之前给寄居蟹用剩下的椰壳砖](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250112232239.png)\n\n垫材铺好以后浇水，把土略微浇透。即便不需要加湿器，缸内湿度可以自然稳定在50%以上。\n当然，红腿的湿度要求一般说是70% ~ 80%，但整体环境就可以保证50%的话，对龟龟来讲至少是安全的了。\n![未喷水情况下，湿度维持在60%以上](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250112_232350.jpg)\n\n\n## 食盆、水盆\n食盆简单选用了一块岩板，足够大，跟垫材明显区分开，培养龟龟只吃这个岩板的东西，减少误食垫材的可能。\n当然，我最上面一层垫材已经是大颗粒的森林地表了，小龟根本不可能误食。\n![岩板食盆](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250112232645.png)\n水盆我选择了比较大的，放在缸中宛如一个小池子。\n大的水盆能装更多的水，不仅能够给龟龟提供饮水区域，还能维持环境的湿度。\n![浅但宽的水盆](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250113000011.png)\n\n## 躲避\n考虑到龟龟的生长速度，我直接一步到位买了最大尺寸的陆龟躲避。\n这里注意要买圆拱形的，陆龟不是其他爬，壳会拱起来占很多高度，跟蜥蜴、蛇等爬是不一样的。\n![拱形躲避](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250112232921.png)\n别看这个好像还挺大的，实际上可能对18cm背甲大小的龟龟来讲就是极限了。\n这里我放了16cm的小鳄龟做了下测试，真的就是恰好能睡进去吧，头可能都得暴露出来了。\n![鳄龟模特对比图](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250112233151.png)\n\n## 绿植\n这个属于非必须品，主要是造景和一定的保湿作用。\n绿植我购置的都是雨林类植物，没有铺设很多，毕竟我这是要养龟不是要造雨林缸。\n栽种了迷你椰树、狼尾蕨、菖蒲、阿波蕨。还有短绒藓，点缀在躲避屋、岩石背景板上。\n数量上要克制，因为种多了占用龟的活动空间，可能直接被扒出来了。就像放鳄龟进去试水的结果如下……\n![蕨类绿植点缀](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250112_181328.jpg)\n\n# 喂食篇\n红腿的食谱是比较广阔的。与几乎所有种类的陆龟不同，红腿陆龟实际上是杂食性的。\n\n> 红腿象龟的大部分饮食都是果实或种子荚。常见的食物有水果、萝蔓 仙人掌、无花果、金合欢、槟榔、番荔枝、蔓绿绒及凤梨等。而经常在粪便发现水果亦有五种。红腿象龟是会吃掉整个水果而不吐核，此举有助传递的种子及发芽。而红腿象龟亦被发现会在住所的果树下等待水果在树上掉下。\n> \n> 其余的食物包括草、叶、花、根、芽及各式各样的植物以及真菌，亦会吃无脊椎动物（如蚂蚁、白蚁、甲虫、蝴蝶、蜗牛和蠕虫）、腐肉和狐狸粪便。红腿象龟亦经常被发现会进食尸体，直到吃饱，偶尔会吃较小的动物，如蛇、啮齿动物等。粪便中亦会发现卵石和沙。\n> \n> 饮食习惯会根据季节而转变。在湿润的季节中，它们可能是大约会进食70％的水果及25％的新鲜的叶、芽和其余为真菌和动物性食品。在干燥的季节则会吃40％的水果，23％的花，16％的新鲜的叶，芽、真菌、苔藓及动物性食品。\n> \n> 对杂食性的龟而言，如果它们不能在饮食中获取足够的钙，便会寻求一直钙含量高的食物，甚至会吃含矿物质的土壤。\n> ——引自《维基百科》\n\n## 日常食谱\n为了培养感情，我计划每天喂食。\n主食就是龟粮，将一粒接近乌龟头部大小的龟粮泡软即可。\n同时为了保证多样性，对于红腿陆龟，应该提供大约 70% 水果、25% 绿色蔬菜、5% 蛋白质的饮食。\n食物的多样性对龟龟健康非常重要，而红腿居住在雨林环境，能吃的东西更多。即便是水分较多的水果，它也完全没问题。\n\n最终菜单如下：龟粮+一颗水果+两片蔬菜，水果蔬菜都看家里有啥就给啥，不刻意准备。\n每周添加一次钙粉，混在食物中。\n\n下面会具体分析具体的食谱。\n\n## 龟粮\n龟粮，这里选择的是爬宠店店主推荐给我的，Mazuri牌陆龟粮5M21（老款）。\n该龟粮几个关键的数据是：粗蛋白15%、粗纤维18%、钙1%、磷0.6%。\n这个配比比较通用，对红腿陆龟来讲足够了。\n该品牌还有所谓新款，其实是针对沙漠型陆龟的高粗纤维版本，红腿其实不需要。\n甚至在查阅产品官网的时候，可以明确看到：该规格产品适用于红腿陆龟。\n所以，妥了，就它了。\n![Mazuri陆龟粮](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250114001448.png)\n\n\n## 水果、蔬菜\n高水分的水果和蔬菜毫无疑问是红腿陆龟的最爱，只是要注意控制量，这些东西的水分和糖分太高了。\n主食还是得用龟粮，水果蔬菜作为辅助丰富多样性，切忌只喂果蔬。\n大部分蔬菜水果瓜类都能接受\n\n可以食用的水果如下：草莓、蓝莓、芒果、哈密瓜、西瓜、香蕉、苹果、番茄、葡萄，一次一块差不多。\n可以食用的蔬菜如下：常规叶菜，如：生菜、羽衣甘蓝、花椰菜，一次两片差不多；其他的如黄瓜、胡萝卜、南瓜都可以，一次一小块。\n\n## 蛋白\n红腿是可以吃动物蛋白的，偶尔喂一些就好了。\n最简单的，直接给它喂鳄龟粮就可以了哈哈哈，泡开即可。鳄龟粮里都是高蛋白的。\n\n\n## 钙质\n陆龟食谱中，最适宜的钙磷比应该是2:1。这并不意味著食谱中的精确比例应该如此，而是强调需要摄入丰富的钙。摄入足量的磷并不是一个问题，因为植物中普遍富含了足够的磷。\n陆龟有别于其他动物对于食物的钙磷比需求，因为陆龟是拥有甲壳的。而甲壳主要就是由钙和磷两种元素组成的。\n大部分的陆龟营养失调问题都因为缺乏钙质吸收。成长期的陆龟需要更多的钙质，可以在每一餐都添加适量的钙。\n补充钙质有许多种方法，但必须同时补充维生素D3，钙质的代谢吸收依赖于维生素D3。\n有些补钙产品中会添加大量的维生素D3，但是在过量的维生素D3会导致过量的钙质吸收，而过多的钙质会出现滞留在组织和关节中的情况。因此补钙也需要控制。通常来讲，只需要一周一次在饭中加钙粉即可。\n另外也可以选择墨鱼骨，让它自己啃，还能锻炼它头部肌肉群，并研磨嘴部角质层。\n\n# 结语\n生命可贵，希望大家都能对自己的爬宠好一点。\n花时间精力去研究如何才能给他们提供更好更舒适的环境，不仅对龟好，对自己而言也是一种成长。\n希望我这次打造的陆龟缸能让红腿龟龟满意。","tags":["爬宠","宠物","陆龟"],"categories":["兴趣杂谈"]},{"title":"从来就没有什么事情是白费的。","url":"/posts/ff845ada.html","content":"——《我们的重制人生》第四卷读后感\n生活在前进，事态在发展，无论好坏，皆有其价值。\n\n<!--less-->\n\n# 从来就没有什么事情是白费的。\n[我们的重制人生](兴趣档案/轻小说/我们的重制人生.md)\n## 再读一遍，更为感动。\n近期重新阅读了《我们的重制人生》这部我非常喜欢的轻小说。\n先是看了最后一卷，把结局补完了，再回过头来从第一卷开始阅读，感觉非常好。\n虽说是轻小说，但作者阐述的生活道理还是非常到位的，并不是凭空捏造的，对我有一定的触动。\n\n## 尤其是对男主角色的形象塑造\n真的很充实。\n\n看到最后一卷的时候，过往的经历，曾经对同伴说过的话，拨开云雾的意志，都很好的呈现了男主的成长。\n他努力过，逃避过，但最终总是会为了同伴而再次站上战场。\n\n但更惊喜的是，我回过头来看第四卷，看到男主恭也的第一次成长时刻，也有一定的收获\n\n恭也在被送到另一个未来后，看到伙伴们都离开了创作的赛道，失去了”原本“那个未来的辉煌，而陷入了深深的自责。因为他也并非一个没有责任感的人，但这种人也非常容易陷入牛角尖，觉得一切都是自己的错，一切责任都应该自己背负。明明已经全力为他人着想、奋斗，但一旦失败却总想着自己吞下苦果，将罪过拦在自己的身上。\n\n## 还好，有河濑川。\n我真的蛮喜欢河濑川的，如果是我，我会选她。\n她怒斥恭也，\n\n>”你的存在就是个错误？那怎么可能呢，你要是那么说的话，那你帮助我的事也是一个错误吗？“\n>**”从来就没有什么事情是白费的。“**\n>她露出了恶作剧似的笑容，朝着大门走去，留给我一个飒爽的背影。\n\n真的，是个直爽的妹子啊，我好喜欢她的性格。\n还好有河濑川，才能拯救恭也。\n而且，是两次啊！\n\n第四卷，最后一卷，都是由河濑川发起的事件才将恭也卷入到战场上。\n这也算是一种首位呼应吧。\n![screenshot-1750481422769.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/screenshot-1750481422769.png)\n\n\n## 每个人都应该为自己的人生负责\n并非你所经历过的未来才是唯一正确的未来。\n在河濑川的全力倾诉下，恭也终于理解了自己的所作所谓，并非什么错误。 \n不同的选择回来带不同的结局，不同的结局也并非只有一种才是幸福的结局。\n\n> 我一直以为，自己对他人的人生负有责任。所以，对未来感到了绝望。\n> 这是因为我直到它们原本的命运，而我的到来则改变了一切。\n> 可是，决定人生价值的不是别人，而是自己。它们再那个未来，即便是有我的思想和行动的介入，也自己做出了人生的选择。而我将其评价为不幸，乃是一种明显的傲慢\n> ……\n> **——从现在起，我们的重制人生，正式开始了。**\n![screenshot-1750605914359.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/screenshot-1750605914359.png)\n\n## 没有什么事情是白费的\n所以要珍惜已经发生的每一件事情。\n回顾，总结，反思，精炼。\n做笔记，写日志，为的也是这些。\n\n确实，我有很多事情做的不够好，不够努力，不够坚持。\n\n意志力薄弱，健身不成功，练琴不持续，视频更新慢……等等等等，\n不要懊悔，不要自暴自弃，不要觉得为时已晚。\n正视过往，继续前进。\n\n> 我决不限制自己。我会用尽自己的全部智慧寻找答案，然后全力追求。\n> 只要那是我的真心，就一定会得出一个结果。\n\n生活在前进，事态在发展，无论好坏，皆有其价值。\n","tags":["轻小说","人生感悟","观后感"],"categories":["轻小说"]},{"title":"我的2024各平台年度游戏总结","url":"/posts/bf5415af.html","content":"今年还是玩到不少好游戏的，很开心。\n\n<!--less-->\n\n# Switch\n## 年度游戏：圣兽之王\n今年Switch的使用频率确实不高，大部分时间都在吃灰。唯一让我投入时间的游戏是《圣兽之王》。这款战棋类游戏非常符合我的口味，角色和兵种丰富，晋升系统和装备系统也很有深度。战斗前的策略规划让人感到非常过瘾，画风也很有特色。虽然我还没有通关，但这款游戏无疑是我在Switch上的年度最佳。\n\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20241201185055.png)\n\n# PS5\n\nPS5今年的游戏阵容非常强大，全都是3A大作：\n\n- **黑神话 悟空**\n    \n- **艾尔登法环：黄金树幽影**\n    \n- **最终幻想7：重生**\n    \n- **博德之门3**\n    \n- **赛博朋克2077：往日之影**\n    \n\n## 年度游戏DLC：黄金树幽影\n\n作为一个DLC，黄金树幽影的地图庞大，探索乐趣高（尽管奖励较低），BOSS数量多（虽然有些设计不尽如人意）。我在游玩时非常投入，喜欢慢慢探索整个幽影地。这种魂类游戏的探索体验独一无二，非常符合我的口味。\n\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250223235612.png)\n\n## 年度游戏：黑神话 悟空\n\n黑神话 悟空不仅是我国第一个正经的游戏大作，抛开文化情怀，它本身也是一款非常优秀的游戏。BOSS战数量多，失败惩罚较低，角色性能强，战斗手感棒（以上均为相较黄金树幽影而言）。这款游戏无疑是我在PS5上的年度最佳。\n\n![20240902001023.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240902001023.png)\n\n# Steam\n2024年新增的游戏平台是Steam，因为二手入了一台SteamDeck OLED，大幅扩展了我的PC游戏库。\n## 年度游戏：暗喻幻想\n年度最佳游戏毫无悬念，是《暗喻幻想》。虽然剧情相对简单，但游戏性非常出色：\n\n- 战斗系统有趣且具有挑战性。\n    \n- 职业系统丰富，多种特色职业搭配的合体技是构建的核心。\n    \n- 出场角色丰富，类似女神异闻录，主角与众多角色建立联系，有故事，有陪伴。\n    \n\n此外，游戏的UI设计非常酷炫。虽然一开始觉得有点闪有点晃，但长时间游玩后发现并没有困扰我，反而让我感受到精美的艺术和流畅的动效。虽然没有超出我的预期，但《暗喻幻想》无疑是一部优秀的JRPG游戏。\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20241201181150.png)","tags":["游戏","年度总结"],"categories":["兴趣杂谈"]},{"title":"暗喻幻想，质朴而王道的幻想篇章","url":"/posts/90cf254f.html","content":"\n\n# 第一感受，就是王道\n从游玩试玩版开始，就觉得这个游戏也太古朴了。\n估摸着，阿特拉斯觉得开启一个新IP还是要以稳为主，所以游戏开篇剧情非常朴实地展开了：国王驾崩，王子遇刺，男主觉醒，伙伴觉醒，王位战争……\n没有什么出人意料地设计，而且剧情太赶，前期还显得觉醒非常突兀，所以感受并不是很好。\n![20241012000358_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20241012000358_1.jpg)\n\n我对于RPG的剧情要求还是比较高的，所以暗喻幻想给我的第一印象很一般，序章我都慢慢玩了好一会才打完。\n不过事实证明，王道也没什么不好。\n\n# 第二感受，花里胡哨\n指的毫无疑问是UI，人设，美术。\n阿特拉斯一如既往的时髦值爆表，各项画面都充满了大片色块的填充，很酷炫，真的很酷炫，一开始还有点不适应，觉得画面花里胡哨闪啊闪啊闪的，但实际游玩一段时间以后就不存在不适合感了，可以尽情享受这种极致时髦的UI界面\n![20241013014141_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20241013014141_1.jpg)\n![20241119235145_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20241119235145_1.jpg)\n\n![20241012001021_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20241012001021_1.jpg)\n\n# 第三感受，似曾相识\n前面也提到了，从剧情上讲，过于王道了。没有什么太大的爆点，前期就是公路片，几大都城依次走一遍。每一座城市发生一段故事，然后在限定时间内通关迷宫。这个流程和女神异闻录系列是完全一致的，时间驱动系统，所以非常熟悉了。迷宫的话，因为我都是简单难度，所以除非有机制限制，我都是一次打到底。\n剩下的等待时间，那就是用来推动coop剧情，看看和主角建立关系的伙伴们发生的故事。如果有资质限制，那么就参加点活动来提升属性点。\n总之就是女神异闻录那一套，玩起来可以说是没有任何区别了。对此我表示满意，因为我还挺喜欢这套的。\n![20241012191417_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20241012191417_1.jpg)\n\n\n# 第四感受，战斗有趣\n毫不夸张的说，暗喻幻想我最喜欢的就是战斗。\n除开剧情，战斗甚至是支撑我一直玩下去的东西之一。\n战斗系统是继承的真女神转生那个系列，这个我没有玩过，所以还觉得比较新鲜。\n相较于女神异闻录的”硬“回合制，真女神转生这套战斗更灵活，不局限于每个人行动一次，而是由行动点作为资源，自由排布每个人的行动。如果跳过行动，只会消耗一个行动点，后期也有专门的装备、技能来控制行动点的消耗情况，比如只消耗半个，合体技只消耗一个，以及增加行动点，这构建了战斗系统的核心。\n行动点越多，能做的花活越多，可以上满buff，集中一个主力输出爆发，实现一回合秒BOSS。后期也确实是这样，集中资源给男二斯特罗尔，后期简直就是剑圣，一刀暴击秒天秒地。\n![20250130121539_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250130121539_1.jpg)\n![20250205131401_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250205131401_1.jpg)\n\n\n# 第五感受，渐入佳境\n当主线剧情逐步推进，相关的角色也逐渐饱满了起来。\nCOOP的伙伴齐了以后，还是很期待它们相关剧情的推进的。\n自由活动时间我都会选择看伙伴剧情，现在的剧情选项没有死扣好感度了，只要推进了就行。因此选项可以更加自由，可以凭借自己的喜好和扮演的感觉来选择，代价仅仅是收到的强化资源多少罢了。\n伙伴随着剧情饱满起来后，再跟它们一起冒险就更有趣了，这一点暗喻幻想塑造的还可以，至少每个角色都是完整的故事。\n比较可惜的还是，剧情不够出彩吧，只能说太保守了。基本上看了开头前几章的剧情，结局就已经可以猜到了。\n![20241229132407_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20241229132407_1.jpg)\n到了这个阶段，角色的培养也起来了。\n主力角色们的阿基态开发的差不多了以后，战斗就轻松了不少。\n各项属性全体攻击，各种buff，以及合体技，都开发的差不多了。战斗起来就比较随心所欲，比较享受了。\n这个阶段刚刚觉得，暗喻幻想的公路片还挺有趣的。\n![20241117010952_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20241117010952_1.jpg)\n![20241105045623_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20241105045623_1.jpg)\n# 第六感受，剧情加速\n可惜的是，剧情还是太短了……\n不知道是不是开发时间不足，抑或还是太保守。\n主线剧情到了第五个大城市，就突飞猛进了，我感觉本来应该至少还有2个城市的。\n没想到第五个剧情，直接就让大反派路易，把二反派那个福登给直接捅死了，毫无逼格的就死了。\n你说一个大教皇，怎么可能不是个大boss嘛？结果吧唧一下就直接弄掉了，感觉血亏一个boss副本。\n后面就是主角真实身份暴露……妈的男主怎么可能不是王子嘛，这个也是开头就猜到了。\n不过惊喜还是有一点的，不是说单纯的王子失忆啥的。而是王子的”幻想“，”幻想“代替他在外冒险，最后王子死了直接合并到幻想身上，幻想就真的成了王子本人啦。这设定也还算合理吧，回扣游戏主题”幻想“。幻想的力量，就能解释一切吧哈哈，不较真了。\n![20241229125627_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20241229125627_1.jpg)\n\n![20250201230010_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250201230010_1.jpg)\n\n\n# 第七感受，王道反派\n说回这个反派路易。\n嗯，从一而终啊。\n开头就一副要灭世的样子，最后也真真切切的是在筹备着灭世的活动，也差点给他灭了。\n只能说，日式游戏里灭世太常见了，所以也没什么意外。\n后期也解释了他，其实跟男主一样，就是真正的人类，爱达尔族。但是他被灭族了，那恨全世界很正常嘛\n不过呢，主角团肯定是充满希望的，这里也懒得吐槽了，日式剧情就这样吧，翻来覆去就那些\n说实话，不知他人恨，莫劝他人善。但不管怎样这个boss还是得打的。\n路易帅是帅，当反派就堂堂正正当到最后，没有反转，挺好的\n![20241107000407_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20241107000407_1.jpg)\n![20241228215634_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20241228215634_1.jpg)\n![20250201230423_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250201230423_1.jpg)\n\n\n\n\n# 第八感受，王道收场\n最终BOSS战，反正就是酷炫吧。\n总共需要打路易三个阶段，因为后期战斗数值已经超模了，只要叠好BUFF一刀下去至少半条血，最多两个回合就可以干掉。\n除非有一些机制锁血，否则真没什么难度了。\n![20250317224511_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250317224511_1.jpg)\n![20250318211651_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250318211651_1.jpg)\n\n毫无疑问，主角团打败了路易。这里倒是和P5有点像，最后大家都不是正常体型了，而是很酷炫的那种超大型机甲。\n最后主角一刀带走了路易\n![20250318223710_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250318223710_1.jpg)\n\n\n![20250318223713_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250318223713_1.jpg)\n\n帅气，这个画面还是很有冲击力的。跟P5很像，最后撒旦耶尔那一枪的风采。\n![20250318223724_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250318223724_1.jpg)\n\n# 最终感受，及格，但期待更多\n成为国王，国家变得更好。\n非常正常的结局，美好且充满幻想。\n真的感觉非常非常保守了这一部剧情，特别正，特别王道。\n![20250318224403_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250318224403_1.jpg)\n\n日后谈也还不错，大家都有美好的生活，走出了过去的阴影。\n![20250326210420_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250326210420_1.jpg)\n今后，大家一起为了玛丽亚第一共和国而努力吧！玛丽亚真可爱~\n![20250326210658_1.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250326210658_1.jpg)\n作为新IP的第一部，我觉得剧情还凑合吧。\n不过整体的系统打造的已经挺不错的了，希望能坚持下去开发第二部。\n虽然第一部这个剧情已经很完整了，也不知道第二部能讲什么。\n但想到八方旅人，八方的第一部剧情也很垃圾，第二部就进步了非常多了。\n\n期待第二部","tags":["游戏","暗喻幻想","Atlus","JRPG"],"categories":["兴趣杂谈"]},{"title":"ARM memory属性的理解","url":"/posts/2957f6bf.html","content":"\n\n\n在看ARM的各种技术手册中，会多次看到对于memory属性的描述，诸如Cacheable、Allocate、Device nRnE等等。本文主要以CHI中的MemAttr、SnpAttr域段，展开对memory属性的学习。\n\n<!--less-->\n\n\n## 参考文献\n[ARM各种Memory类型理解 - 知乎](https://zhuanlan.zhihu.com/p/353995383)\n[Cache知识整理-Read-Allocate/Write-Allocate_IC小牛牛的博客-CSDN博客_write allocate](https://blog.csdn.net/weixin_43936338/article/details/119774287)\n[Write-back，Write-through及write allocate_wenxiaohua_supper的博客-CSDN博客](https://blog.csdn.net/wenxiaohua_113/article/details/110069428)\n[CHI到底是干嘛的 保证cache一致性 2.3 snoop_数字芯片设计与验证－－关易寿的博客-CSDN博客_cache一致性的 chi协议](https://blog.csdn.net/q876507447/article/details/122285902#:~:text=%E6%89%80%E4%BB%A5chi%E5%8D%8F%E8%AE%AE%EF%BC%8C,%E8%87%B4%E6%80%A7%E7%9A%84%E4%B8%80%E4%B8%AA%E7%B3%BB%E7%BB%9F%E3%80%82)\n\n\n## CHI中对属性的描述\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230108124646.png)\nmemattr和snpattr，在CHI的协议层通道域段中，是有单独表述的。\n### MemAttr\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230108124813.png)\n根据链接，可以看到memattr(memory attributes)，涵盖的是EWA(early write acknowledgement)，Device，cacheable和allocate这几个属性的信息。\n\n#### EWA\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230108130254.png)\n\nEWA主要是针对写事务响应的来源进行了指示，\n这部分内容主要与保序机制相关。\n\n写事务完成与否，是需要给出反馈的，\n这里的early，涵盖的意思就是写完成响应能不能提前返回。\n什么叫提前返回呢，这里涉及到CHI总线的结构，\n当某个请求节点发出写事务，会经过中间节点，然后再发给实际进行写的节点，比如一个ddr memory。\n\n那么，如果写完成响应，是在写数据实实在在的到达了ddr memory以后才发出，这就属于标准的完成响应。\n如果，在写事务从中间节点发出了， 不管有没有真的写到ddr memory，都算写事务完成了，然后中间节点直接返回了一个写完成响应，那么这就叫做提前返回。\n\nEWA指示的就是，本次事务能不能提前返回写完成响应。\n\n\n#### Device\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230108130246.png)\n\ndevice属性是和normal memory相对应的概念。\n\nDevice，就是设备。表面这段memory空间是一个设备在使用的。\n这里简单理解就是，它不是一个单纯的存数据的memory空间。\n很多Device memory空间，里面放的是对这个设备进行控制的信息，比如是否使能这个设备。\n所以对于这种Device属性，会有很多特殊的要求，比如保序要求会更高。\n\nnormal memory就是我们普通概念的内存，如DDR。\n\n#### Cacheable\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230108130237.png)\n\n顾名思义，就是可缓存性。\n\n如果一个事务访问的memory空间是可缓存的，这代表该段内存的数据在cache中也有，\n本次事务可以先去看看cache里面数据是否有效，如果能直接从cache中把数据读走，那就最好了。因此访问cache的速度是远快于访问内存的。\n\n#### Allocate\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230108130231.png)\n关于allocate，需要展开说说Read-Allocate/Write-Allocate\n它指示的是在访问cache以后发生的行为。\n\n假定现在进行读事务，访问cache miss了，\n如果是Read through，即直接从内存中读取数据；\n如果是Read allocate，则需要先把数据读取到Cache中，再从Cache中读数据。\n\n如果是写事务，则不太一样，需要分为hit和miss的情况，\nhit的时候看的是Write through还是Write back。\nmiss的时候看是否Write allocate。\n\n\n假定现在进行写事务，访问cache hit了，\n如果是Write through，就把数据同时写到Cache和内存中；\n如果是Write back，则先只把数据写到Cache中，等到释放这个cache的时候，才把修改后的内容刷新到内存中。\n\n写事务访问cache miss了，\n如果是Write allocate，就先把要写的数据载入到Cache中，等到释放这个cache的时候，才把修改后的内容刷新到内存中。\n\n一般，Write Allocate与Write Back一起使用，No Write Allocate与Write Through一起使用。\n\n### SnpAttr\n这个属性域段就比较简单，与snoop行为相关\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230108131539.png)\n这个东西倒是在CHI中才有，CHI协议全称是Coherent Hub Interface。\n重点就在这个coherent一致性上，该协议用来确保Cache的一致性。\n而Snoop就是CHI实现一致性维护的机制，这里就不展开说明了。\n\n这个域段就是用来描述本次事务是否会进行snoop。\n\n### 汇总\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230108132251.png)\n这个表中还讲了下order，这里的保序是CHI中使用的，就不进一步展开了。\n看这个表，前面的多种属性描述，最终会汇总为一个Memory type属性。\n\n## AXI相关属性描述\n### AxCACHE\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230108132115.png)\n在AXI总线协议中，主要是在AxCACHE这个域段中对事务的memory属性进行了定义。\n这边会简单一点，因为没有一致性维护的工作。保序机制也不是通过这个属性域段实现的。\n可以看到，这边最后也是汇总描述为memory type，\n可以对比看一下上面那个表，它是非常接近的，\n\n所以说，ARM整个架构中，对于memory属性的描述是有一套非常丰富的机制的，\n如果要将各种协议融汇贯通使用起来，对memory 属性的深入理解应该是必不可少的。\n\n\n\n## ARM架构手册相关描述\n关于memory属性最全面的描述，那当然还是在ARM架构手册中\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230108132837.png)\n在B2.7这一个章节中，对所有的memory 属性表述都进行了说明\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230108132921.png)\n内容实在是太多了，本文讲不完，以后再针对性的进行学习。","tags":["ARM","MMU"],"categories":["技术笔记"]},{"title":"对Stage1页表属性attrindex理解","url":"/posts/d429f5fd.html","content":"\n\n\nstage1的页表最低位属性用的是AttrIndex，而在stage2的页表属性用的是MemAttr。\n这样设计的原因可能是为了减少无效化操作。\n\n<!--less-->\n\n\n\n\n在看ARM VMSAv8的时候，注意到一个有意思的地方。\n最后获取到page或者block的时候，属性域段中，\nstage1的页表最低位属性用的是AttrIndex，\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230105231054.png)\n而在stage2的页表属性用的是MemAttr\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230105231311.png)\n\n这两者主要是什么区别呢，也不是很难理解，\n像下面这个，4bit的MenAttr直接就表示memory类型，\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230105231427.png)\n高2bit用来区分Device和normal memory的类型。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230105231505.png)\n低2bit用来具体细分是什么device或normal memory类型。\n\n这里就不展开讲了。\n\n重点是上面的stage1 页表，attrindex的使用，它并不是单独就能表示属性的\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230105231651.png)\n这个index索引，指的是对MAIR（Memory Attribute Indirection Register）这个寄存器内部进行索引。\nMAIR根据不同异常级别有好几个，但其实内部都是一样的，\n从图上就可以看出，一个64bit的MAIR寄存器中有8个Attr，每8bit为一个Attr。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230105232001.png)\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230105232010.png)\n至于这8bit是如何进一步表示属性的，这里也不展开说了，具体可以看架构手册D13.2.97\n\n\n通过stage1 page中的attrindex属性域段，加上MAIR寄存器中配置的Attr，才能够表示一个地址空间的属性。这样可以理解，但重点在于为什么要这样做。\n\n\n减少无效化操作，就是这种设计的核心意义。\n\n如果想要改变属性，就需要改页表的话，修改页表后必须发出无效化命令到各个tlb中进行无效化，\n而进行无效化的代价其实是很大的。\n那为了减少无效化操作，就尽可能不要修改页表，\n\n这里使用attrindex，索引寄存器中配置的属性信息，这意味着如果想要修改属性，仅仅需要修改寄存器值就好了，软件修改寄存器的代价那就比较小了。\n\n至于为什么只有stage1 的页表是这样设计的，还没想太明白。可能终究这样也是需要付出寄存器的代价的，而stage2翻译（虚拟化，IPA->PA）的需求比较小，所以就直接把MemAttr放到页表的属性域段中吧。","tags":["ARM","内存管理"],"categories":["技术笔记"]},{"title":"MMU-TLB基础知识","url":"/posts/e0051e00.html","content":"SMMU（System Memory Management Unit，系统内存管理单元）可以认为是 MMU 的衍生，在开始 SMMU 的协议学习之前，先掌握 MMU 的相关基础知识。\n\n\n\n<!--less-->\n\n\n\n# 参考文献\n最好的学习资料就是协议书，本文基于 ARM 官方的文档开展 MMU 的基础知识学习。\nMMU 学习：[learn_the_architecture_-_aarch64_memory_management_101811_0102_00_en.pdf](3-自我修养/31-笔记/assets/learn_the_architecture_-_aarch64_memory_management_101811_0102_00_en-20221001012120-9hhrxua.pdf)\nArm® 架构参考手册：[DDI0487H_a_a-profile_architecture_reference_manual.pdf](DDI0487H_a_a-profile_architecture_reference_manual-20221001011703-0ahykvc.pdf)\n\n‍\n\n\n# 基本概念\n\n**虚拟地址（VA，Virtual Address）**：处理器上运行的操作系统、应用程序所能看到的地址空间。虚拟地址并不真实存在于计算机中。\n\n**物理地址（PA，Physical Address）**：实际存储地址空间，如 DDR、Flash、SRAM 等实际存储数据的地方。\n\n在处理器运行的过程中，需要将**虚拟地址空间**与**物理地址空间**进行转换，并对内存访问进行保护，即内存管理的主要工作。\n\n虚拟地址通过映射转换为物理地址。虚拟地址和物理地址之间的映射存储在转换表（有时称为页表）。\n\n# 使用虚拟地址的好处\n\n1. 使用虚拟地址的一个好处是，操作系统可以**将零碎的物理地址空间拼接成连续的虚拟空间，供应用程序使用。**连续的空间对于应用的运行而言当然是有好处的。\n2. 虚拟地址也有利于软件开发人员，他们在编写应用程序时不会也不需要知道系统的确切内存地址，由操作系统和硬件共同执行地址转换。\n3. 在实践中，每个应用程序都可以使用自己的一组虚拟地址，这些地址将映射到物理系统中的不同位置。当操作系统在不同的应用程序之间切换时，它会重新编程映射。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-net-img-image-20220909163726631-20221001010726-zi9sybz.png)\n\n# MMU 内存管理单元\n\n内存管理单元 Memory Management Unit (MMU)  ， 负责将软件使用的虚拟地址转换为内存系统中使用的物理地址。\n\n## 主要组成\n\n包含以下内容：\n\n- table walk unit 单元，它包含从内存中读取转换表的逻辑。\n- Translation Lookaside Buffers (TLBs)  ，用于缓存最近使用的转换内容。\n\n软件发出的所有内存地址都是虚拟的。这些内存地址被传递到 MMU，MMU 会检查 TLB 中是否有最近使用的缓存转换。如果 MMU 找不到最近缓存的转换，则 table walk unit 将从内存中读取相应的 Table entry 表条目，如下所示：\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-net-img-image-20220909170506304-20221001010727-d2hrjxr.png)\n\n## Table entry 表条目\n\n转换表的工作原理是将虚拟地址空间划分为大小相等的块，并在表中为每个块提供一个 Table entry 表条目。\n\n表中的条目 entry 0 提供 page 0 的映射，entry 1 提供 page 1 的映射，依此类推。每个条目都包含**相应物理内存块的地址**以及**访问物理地址时要使用的属性**。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-net-img-image-20220909170731739-20221001010727-nnvlg5f.png)\n\n## Table lookup  表查找\n\n进行转换时，将进行表查找。当转换发生时，软件发出的虚拟地址被一分为二，如下图所示：\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-net-img-image-20220909171024632-20221001010727-zy5p5x1.png)\n\n该图所展示的是一个单级表查找示例。\n\n下方软件的虚拟地址分为两截：\n\nupper-order bits 高位 bits 会告知，这是哪一个条目。基于该信息可以在 Translation Table 转换表中找到对应的 PA base 物理基地址以及内存属性。\n\nlower-order bits  低位保有块偏移量信息，该信息并且不会因地址转换而发生任何改变。\n\n最后将转换表中获得的物理基地址以及最开始就知晓的块偏移量相结合，得到最后的一个物理地址。\n\n除了上述的单级查表之外，还有多级查表的形式（通常为 2 级）。第一个表（level 1 ）将虚拟地址空间划分为大块。此表中的每个条目都可以指向大小相等的物理内存块，也可以指向另一个将该块细分为更小块的表。我们将这种类型的表称为“多级表”。在这里，我们可以看到一个具有三个级别的多级表的示例：\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-net-img-image-20220909172644588-20221001010727-4ufzgd7.png)\n\n在 Armv8-A 架构中，最大级别数为 4，级别编号为 0 到 3。这种多级方法允许描述较大的块和较小的块。大块和小块的特征如下：\n\n- 与小块相比，大块需要转换的读取级别更少。此外，大块**在 TLB 中缓存的效率更高**。\n- 小块使软件**能够对内存分配进行精细控制**。但是，小块在 TLB 中缓存的效率较低，因为小块需要多次读取关卡才能转换。\n\n为了管理这种权衡，操作系统必须在使用大块映射的效率与使用小块映射的灵活性之间取得平衡，以获得最佳性能。\n\n# TLB\n\n**TLB就是一个cache**，俗称快表。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-net-img-image-20220909183537860-20221001010727-ykwz2dn.png)\n\n简单来讲，上面说了 MMU 会通过查表的方式将虚拟地址 VA 转化为物理地址 PA。但查表是要花时间的。一般来讲这个表是放在内存里，读内存是有比较大的代价的。\n\n对于 CPU，通过给他添加 cache 来加快访问数据的速度。\n\n> Cache 存在的意义：根据局部性原理，对于当前访问的存储位置，接下来，它很可能会被多次访问（**时间局部性**），它的相邻位置也可能会被访问（**空间局部性**）。由于访问内存的速度远大于访问寄存器，所以在二者之间设置 cache，来暂存一部分指令或数据。\n\n那么对于 MMU，TLB 就是它的 cache，用来加快查表的速度。\n\nMMU 首先查询 TLB，发现有（hit），直接得到物理地址，在内存根据物理地址取数据。如果 TLB 没有这个虚拟地址（miss），那么就只能费力的通过页表来查找了。这个流程跟 cache 其实是一模一样的，当然，因为它本质就是一个 cache。\n\n# Address spaces  地址空间\n\n## 空间结构\n\nAArch64 中有几个独立的虚拟地址空间。下图显示了以下虚拟地址空间：\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-net-img-image-20220909172953525-20221001010727-y2d25wn.png)\n\n下图显示了三个虚拟地址空间：\n\n- NS(Non-secure，不安全的) EL0 和 EL1。\n- NS.EL2。\n- EL3.\n\n> EL，Exception levels 异常级别。\n>\n> ELn 中，随着 n 的增加，软件的执行权限也相应的增加；\n> EL0 被称为无特权执行；\n> EL2 提供了对虚拟化的支持\n> EL3 提供了安全状态切换功能（安全状态与非安装状态之间的切换）\n\n由于存在多个虚拟地址空间，因此指定地址所在的地址空间非常重要。例如，NS。EL2：0x8000 是指非安全 EL2 虚拟地址空间中的地址 0x8000。\n\n该图还显示，来自 NS.EL0 和 NS.EL1 的虚拟地址经过两组表（图中的 stage1 和 stage2）。这些表支持虚拟化，并允许 hypervisor 来管理虚拟机 （VM） 看到的物理地址空间。\n\n在虚拟化中，我们将由操作系统控制的一组翻译称为第 1 阶段。**阶段 1 表将虚拟地址转换为中间物理地址 （IPA）。**在第 1 阶段，操作系统认为 IPA 是物理地址空间。但是，虚拟机管理程序控制第二组翻译，我们称之为阶段 2。**第二组转换将 IPA 转换为物理地址。**下图显示了两组翻译的工作原理：\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-net-img-image-20220909174502929-20221001010727-imlwuqb.png)\n\n**官方文档这里的表述可能有点绕，补充一点个人理解：**\n\n之前我们讨论的是，操作系统或者应用程序的虚拟地址 VA 转换为物理地址 PA 对吧。\n\n那么，如果此时还存在一个虚拟机（虚拟机可以理解为一种应用程序，该应用程序模拟了一台计算机），那么虚拟机这么一台计算机，是不是也会拥有一个**“虚拟机的物理地址”**，这就是中间物理地址 IPA。在虚拟机运行的应用程序，将“虚拟机的虚拟地址”转化为“虚拟机的物理地址”，这个“虚拟机的物理地址”，还需要再转化为“实体机的物理地址”，即 VA->IPA->PA 整个流程的意思。\n\n## 空间大小\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-net-img-image-20220909180135914-20221001010727-hc4ab0e.png)\n\nEL0/EL1 虚拟地址空间有两个区域：**内核空间和应用程序空间**。这两个区域显示在关系图的左侧，内核空间位于顶部，应用程序空间（标记为“用户空间”）位于地址空间的底部。内核空间和用户空间具有单独的转换表，这意味着它们的映射可以保持**独立**。\n\n独立很重要，独立表明这两个东西不会相互影响。简单来说，**当应用程序出现重大错误的时候，不会影响内核系统的运行**，系统不会受到太大的影响。\n\n## 空间标识符\n\n现代操作系统的应用程序似乎都从同一地址区域运行，这就是我们所描述的用户空间。在实践中，不同的应用程序需要不同的映射。这意味着，例如，VA 0x8000 的转换取决于当前正在运行的应用程序。\n\n理想情况下，我们希望**不同应用程序在TLB 中共存**，在 Armv8-A 中，通过地址空间标识符 （ASID）来进行管理。\n\n对于 EL0/EL1 虚拟地址空间，可以使用转换表条目的属性**字段**中的 nG 位将转换标记为全局 （G） 或非全局 （nG）。例如，**内核映射是全局转换，而应用程序映射是非全局转换**。全局翻译适用于当前正在运行的任何应用程序。非全局翻译仅适用于特定应用程序。\n\n非全局映射在 TLB 中用 ASID 进行标记。在 TLB 查找中，会**将 TLB 条目中的 ASID 与当前选定的 ASID 进行比较**。如果它们不匹配，则不使用 TLB 条目。下图显示了内核空间中没有 ASID 标记的全局映射和用户空间中具有 ASID 标记的非全局映射：\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-net-img-image-20220909181627370-20221001010727-n6pou3a.png)\n\n# 小结\n\n本文仅仅是简要介绍了 MMU 和 TLB，对 MMU 的意义、组成有一定的了解就好。接下来再阅读 ARM 的架构书，补充一些 MMU 具体的内容。\n","tags":["ARM","MMU","内存管理"],"categories":["技术笔记"]},{"title":"什么叫RAS中断","url":"/posts/4b0c4420.html","content":"ras中断是什么，听的很多但也不太清楚什么中断才能叫做ras中断。\n\n<!--less-->\n\n## 参考文献\n[RAS简介 - 知乎](https://zhuanlan.zhihu.com/p/340605298)\n[4.11. Reliability, Availability, and Serviceability (RAS) Extensions — Trusted Firmware-A documentation](https://trustedfirmware-a.readthedocs.io/en/latest/components/ras.html)\n\n## RAS\n全称为 Reliability, Availability，Serviceability。\n\n\n### Reliability（可靠性）\n指的是系统必须尽可能的可靠，不会意外的崩溃，重启甚至导致系统物理损坏，这意味着一个具有可靠性的系统必须能够对于某些小的错误能够做到自修复，对于无法自修复的错误也尽可能进行隔离，保障系统其余部分正常运转。\n\n### Availability（可用性）\n指的是系统必须能够确保尽可能长时间工作而不下线，即使系统出现一些小的问题也不会影响整个系统的正常运行，在某些情况下甚至可以进行 Hot Plug 的操作，替换有问题的组件，从而严格的确保系统的宕机时间在一定范围内。\n\n### Serviceability （可服务性）\n指的是系统能够提供便利的诊断功能，如系统日志，动态检测等手段方便管理人员进行系统诊断和维护操作，从而及早的发现错误并且修复错误。\n\n\n\n\n## RAS中断\n搜不到太多相关的资料，不过基于上述基本内容可以大致理解。\nras中断就是，让系统比较可靠，的中断信号。\n常见的ras中断有：\n\n这些中断是保证系统稳定运行的必要中断，保证系统不会出现重大错误的中断，\n大致就这么理解吧。\n\n具体，应该由实现方案决定。","tags":["ARM","中断"],"categories":["技术笔记"]},{"title":"对ARM access flag和dirty state机制理解","url":"/posts/a6a87a63.html","content":"\n\nARM的access flag和dirty state机制用于进行页表的维护，经过一段时间的思考，现在总算是理清楚了。\n\n<!--less-->\n\n\n# 参考文献\n官方ARM 架构手册：[Arm Architecture Reference Manual for A-profile architecture](https://developer.arm.com/documentation/ddi0487/ha/?lang=en)H.a版本\n从D5.4.7小结开始\n\n# The Access flag\nARM的access flag和dirty state机制用于进行页表的维护，其中的Access flag其实挺好理解的，就是最后的Page中有个AF域段，如果是0，在被访问以后就更新为1。\n但dirty state我一直理解都不太好，Page中只有一个DBM（Dirty Bit Modifier）域段，这个域段的是怎样用的，一直没看明白。\n\n经过一段时间的思考，现在总算是理清楚了。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-20221224110917.png)\nAccess flag指示内存页是否被访问过。\nAF域段被设置为0后，首次被访问时会被修改为1。\n\n# The dirty state\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-20221224111054.png)\ndirty state指示是否修改了内存页或内存段。\ndirty state可以由硬件管理，如 D5-4863 页HTTU所述\ndirty state信息使用访问权限位 AP[2] 和 S2AP[1] 以及 DBM 位进行编码。\n\n# Page的域段\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-20221224112636.png)\n这里补充一下AF、AP、S2AP、DBM这几个域段的概念。\n在page的属性域段中，\n\n## AF就是access flag\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-20221224112741.png)\n\n## AP是访问权限\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-20221224112755.png)\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-20221224112830.png)\n\n## S2AP和AP是一样的\n只是S2AP是stage2翻译的时候获得页的域段。\nstage2翻译就是IPA->PA的翻译阶段，这里不过多展开描述。\n\n## DBM Dirty修改位\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-20221224113009.png)\n这个东西看起来很抽象，后面再展开表述它的使用\n\n# 软件管理Access flag\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-20221224111310.png)\nArmv8.0 要求软件管理访问标志。这意味着，每当尝试将访问标志的值为 0 的转换表描述符条目读入 TLB 时，都会生成访问标志错误。\n访问标志机制期望，当发生访问标志错误时，软件会在导致故障的转换表条目中将访问标志重置为 1。这可以防止下次访问内存位置时发生故障。访问标志设置为 0 的条目永远不会保留在 TLB 中，这意味着软件在设置标志后不必从 TLB 刷新条目。\n\n这里稍微表述了一下，ARM V8.0是只支持通过软件来管理access flag的。\n当访问到AF为0的页时，就会产生一个fault错误告诉软件，软件去修改Page的AF为1，然后再次访问就正常了。\n显然，这里上报fault，软件再去改写AF，其实是要耗费软件的精力的。这就很麻烦。\n\n# 硬件管理Access flag 和Dirty state\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-20221224111619.png)\n从ARM V8.1开始，支持硬件管理了，也就是HTTU(Hardware Translation Table Update)。\n\n简单来说，就是硬件可以直接去修改AF域段，这里的硬件指的应该是MMU/SMMU，在PTW获取最后一级Page的时候，如果发现AF是0，那就直接自己完成读写原子操作，将page的AF改为1，而无需上报Fault给软件。\n\n而Dirty state的维护就体现的比较拐弯抹角了。它是同时使用DBM、AP/S2AP这一组域段来表示是否为Dirty的。\n\n\n首先，软件会把页的访问权限设置为“不可写”。\n这里的“不可写”其实区分为“真的不可写”和“为了判断dirty state，暂时不可写”两种情况。\n这两种情况体现在DBM这个域段上：\n如果为0，那就是“真的不可写”\n如果为1，那就是“为了判断dirty state，暂时不可写”\n\n如果DBM为0，那硬件在想要修改AF的时候，会发生权限错误，然后上报fault给软件。\n如果DBM为1，那硬件就知道，其实这个是可以写的，直接就将权限AP/S2AP修改为可写的状态。而权限从不可写变为可写这件事情，就表明该页是Dirty的了。\n\n","tags":["ARM","页表"],"categories":["技术笔记"]},{"title":"当前ARM只有64KB粒度页表支持52bit","url":"/posts/115c5add.html","content":"\nARMv8.2架构支持到52bit了，但仅有64KB粒度的页表才支持\nARMv9架构则4k和16k翻译粒度也支持52bit，这里简单理解一下。\n<!--more-->\n\n\n## 参考文献\n[技术|理解 ARM64 内核中对 52 位虚拟地址的支持](https://linux.cn/article-13069-1.html#:~:text=%E5%9C%A8%20ARMv8.2-LVA%20%E4%B8%AD%E5%85%81%E8%AE%B8%EF%BC%9A%20%E5%BD%93%E4%BD%BF%E7%94%A8%2064%20KB%20%E8%BD%AC%E6%8D%A2%E7%B2%92%E5%BA%A6%E6%97%B6%EF%BC%8C%E4%B8%AD%E9%97%B4%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80%EF%BC%88IPA%EF%BC%89%E5%92%8C%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4%E6%8B%93%E5%B1%95%E4%B8%BA%2052,%E5%A6%82%E6%9E%9C%E4%BD%BF%E7%94%A8%2064%20KB%20%E8%BD%AC%E6%8D%A2%E7%B2%92%E5%BA%A6%E6%9D%A5%E5%AE%9E%E7%8E%B0%E5%AF%B9%2052%20%E4%BD%8D%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80%E7%9A%84%E6%94%AF%E6%8C%81%EF%BC%8C%E9%82%A3%E4%B9%88%E4%B8%80%E7%BA%A7%E5%9D%97%E5%B0%86%E4%BC%9A%E8%A6%86%E7%9B%96%204TB%20%E7%9A%84%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4%E3%80%82)\n[Linux内存管理：虚拟地址空间 - 知乎](https://zhuanlan.zhihu.com/p/207001939?utm_source=wechat_timeline)\n[ARM-translation table walk_赵不胖的博客-CSDN博客](https://blog.csdn.net/weixin_47191387/article/details/122155530)\n[为什么64位机指针只用48个位？ - 知乎](https://www.zhihu.com/question/28638698#:~:text=%E5%8F%AA%E7%94%A848%E4%BD%8D%E7%9A%84%E5%8E%9F%E5%9B%A0,%E9%82%A3%E4%B9%88%E5%A4%9A%E4%BD%8D%E7%9A%84%E5%9C%B0%E5%9D%80%E3%80%82)\n\n\n## 为什么64位的架构，并没有支持64位的地址空间？\n实现如此巨大的地址宽度只会增加系统的复杂度和地址转换的成本，带不来任何好处。AMD因此决定，在对这一架构的首次实现中，只有虚拟地址的最低48位才会在地址转换（页表查询）时被使用。\n\n一个表示虚拟内存地址的64位指针只有低48位有效并带符号扩展到64位——换句话说，其高16位必须是全1或全0，而且必须与低48位的最高位（第47位）一致，否则通过该地址访问内存会产生#GP异常（general-protection exception）\n\n 不考虑大页的情况下，每一级4K大小的页表可以保存512项（每项8字节，64位，4096/8=512），对于一个48位地址来说，低4K地址（12位）是页内偏移，**之后每多一级页表，地址范围增加9位**，所以可以得到下面的规律：\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230212155446.png)\n一级页表：9+12=21位地址，最大地址2MB  \n二级页表：9+9+12=30位地址，最大地址1GB  \n三级页表：9+9+9+12=39位地址，最大地址512GB  \n四级页表：9+9+9+9+12=48位地址，最大地址256TB  \n五级页表：9+9+9+9+9+12=57位地址，最大地址128PB  \n六级页表：9+9+9+9+9+9+12=66位地址，超过64位，最大地址128EB\n  \n-   为啥是 9 bit 一级？**4KB/8B = 0.5K = 9 bit**\n\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230212154838.png)\n\n\n## ARMv8.2 架构的 LVA 和 LPA 拓展\n\nARMv8.2 架构提供两种重要的拓展：大虚拟寻址（LVA）和大物理寻址（LPA）。\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230212151454.png)\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230212151534.png)\n\n当使用 64 KB 转换粒度时，ARMv8.2-LVA 为每个翻译表基地址寄存器提供了一个更大的 52 位虚拟地址空间。\n\n-   当使用 64 KB 转换粒度时，中间物理地址（IPA）和物理地址空间拓展为 52 位。\n-   如果使用 64 KB 转换粒度来实现对 52 位物理地址的支持，那么一级块将会覆盖 4TB 的地址空间。\n\n_需要注意的是这些特性仅在 AArch64 架构中支持。_\n\n\n伴随着 ARMv8.2 拓展增加了对 LVA 地址的支持（仅当以页大小为 64 KB 运行时可用），在第一级转换中，描述符的数量会增加。\n\n\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230212153108.png)\n\n\n## ARMv9 架构的 LVA2 和 LPA2 拓展\n这里需要看最新的ARM架构手册，可以看到，现在进一步增加对4K和16K翻译粒度的52bit地址空间支持。\n\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230212153245.png)\n","tags":["ARM","内存管理"],"categories":["技术笔记"]},{"title":"虚拟内存的意义","url":"/posts/ada5d828.html","content":"为什么要建立“虚拟“内存来欺骗软件？\n\n<!--less-->\n\n> 为什么要建立“虚拟“内存来欺骗软件？\n\n有时候在想，现代存储空间越来越大，是不是全部都用物理内存就行了？\n\n# 基本概念\n---\n**虚拟地址（VA，Virtual Address）**：处理器上运行的操作系统、应用程序所能看到的地址空间。虚拟地址并不真实存在于计算机中。\n\n**物理地址（PA，Physical Address）**：实际存储地址空间，如 DDR、Flash、SRAM 等实际存储数据的地方。\n\n在处理器运行的过程中，需要将**虚拟地址空间**与**物理地址空间**进行转换，并对内存访问进行保护，即内存管理的主要工作。\n\n虚拟地址通过映射转换为物理地址。虚拟地址和物理地址之间的映射存储在转换表（有时称为页表）。\n\n# “虚拟”的主要意义\n---\n## 地址连续性\n程序都可以在连续的虚拟内存空间中运行，而实际的物理内存空间可以是不连续的。  \n\n\n## 地址扩展性\n有了虚拟内存，程序在概念上可以使用比物理上可用的更多的内存。例如，即使物理内存只有4GB，虚拟地址宽度也可以超过32位。可以使用整个硬盘扩展存储空间。  \n\n## 安全隔离\n由于内存隔离，虚拟内存还增加了安全性。 \n在地址转换期间可访问性被检查。如果程序试图写入一个仅赋予只读权限的内存地址，则写入访问将被阻止，并发出错误信号。如果程序试图访问不属于它的内存地址，访问也将被阻止。\n\n\n\n\n","tags":["ARM","内存管理"],"categories":["技术笔记"]},{"title":"什么是CRC校验","url":"/posts/ffadf7ba.html","content":"\n**CRC校验**（Cyclic Redundancy Check，循环冗余校验）是一种广泛应用于数字通信和数据存储领域的**错误检测技术**，用于验证数据在传输或存储过程中是否发生错误（如比特翻转、数据丢失等）。\n\n<!--less-->\n\n# 基本概念\n我们知道，数据在传输过程中可能会因为传输介质故障或外界的干扰而产生比特差错（使原来的0变为1，原来的1变为0），从而导致接收方接收到错误的数据。为尽量提高接收方收到数据的正确率，在接收数据之前需要对数据进行差错检测，仅当检测的结果为正确时才接收数据。\n\n差错检测的方式有多种，常见的有奇偶校验、求和校验、CRC校验等。他们的工作原理都是发送端对数据按照某种算法计算出来校验码，将校验码和数据一起发送到接收端，然后接收端进行检验确定数据是否发生变化。\n\nCRC是由W. Wesley Peterson在1961年发表的论文中提出，由于CRC校验在速度、成本、正确率等方面比其他校验方式更具有优势，因此，CRC成为计算机信息、通信领域最为普遍的校验方式。例如在标准的以太帧格式中，最后有4个字节长度的冗余位，用于存储CRC校验的值，这个冗余位又常称为帧检验序列FCS（Frame Check Sequence）。\n\n![帧尾增加4Bytes CRC码](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250303235601.png)\n\n# 核心原理\nCRC的思想就是先在要发送的K比特长度的数据后面附加一个R比特长度的校验码，然后生成一个新帧发送给接收端。接收端接收到新帧后，根据收到的数据和校验码来验证接收到的数据是否正确。\n\n## 多项式除法：\n要使所生成的新帧能与发送端和接收端共同选定的某个特定数整除（“模2除法”）。接收端把接收到的新帧除以这个选定的除数。\n**因为在发送数据帧之前就已通过附加一个数，做了“去余”处理（也就已经能整除了），所以结果应该是没有余数。**\n如果有余数，则表明该帧在传输过程中出现了差错。\n\n将待传输的原始数据视为一个二进制数（例如 101001）。\n选择一个预定义的生成多项式（如 x³ + x + 1，对应二进制 1011）。\n通过多项式除法，计算原始数据与生成多项式的余数，该余数即为CRC校验码。\n\n## 附加校验码：\n将计算出的CRC校验码附加到原始数据末尾，形成完整的传输数据。\n\n## 接收端验证：\n接收方用相同的生成多项式对接收到的数据（含CRC码）再次计算余数。\n若余数为零，则数据正确；否则判定为传输错误。\n![常见CRC生成多项式](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250304000031.png)\n\n# 示例\nCRC-4-ITU（生成多项式 `x⁴ + x + 1`）\n1. **原始数据**：`1101 0110`\n2. **生成多项式**：`10011`（对应 `x⁴ + x + 1`）\n3. **计算步骤**：\n\t- 在原始数据后补4个零（生成多项式最高次为4）：`1101 0110 0000`\n\t- 用生成多项式进行模2除法，得到余数 `1110`\n4. **最终传输数据**：`1101 0110 1110`\n可检测所有单比特错误、双比特错误、奇数个错误，及大多数突发错误（取决于生成多项式）。\n\n# 总结\nCRC校验通过多项式除法生成冗余校验码，以极低的计算成本实现高可靠性的错误检测，是数字系统中保障数据完整性的基础技术。\n其性能取决于生成多项式的选择（如CRC-8、CRC-16、CRC-32等不同标准）。\n\n\n# 参考文献\n\n[^1]: [什么是CRC（Cyclic Redundancy Check）？如何解决CRC错误？ - 华为](https://info.support.huawei.com/info-finder/encyclopedia/zh/CRC.html)\n\n","tags":["算法","功能安全"],"categories":["技术笔记"]},{"title":"什么是Memory Repair","url":"/posts/c3914d5e.html","content":"\n# Repair的意义\nMemory占芯片大块的面积，如果出现坏的单元，直接算废片那也太浪费了。\n因此现在芯片为了追求良率，会在最开始设计的时候就加入repair的功能。\n本质就是增加冗余逻辑，以便在出现问题的时候可以用来替换掉坏的部分，就是一种面积换良率的方案。\n\n# Repair的形式\n常见的有Row repair、Column repair\n直观理解，就是整行、整列用redundancy逻辑替换掉。\n\n# Repair的类型\n通常分为Soft repair和Hard repair。\n此处引用：[Tessent Memory Repair的介绍](https://xueqiu.com/1958668676/299336870?md5__1038=1e761e013c-jiyiaI5sOgpOux4IRIVssVpBLsN3p4sjIu1JbqA5AIcKdSHbIsTB30COHc3H%3D0i%2BTgs%3D6%3DId0ystIqWIFu%3DGnIG%3DpRI6%3Dx0IygZdITIxtD%3DOIryIHmzIOQIXSsiIR%3D5C%3DIAdsrIq1PsDT%3DIGIGgDJis9u%3DsolV6omnpoIp6RIA6Vdc6%3DInyn%2BjuirbuWmfn%3DI)\n> hard reapir：memory的修复信息存储在fuse里面，启动时修复信息加载到要修复的memory中\n> \n> soft repair：修复信息必须每次启动时，重新加载或者重新计算修复信息，如果修复信息存储在外部，可以使用BISR chain，或者重新执行redundancy analysi以及BIRA-BISR data transfer加载修复信息，使用soft repair会增加启动时间以及电路控制的复杂性，但优点是节省efuse的使用\n\n\n# MBIST、MBIRA和MBISR\n## Memory BIST(Built-in Self-Test)\n是一种DFX技术，说白了就是在芯片中专门设计一段逻辑，用来检测Memory。\n通常会进行如下测试：\n- March算法：遍历所有地址（如March C-检测 stuck-at/transition faults）\n- Checkerboard测试：交替写入0/1检测相邻单元干扰\n- 地址解码测试：验证地址线完整性\n\n## Memory BIRA(Built-in Redundancy-Analysis)\n就是一种冗余资源分析的机制，分析哪些资源可以修复发现的故障。\n\n## Memory BISR(Built-In Self-Repair)\n就是指上面讲到的自修复机制，通过预留冗余资源以实现修复。\n![Optimal Method for Test and Repair Memories Using Redundancy Mechanism for SoC](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250427225659.png)\n\n# Repair的流程\n1. 当然是先自检，即走MBIST流程，获取故障信息。可以是上电自检，也可以是周期性自检。\n2. 然后开始分析，BIRA来评估评估冗余资源余量以及修复方案。\n3. 分析完得到修复配置，可以通过efuse(electronic FUSE)来烧写。\n","tags":["数字IC","ASIC","Memory"],"categories":["ASIC"]},{"title":"数字IC设计开发Gvim配置","url":"/posts/f60848c2.html","content":"\n记录自己使用的gvim配置文件，包含基础配置及插件功能配置。支持代码补全、代码片段、语法检查、自动例化等IC攻城狮必备coding功能。\n\n<!--less-->\n\n\n\n## 插件傻瓜包安装说明\n推荐使用git clone获取：\n[GitHub - RongyeL/ryGvim: my gvim config and plugin](https://github.com/RongyeL/ryGvim)\n将ryGvim目录下的.vim文件夹和.vimrc文件，移到用户根目录下，即可使用。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230107190255.png)\n\n如果不会使用git，也可以直接在GitHub先下载zip，然后再拖到虚拟机中使用。\nwindows也是可以用的，但是配置文件不一样，好像是_vimrc这样的文件，所以需要做一些调整。\n\n仅支持Gvim 8.0以上版本，基于VIM 8 pack特性进行插件管理。\n不再需要gvim支持python环境。\n\n以下插件，ale需要补充安装iverilog才能进行语法检查。\nctags也需要另外安装\n如果是Ubuntu，跟我一样的版本。使用同样的阿里源。\n应该可以直接使用sudo apt install ctags 完成安装。\n\n| 名称                 | 功能               | git clone链接                                                                                                |\n|:-------------------|:-----------------|:-----------------------------------------------------------------------------------------------------------|\n| nerdtree           | 文件目录树            | [https://github.com/preservim/nerdtree.git](https://github.com/preservim/nerdtree.git)                     |\n| nerdcommenter      | 快速注释             | [https://github.com/preservim/nerdcommenter.git](https://github.com/preservim/nerdcommenter.git)           |\n| vim-airline        | 状态栏美化            | [https://github.com/vim-airline/vim-airline.git](https://github.com/vim-airline/vim-airline.git)           |\n| vim-snippets       | 代码片段库            | [https://github.com/honza/vim-snippets.git](https://github.com/honza/vim-snippets.git)                     |\n| vim-snipmate       | 代码片段展开           | [https://github.com/garbas/vim-snipmate.git](https://github.com/garbas/vim-snipmate.git)                   |\n| vim-addon-mw-utils | vim-snipmate依赖插件 | [https://github.com/MarcWeber/vim-addon-mw-utils.git](https://github.com/MarcWeber/vim-addon-mw-utils.git) |\n| tlib_vim           | vim-snipmate依赖插件 | [https://github.com/tomtom/tlib_vim.git](https://github.com/tomtom/tlib_vim.git)                           |\n| vim-easy-align     | 代码对齐          | [https://github.com/junegunn/vim-easy-align.git](https://github.com/junegunn/vim-easy-align.git)           |\n| neocomplcache      | 代码补全             | [https://github.com/Shougo/neocomplcache.vim.git](https://github.com/Shougo/neocomplcache.vim.git)         |\n| auto-pairs         | 自动配对括号           | [https://github.com/jiangmiao/auto-pairs.git](https://github.com/jiangmiao/auto-pairs.git)                 |\n| ale                | 语法检查             | [https://github.com/dense-analysis/ale.git](https://github.com/dense-analysis/ale.git)                     |\n| gruvbox            | 色彩空间             | [https://github.com/morhetz/gruvbox.git](https://github.com/morhetz/gruvbox.git)                           |\n| indentLine         | 缩进标识             | [https://github.com/Yggdroot/indentLine.git](https://github.com/Yggdroot/indentLine.git)                   |\n| vlog_inst_gen  | Verilog自动例化      | [https://github.com/vim-scripts/vlog_inst_gen.git](https://github.com/vim-scripts/vlog_inst_gen.git)       |\n| ctags               | ctags模块标签         |        使用sudo apt install ctags 命令直接安装 官网：[Exuberant Ctags](https://ctags.sourceforge.net/)              |                                                                                   |  \n\n## 各插件使用说明\n### nerdtree文件目录树\n#### 配置信息\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230107142728.png)\n#### 常用命令\n按F5展开/关闭目录树\n光标移动到需打开的文件，\no：打开到当前窗口\nt：打开并新建标签页到当前窗口，\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/%E7%9B%AE%E5%BD%95%E6%A0%91.gif)\n\n\n\n### nerdcommenter快速注释\n#### 配置信息\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230107170446.png)\n#### 常用命令\n,cc：注释\n,cu：取消注释\n,c<空格>：最常使用的操作，可以自动判断是注释还是取消注释\n,cA：注意是大写A，也就是shift+a，在行末添加注释\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/%E5%BF%AB%E9%80%9F%E6%B3%A8%E9%87%8A.gif)\n\n\n\n### vim-airline状态栏美化\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230107171122.png)\n就是下面的状态栏美化，没有做任何调整。\n\n\n### vim-snippets代码片段库\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230107171500.png)\n在该路径下找到verilog的代码片段仓库，添加自己的代码块。\n如图，这里简单加了一个shixu的snippet。\n\n### vim-snipmate代码片段展开\n#### 相关配置\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230107172204.png)\n#### 常用命令\n如上，在vim-snippets代码片段库中添加了一个shixu的代码\n在输入shixu后，按tab即可展开该代码片段。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.gif)\n\n\n### vim-easy-align代码对齐\n#### 相关配置\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230107172343.png)\n\n#### 常用命令\n比较简单的对齐插件，\n一般依据“空格”、“逗号，”“等号=”来完成代码对齐\n选中对齐的代码后，输入ga+“对齐依据”\n建议不要全选代码对齐，效果不好。\n小范围对齐即可。\n如下，先根据“=”进行对齐，再根据“，”进行对齐。\n自己再手动调整一下就好。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/%E5%BF%AB%E9%80%9F%E5%AF%B9%E9%BD%90.gif)\n\n\n### neocomplcache代码补全\n#### 相关配置\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230107172912.png)\n\n#### 常用命令\n此处的代码补全和上面的代码片段不是一个含义。\n这里的补全，会根据缓存信息，判断你需要输入的内容是什么。\n除了代码外，路径之类的也是可以补全的。\n输入部分内容，会自动展开补全列表，\nctrl+n下移，回车确定补全。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/%E4%BB%A3%E7%A0%81%E8%A1%A5%E5%85%A8.gif)\n\n\n\n\n### auto-pairs自动配对括号\n输入括号时自动成对出现。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/%E6%8B%AC%E5%8F%B7%E8%A1%A5%E5%85%A8.gif)\n\n\n\n### ale语法检查\n#### 相关配置\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230107173723.png)\n注意，需要补充安装iverilog才能使用\nUbuntu下可以直接用命令安装，\ncentos可能需要下载源文件安装。\n除了iverilog，还有其他语法工具可以使用，详见插件github。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/%E8%AF%AD%E6%B3%95%E6%A3%80%E6%9F%A5.gif)\n\n\n\n### gruvbox色彩空间\n自己调整过的色彩方案，如果想自己搞可以看看我之前的视频。\n[没啥用的小技巧 - Gvim自定义色彩方案_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1sb4y1y78f/)\n建议不要花太多时间，看的顺眼就行。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/%E8%89%B2%E5%BD%A9%E6%96%B9%E6%A1%88.gif)\n\n\n\n\n### indentLine缩进标识\n比较容易判断缩进情况，以4个空格为一个缩进单位。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230107181112.png)\n\n\n### vlog_inst_genVerilog自动例化\n#### 相关配置\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230107181222.png)\n\n#### 常用命令\n,ig，生成当前文件的例化文件，会自动存储到剪贴板中。\n按esc退出冒出的信息，在需要例化的地方粘贴代码\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/%E6%A8%A1%E5%9D%97%E4%BE%8B%E5%8C%96.gif)\n\n\n\n\n### ctags模块标签\n#### 相关配置\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230107181550.png)\n该功能其实不是一个插件，\n需自行安装ctags，\nUbuntu下可以命令直接安装\nsudo apt install ctags\n\n#### 常用命令\ngi：进入光标所在未知的模块端口\ngo：退出到上一级模块\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/ctags.gif)\n\n\n\n\n\n\n## .vimrc配置文件\n\n```vimrc\n\"-----------------------------------------------------------------------------\n\" basic configuration \n\"-----------------------------------------------------------------------------\nsyntax on \" syntax highlight\nfiletype plugin indent on  \" plugins and indentation based on file type  \n\nset hlsearch \" search highlight\nset ignorecase \" ignore search case\n\nset cuc \" current column highlight\nset cul \" current line highlight\n\nset nu \" show line number\n\nset fileencoding=utf-8 \"prevent garbled characters\nset fenc=utf-8\nset fencs=utf-8,usc-bom,euc-jp,gb18030,gbk,gb2312,cp936,big－5                  \nset enc=utf-8\nsource $VIMRUNTIME/delmenu.vim\nsource $VIMRUNTIME/menu.vim\nlet &termencoding=&encoding\n\nset guifont=Monospace\\ 12 \" set font \n\nset tabstop=4 \" set tab to 4 spaces\nset expandtab\nset shiftwidth=4 \"set auto-indent to 4 spaces\nset softtabstop=4 \" set the back key to delete 4 spaces\n\nset ruler \" set show ruler\n\nset smartindent \" set smart auto-indent\n\nset showcmd \" show command\nset autochdir  \" auto-swith working directory\n\nwinpos 235 235 \" set windows position \nset lines=40 columns=108 \" set windows size \n\nset nocompatible \" remove vi consistency\n\n\"-----------------------------------------------------------------------------\n\" customize shortcut keys \n\"-----------------------------------------------------------------------------\nimap ii <ESC>\nnmap ww :w<CR>\nnmap qq :q<CR> \nnmap fd * \n\nlet mapleader = \",\"\n\n\"-----------------------------------------------------------------------------\n\" plugin: NERDTree\n\"-----------------------------------------------------------------------------\nmap <leader>ne :NERDTreeToggle<CR>\nlet g:NERDTreeWinSize = 25 \" set nerdtree size\nlet NERDTreeIgnore=['\\.pyc','\\~$','\\.swp'] \" ignore the display of the following files\nlet NERDTreeShowHidden=1 \" show hidden files\nlet g:NERDTreeDirArrowExpandable = '▸' \" modify the default arrow symbol\nlet g:NERDTreeDirArrowCollapsible = '▾'\nautocmd bufenter * if (winnr(\"$\") == 1 && exists(\"b:NERDTree\") && b:NERDTree.isTabTree()) | q | endif\n\" nerdtree hot key mapping\nmap <F5> :NERDTreeMirror<CR>\nmap <F5> :NERDTreeToggle<CR>\nmap <leader>f :NERDTreeFind<CR>\n\n\"-----------------------------------------------------------------------------\n\" plugin: airline\n\"-----------------------------------------------------------------------------\nlet g:airline_theme='base16_gruvbox_dark_hard'\n\n\"-----------------------------------------------------------------------------\n\" plugin: indentline\n\"-----------------------------------------------------------------------------\nlet g:indentLine_enable = 1\nlet g:autopep8_disable_show_diff=1\nlet g:indentLine_char_list = ['|', '¦', '┆', '┊']\n\n\"-----------------------------------------------------------------------------\n\" plugin: easyalign\n\"-----------------------------------------------------------------------------\n\" Start interactive EasyAlign in visual mode (e.g. vipga)\nxmap ga <Plug>(EasyAlign)\n\" Start interactive EasyAlign for a motion/text object (e.g. gaip)\nnmap ga <Plug>(EasyAlign)\n\n\"-----------------------------------------------------------------------------\n\" plugin: neocomplcache\n\"-----------------------------------------------------------------------------\nlet g:neocomplcache_enable_at_startup = 1 \" auto start neocomplcache  \nlet g:neocomplcache_enable_auto_select = 1 \" auto select the first item in the list\nlet g:neocomplcache_min_syntax_length = 2 \" Set minimum syntax keyword length.\nlet g:neocomplcache_lock_buffer_name_pattern = '\\*ku\\*'\n\" inoremap <expr><CR>  neocomplcache#smart_close_popup() . \"\\<CR>\"\ninoremap <expr><C-Y>  neocomplcache#close_popup()\ninoremap <expr><space>  neocomplcache#undo_completion()\ninoremap <expr><Enter>  pumvisible() ? \"\\<C-Y>\" : \"\\<Enter>\"  \n\n\"-----------------------------------------------------------------------------\n\" plugin: gruvbox\n\"-----------------------------------------------------------------------------\nset bg=dark\ncolorscheme gruvbox\n\n\"-----------------------------------------------------------------------------\n\" plugin: nerdcommender\n\"-----------------------------------------------------------------------------\n\" my key: ,cl /,cc /,cu /,c<space>\nlet g:NERDSpaceDelims = 1 \" add space after comment\n\n\"-----------------------------------------------------------------------------\n\" plugin: ale\n\"-----------------------------------------------------------------------------\n\"keep the sign gutter open\nlet g:ale_sign_column_always = 1\nlet g:ale_sign_error = '>>'\nlet g:ale_sign_warning = '--'\n\" show errors or warnings in my statusline\nlet g:airline#extensions#ale#enabled = 1 \n\" use quickfix list instead of the loclist\nlet g:ale_set_loclist = 0\nlet g:ale_set_quickfix = 1\n\" only enable these linters\nlet g:ale_linters = {\n\\    'verilog': ['iverilog']\n\\}\nnmap <silent> <C-k> <Plug>(ale_previous_wrap)\nnmap <silent> <C-J> <Plug>(ale_next_wrap)\n\n\"-----------------------------------------------------------------------------\n\" plugin: ctags\n\"-----------------------------------------------------------------------------\nnmap gi <C-]> \" go into instance module or output port \nnmap go <C-o> \" go out to upper stage \n\n\n\"-----------------------------------------------------------------------------\n\" plugin: vlogInst\n\"-----------------------------------------------------------------------------\nso ~/.vim/pack/default/start/vlog_inst_gen/vlog_inst_gen.vim \" set path\n\n\" key: (,ig)\n\n\"-----------------------------------------------------------------------------\n\" plugin: snipmate\n\"-----------------------------------------------------------------------------\nimap <tab> <Plug>snipMateTrigger \" tab expand code snippets\nimap <tab> <Plug>snipMateNextOrTrigger\nimap <C-tab> <Plug>snipMateShow \" tab expand code snippets list\n\n\"-----------------------------------------------------------------------------\n\" auto add file header when create new file\n\"-----------------------------------------------------------------------------\nautocmd BufNewFile *.v,*.sv,*.cpp,*.c,*.h exec \":call AddHeader()\"\nautocmd BufWrite *.v call UpdateLastModifyTime()\n\nfunction s:GetUserName() \n    let user_name = \"Rongye\"\n    return user_name\nendfunction \n\nfunction AddHeader() \n       let line = getline(1)\n      let filename = expand(\"%\")\n       call append(0,  \"// +FHDR----------------------------------------------------------------------------\")\n       call append(1,  \"//                 Copyright (c) \".strftime(\"%Y \") )\n       call append(2,  \"//                       ALL RIGHTS RESERVED\")\n       call append(3,  \"// ---------------------------------------------------------------------------------\")\n       call append(4,  \"// Filename      : \".filename)\n       call append(5,  \"// Author        : \".s:GetUserName())\n       call append(6,  \"// Created On    : \".strftime(\"%Y-%m-%d %H:%M\"))\n       call append(7,  \"// Last Modified : \")\n       call append(8,  \"// ---------------------------------------------------------------------------------\")\n       call append(9,  \"// Description   : \")\n       call append(10, \"//\")\n       call append(11, \"//\")\n       call append(12, \"// -FHDR----------------------------------------------------------------------------\")\nendfunction \n\"-----------------------------------------------------------------------------\n\" auto update file header modifyTime if write\n\"-----------------------------------------------------------------------------\nfunction UpdateLastModifyTime() \n       let line = getline(8)\n       if line =~ '// Last Modified'\n              call setline(8,\"// Last Modified : \" . strftime(\"%Y-%m-%d %H:%M\"))\n       endif\nendfunction\n\n\n```\n\n‍\n","tags":["数字IC","GVim"],"categories":["技术笔记"]},{"title":"CHI l-credit的使用关注点","url":"/posts/418ca596.html","content":"CHI协议的LINK层credit握手机制是个很有意思的东西，实际使用的时候有些需要关注的地方。\n\n\n<!--less-->\n\n\n## 握手差异\nCHI和AXI的一个很大不同，\n就在于握手机制。\n\nAXI协议中使用的是valid-ready握手的方式，\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230112231021.png)\n\nCHI协议中则设计了一套credit机制进行握手。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230112230920.png)\n\n## credit握手\ncredit由rx发出，tx接收。\ntx每拥有一个credit，就可以向rx发送一笔数据，即一次flitv。\nrx每收到一个flitv，就再发出一个credit给tx。\n每个通道（REQ/SNP/RSP/DATA）都有独立的credit。\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230112231157.png)\n\n\ncredit和valid-ready的一个最大区别，就在于：\nvalid-ready握手是必须握完一个事务才能握下一个，\ncredit握手则是，我可以一次性给你发很多个credit，你慢慢发事务。\n\n给credit的含义就是，你可以发，而我必须接收，\n所以rx内的buffer深度必须大于等于credit数量，\n不然就会丢包。\n\n## 接口流水\n两个节点之间，假定路径上有4拍延迟，\n那么需要4个credit，就可以保证流水。\n\n如果flitv或者credit因为走线加拍，那么credit数量就需要对应增加。\n\n当然，在4拍路径下，给6个credit，有2个credit的裕量，这肯定也是可以的，\n不会有功能问题，但存在面积代价。\n\n由于多了2个credit，RX的buffer或者FIFO就必须对应增加2深。\n当数据位宽较大时，FIFO深度多了2深就算是比较明显的浪费了。","tags":["ARM","CHI"],"categories":["技术笔记"]},{"title":"从零开始EDA环境搭建","url":"/posts/f07a99ab.html","content":"\n搭建一个能够运行tinyriscv项目的EDA环境。\n\n\n<!--less-->\n\n\n\n\n# Ubuntu18.04 系统安装\n\n[http://mirrors.aliyun.com/ubuntu-releases/18.04/](http://mirrors.aliyun.com/ubuntu-releases/18.04/)\n\n阿里云镜像下载\n\nVMware配置安装后，启动后为英文。\n\n在更改语言前，先换源。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642814139944-ee857d06-56b0-4d69-a57b-8b83a29c8aee.png)\n\n换源  \n[https://zhuanlan.zhihu.com/p/61228593](https://zhuanlan.zhihu.com/p/61228593)\n\n桌面右键打开terminal\n\n  \n## 首先备份源列表\n\nsudo cp /etc/apt/sources.list /etc/apt/sources.list_backup  \n## 打开sources.list文件\n\nsudo gedit /etc/apt/sources.list  \n  \n阿里源\n\ndeb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse\n\ndeb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse\n\ndeb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse\n\ndeb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse\n\ndeb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse\n\ndeb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse\n\ndeb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse\n\ndeb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse\n\ndeb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse\n\ndeb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse  \n刷新列表  \nsudo apt-get update  \nsudo apt-get upgrade  \nsudo apt-get install build-essential\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642814400398-fd896e87-372c-4ce4-9177-d423c692c644.png)\n\n换源以后就可以去下载语言了。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642829810760-93f15068-6b1c-47ee-af81-7b8843dd386f.png)\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642829829171-d855cfa3-ec50-4f4f-88b7-7b316a89a593.png)\n\n选择下载语言，找到Chinese\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642829848863-87d4e0c1-999e-4a29-abe9-3306b0d09240.png)\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642831202456-ca6153e9-4e95-4717-bb93-74f835a79310.png)\n\n更改以后重启。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642831294171-c0bf3940-7faf-475b-a04e-e1fa9b64f4b9.png)\n\n重启以后提示更改文件夹名称，最好不做修改保持英文。\n\n系统不自带python2，补充安装\n\nsudo apt install python\n\n系统自带python3.6.9，应该够用，就不装先了。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642831444058-7f51190d-48f7-4228-ab1e-88728e160c45.png)\n\n下面开始准备gvim\n\n---\n\n# gvim基本安装\n\n系统自带的vi会出现乱码问题，先卸载\n\nsudo apt-get remove vim-common\n\n重新安装，直接装vim-gtk3\n\nsudo apt install vim-gtk3\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642831663793-2cc405fc-702b-41a3-a5f5-37505f3bef45.png)\n\n基本可以使用了，接下来开始搞插件。\n\n安装git\n\nsudo apt install git\n\n接着首先安装vundle插件管理器\n\n参考[https://www.cnblogs.com/feiyuhuo/p/10274236.html](https://www.cnblogs.com/feiyuhuo/p/10274236.html)\n\n1、先新建目录\n\nmkdir ~/.vim/bundle/Vundle.vim\n\n2、git 克隆 Vundle 工程到本地\n\ngit clone https://github.com/gmarik/Vundle.vim.git ~/.vim/bundle/Vundle.vim\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642832085505-4083f8f3-8875-4025-966d-288470b7b616.png)\n\n出现这个无法访问的提示……\n\n那只能将https修改为git\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642832223302-cea5786f-ed22-44f5-99c2-4777876b68e8.png)\n\n已经准备好的.vimrc文件整个复制进去。【此时目录下应该没有，自己新建一个并命名为.vimrc，然后把下面的内容复制进去即可】\n\n启动gvim，此时会报错无所谓，因为插件还没安装。\n\n回车两下进入正常显示后，输入冒号:PluginInstall安装插件\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642832306465-4bf0df99-b56b-4d08-af38-3a126c16b70c.png)\n\n暂时是只安装三个插件。其他先注释掉了，以后再装。\n\n完成以后重启gvim现在已经是比较好看的了。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642832430900-461128d2-8ee0-494f-8780-741a212df340.png)在~/.vim目录内，新建colors和syntax文件夹\n\n\n\n语法文件和色彩方案搭配效果如下\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642850990398-f8ba9d61-5e90-4ca8-b9dc-354a42fe99ba.png)\n\n看verilog代码才会有效果。\n\n那么至此最基本的准备就完成了。\n\n先拍摄一个快照保存一下\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642832699123-4b90ce9e-6a38-4338-995d-5863b68cac4b.png)\n\n---\n\n# tinyriscv环境搭建\n\n那么目前是没有多余配置的，\n\n接下来先把tinyriscv的环境准备好。\n\n作者的gitee库\n\n[https://gitee.com/liangkangnan/tinyriscv/](https://gitee.com/liangkangnan/tinyriscv/)\n\n在Downloads文件夹下下载iverilog\n\ngit clone https://github.com/steveicarus/iverilog.git\n\ncd iverilog\n\n切换到v11分支(必须用V11或以上的版本)\n\ngit checkout v11-branch\n\n安装依赖\n\nsudo apt-get install autoconf gperf flex bison build-essential\n\n编译、安装iverilog和vvp\n\nsh autoconf.sh\n\n./configure\n\nsudo make&make install\n\n然后准备python3软链接\n\n先删除原来的软链接，这个是连到python2的\n\nsudo rm /usr/bin/python\n\n然后建立新的软链接\n\nsudo ln -s /usr/bin/python3.6 /usr/bin/python\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642833660190-54aff599-35c8-43df-bdf3-bea7950d7581.png)\n\n那么现在直接如数python会看到打开的是3.6.9了。exit（）退出，接着搞别的。\n\n安装gtkwave\n\nsudo apt-get install gtkwave\n\n下载gun工具链，百度网盘下载(链接：[https://pan.baidu.com/s/10uLZYf_cgtH94kZI_N6JhQ](https://pan.baidu.com/s/10uLZYf_cgtH94kZI_N6JhQ) 提取码：uk0w)\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642833876149-8e21b86d-b5f7-4248-a905-f7dbf72fd342.png)\n\n然后直接拖拽进去。\n\n右键可以直接解压\n\n接着克隆tinyriscv项目工程\n\n在Downloads目录下克隆\n\ngit clone https://gitee.com/liangkangnan/tinyriscv.git\n\n主目录下新建个Project文件夹，将刚克隆的复制过来，之前的作为原始备份。\n\n之前下载的工具链复制到tinyriscv工程下的tools目录中\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642834156631-494551b1-0033-4366-b518-fc1504af9137.png)\n\n修改tinyriscv/tests/example目录下的common.mk文件\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642834214819-f9f6ca15-4a16-4d76-9a28-066b6393a01b.png)\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642834365801-df8a4199-25a1-4528-b16f-fcb2764bca81.png)\n\n把名称修改过来，保持和工具链名称前缀一致。\n\n:wq保存并退出\n\n下面开始进行测试\n\n---\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642834454930-eacfece9-ac6a-4dd9-9739-546d4a1df344.png)\n\nsim目录下启用终端\n\n```\npython .\\sim_new_nowave.py ..\\tests\\isa\\generated\\rv32ui-p-add.bin inst.data\n```\n\n指令执行会报错，说没有这个文件或目录。\n\n把右下划线全部替换为左下划\n```\npython ./sim_new_nowave.py ../tests/isa/generated/rv32ui-p-add.bin inst.data\n```\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642834551371-8b3c1c95-90ee-4be8-82a1-580628f43fca.png)\n\n顺利运行得到结果。\n\n找到当前目录下的tinyriscv_soc_tb.vcd文件双击启动gtkwave查看\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642834618117-d6d28b0a-e669-4c4a-84ec-31cc0a4cbcf9.png)\n\n基本使用没有问题。\n\n测试所有指令集\n```\npython ./test_all_isa.py\n```\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642834674019-aed36f99-f880-4194-b719-df6b27ae984e.png)\n\n测试新指令集\n\n进入到sim/compliance_test目录，执行以下命令：\n\ncd compliance_test\n\npython ./compliance_test.py ../../tests/riscv-compliance/build_generated/rv32i/I-ADD-01.elf.bin inst.data\n\n得到PASS表明通过。\n\n接下来测试c文件编译\n\n进入到tests\\example\\simple目录，执行以下命令编译：\n\nmake\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642834785652-2f39f13f-116c-4099-b46e-211e6687115e.png)\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642834806309-107d1bcf-de09-4916-8a52-6101f7c461a0.png)\n\n在该目录下回生成.bin文件\n\n编译成功之后，进入到sim目录，执行以下命令开始测试：\n\npython ./sim_new_nowave.py ../tests/example/simple/simple.bin inst.data\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642834850719-192e0499-95a3-43dd-92fb-8f313cee672d.png)\n\n通过，那么至此基本仿真已经没有问题了。\n\n下面测试FPGA移植。\n\n---\n\n# FPGA移植准备\n\n移植需要准备vivado集成开发环境和FPGA，CMSIS-DAP调试器。\n\n我这里安装的是vivado2017.4和Digilent 的 ARTY A7 35T开发板\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642834940453-c8d30666-550c-49ea-b4fd-27c0bfb2cb30.png)\n\n安装vivado需要准备安装包和许可文件，请自行准备。\n\n此处不能拖拽进虚拟机，需要利用共享文件夹的方式。\n\n在虚拟机设置中，将USB兼容性先修改为USB 3.1\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642835002193-d53301fb-1174-48ff-bb4e-79dcf7344567.png)\n\n切换到“选项”\n\n启用共享文件夹，不需要关机。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642835036097-3d9262b6-367a-45fa-ac93-6281843f4a31.png)\n\n之后在根目录/mnt/hgfs/就可以找到自己的共享文件夹了。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642835123217-9287ebb2-edbf-409a-9dda-c1a00fa03573.png)\n\n进入安装包文件夹，\n\n赋予安装权限\n\nchmod +x xsetup\n\n执行命令\n\n./xsetup\n\n启动安装引导\n\n安装过程和windows下没有区别。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642835235819-ac6f193c-cf9d-43b3-bebf-7a50ac1a2f18.png)\n\n安装路径要在/home下，不然空间不足。此处建立了一个EDA_Tools目录供后续各种工具安装。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642835266517-931a7777-e33d-4ab3-bffe-118db1c78114.png)\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642835316942-095f8bad-a398-4968-ae59-59bbab8702ee.png)\n\n安装末尾载入许可文件。\n\n在vivado/2017.4目录下找到settings64.sh配置文件。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642835757055-4ef639a0-69f4-47cf-b3ec-7ebe62b0a49a.png)\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642835867407-93b23c3f-fd30-4d96-8b85-1ae5a1d7f84b.png)\n\n编辑主目录配置文件\n\nvim ~/.bashrc\n\n在末尾添加路径\n\nsource /home/eda/EDA_Tools/Vivado/2017.4/settings64.sh\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642835837664-9db24cbc-9e0b-4218-9c0d-e31b93c8cd36.png)\n\n然后重新加载环境配置\n\nsource ~/.bashrc\n\n至此应该就可以启动vivado了。\n\nvivado &\n\n启动vivado\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642835915355-08e896d7-4eea-43b6-a05d-e9165eb0b61c.png)\n\n顺利启动以后先关闭，处理一些剩余内容。\n\n先把xilinx的信息中心卸载掉。\n\n找到这个软件，打开。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642835986079-5cd04ad3-816b-4138-ab5b-8600453b6edb.png)\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642835999572-167196a3-213d-491f-b500-ad4e482ca46b.png)\n\n直接卸载就行。\n\n接着补充安装驱动，否则后续可能无法烧写板子。\n\n/home/eda/EDA_Tools/Vivado/2017.4/data/xicom/cable_drivers/lin64/install_script/install_drivers\n\n在这个路径下，打开终端。\n\n安装驱动。\n\nsudo ./install_drivers\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642836126443-95a38a4d-0c06-47af-962c-e244cbcdb597.png)\n\n那么vivado也准备完毕以后，开始移植tinyriscv到FPGA上\n\n---\n\n# FPGA移植工作\n\n新建工程\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642836247989-d49e121b-351a-4f25-bc29-7257736724be.png)\n\n我的板子ARTY A7 35T\n\n器件属性选择xc7a35ticsg324-1l\n\n添加源文件\n\n将tinyriscv下整个RTL添加复制进来\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642836322444-5034dc42-bcad-40b4-b776-dc6e7fc47a14.png)\n\n将tinyriscv下fpga/constrs下的.xdc约束文件添加进来。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642836388198-78492ac0-e820-46b5-8b9f-7ed749cea853.png)\n\n打开约束文件，根据自己的开发板进行修改。此处为我自己的约束。\n\n重点关注时钟，我是100M的时钟，等会还要用PLL分频。\n\nGPIO0,1。我分配给了一个LED和一个SW拨码开关。\n\nJTAG和UART使用调试器CMSIS-DAP的相应接口。\n\n都根据自己开发板的原理图来。\n``` verilog\n# 时钟约束50MHz(100MHz)\n\nset_property -dict { PACKAGE_PIN E3 IOSTANDARD LVCMOS33 } [get_ports {sys_clk}];\n\ncreate_clock -add -name sys_clk_pin -period 10.00 [get_ports {sys_clk}];\n\n# 时钟引脚 E3\n\nset_property IOSTANDARD LVCMOS33 [get_ports sys_clk]\n\nset_property PACKAGE_PIN E3 [get_ports sys_clk]\n\n# 复位引脚 CK_RST/ C2\n\nset_property IOSTANDARD LVCMOS33 [get_ports rst]\n\nset_property PACKAGE_PIN C2 [get_ports rst]\n\n# 程序执行完毕指示引脚 LED3/ T10\n\nset_property IOSTANDARD LVCMOS33 [get_ports over]\n\nset_property PACKAGE_PIN T10 [get_ports over]\n\n# 程序执行成功指示引脚 LED2/ T9\n\nset_property IOSTANDARD LVCMOS33 [get_ports succ]\n\nset_property PACKAGE_PIN T9 [get_ports succ]\n\n# CPU停住指示引脚 LED1/ J5\n\nset_property IOSTANDARD LVCMOS33 [get_ports halted_ind]\n\nset_property PACKAGE_PIN J5 [get_ports halted_ind]\n\n# 串口下载使能引脚 SW3/ A10\n\nset_property IOSTANDARD LVCMOS33 [get_ports uart_debug_pin]\n\nset_property PACKAGE_PIN A10 [get_ports uart_debug_pin]\n\n# 串口发送引脚 / D4\n\nset_property IOSTANDARD LVCMOS33 [get_ports uart_tx_pin]\n\nset_property PACKAGE_PIN D4 [get_ports uart_tx_pin]\n\n# 串口接收引脚 / D3\n\nset_property IOSTANDARD LVCMOS33 [get_ports uart_rx_pin]\n\nset_property PACKAGE_PIN D3 [get_ports uart_rx_pin]\n\n# GPIO0引脚 LED0/ H5\n\nset_property IOSTANDARD LVCMOS33 [get_ports {gpio[0]}]\n\nset_property PACKAGE_PIN H5 [get_ports {gpio[0]}]\n\n# GPIO1引脚 SW0/ A8\n\nset_property IOSTANDARD LVCMOS33 [get_ports {gpio[1]}]\n\nset_property PACKAGE_PIN A8 [get_ports {gpio[1]}]\n\n# JTAG TCK引脚 JD9/ H2\n\nset_property IOSTANDARD LVCMOS33 [get_ports jtag_TCK]\n\nset_property PACKAGE_PIN H2 [get_ports jtag_TCK]\n\n#create_clock -name jtag_clk_pin -period 300 [get_ports {jtag_TCK}];\n\n#屏蔽 外部时钟输入分配到普通的IO口\n\nset_property CLOCK_DEDICATED_ROUTE FALSE [get_nets jtag_TCK]\n\n# JTAG TMS引脚 JD10/ G2\n\nset_property IOSTANDARD LVCMOS33 [get_ports jtag_TMS]\n\nset_property PACKAGE_PIN G2 [get_ports jtag_TMS]\n\n# JTAG TDI引脚 JD7/ E2\n\nset_property IOSTANDARD LVCMOS33 [get_ports jtag_TDI]\n\nset_property PACKAGE_PIN E2 [get_ports jtag_TDI]\n\n# JTAG TDO引脚 JD8/ D2\n\nset_property IOSTANDARD LVCMOS33 [get_ports jtag_TDO]\n\nset_property PACKAGE_PIN D2 [get_ports jtag_TDO]\n\n# SPI MISO引脚 CK_MISO/ G1\n\nset_property IOSTANDARD LVCMOS33 [get_ports spi_miso]\n\nset_property PACKAGE_PIN G1 [get_ports spi_miso]\n\n# SPI MOSI引脚 CK_MOSI/ H1\n\nset_property IOSTANDARD LVCMOS33 [get_ports spi_mosi]\n\nset_property PACKAGE_PIN H1 [get_ports spi_mosi]\n\n# SPI SS引脚 CK_SS/ C1\n\nset_property IOSTANDARD LVCMOS33 [get_ports spi_ss]\n\nset_property PACKAGE_PIN C1 [get_ports spi_ss]\n\n# SPI CLK引脚 CK_SCK/ F1\n\nset_property IOSTANDARD LVCMOS33 [get_ports spi_clk]\n\nset_property PACKAGE_PIN F1 [get_ports spi_clk]\n\nset_property BITSTREAM.CONFIG.SPI_BUSWIDTH 4 [current_design]\n\nset_property CONFIG_MODE SPIx4 [current_design]\n\nset_property BITSTREAM.CONFIG.CONFIGRATE 50 [current_design]\n```\n接下来添加锁相环PLL，\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642836752195-29d99d2d-b451-4471-9d1a-7352238e5998.png)\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642836802184-98b9a839-c939-409f-8ca4-82dcc0802e0a.png)\n\n配置IP输出50M时钟\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642836831887-fd0dfc2e-dec8-4f06-a631-fca3a414cedf.png)\n\n打开顶层文件，修改端口clk为sys_clk\n\n往下，在第一个always块前例化PLL\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642836915497-ee469afe-1742-4dc4-a51c-3fe7d481ff74.png)\n\n记得补充声明clk，\n\n至此完成所有FPGA工程配置，生成比特流文件\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642836964664-86131e0d-5dbd-40c5-83e0-c61cd391fbcb.png)\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642837624498-7e7949de-1278-41ce-819c-63d7adc912e4.png)\n\n顺利生成比特流文件，连接开发板直接烧写。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642837670858-0baf19e7-46b1-4f73-b501-d4aa97cad09b.png)\n\n烧写时可能需要重新定位一下，自己生成的bit文件。\n\n板子上的LED亮起，说明顺利烧写进去了，\n\n接下来进行JTAG调试。\n\n---\n\n# FPGA运行调试\n\n调试需要使用到CMSIS-DAP，连好线，做好管脚约束才能使用。\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642837742180-cdcfaced-2eac-479e-be12-606d1f9e7f13.png)\n\n同时还需要上位机，作者提供的只有exe也就是windows下的软件。\n\n***注意，Linux下的openocd安装非常麻烦，我遇到了很多问题，虽然现在顺利安装并使用了。**\n\n**不介意的话后续工作可以直接在windows上进行，把一些文件直接拖到windows下使用即可。**\n\n在Ubuntu下直接安装上位机openocd\n\nsudo apt install openocd\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642837844198-e40a3ae4-9e6a-46f8-a8b5-b1865ae8fe65.png)\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642837948750-15e0920b-4f32-4629-9396-df892a8f11bf.png)\n\n在tools/openocd目录下，我们需要使用到这个.cfg配置文件。\n\nopenocd -f tinyriscv.cfg\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642838023430-1f5c289b-4a22-4221-8d45-17af4c3e22f4.png)\n\n提示不行，这是因为默认安装的openocd不支持CMSIS-DAP，\n\n所以我们还需要源码安装自己配置\n\nsudo apt remove openocd先卸载掉原本安装的\n\n进行源码安装，参考\n\n[https://blog.csdn.net/daoshengtianxia/article/details/115038674](https://blog.csdn.net/daoshengtianxia/article/details/115038674)\n\n在Downloads目录下克隆\n\ngit clone git://github.com/ntfreak/openocd\n\ncd openocd/\n\n安装依赖\n\n然后执行\n\n./bootstrap\n\n缺少了什么但又不清楚，补充安装了一大堆东西。\n\nsudo apt install debhelper findutils autotools-dev autoconf automake libtool pkg-config libltdl-dev\n\n重新执行\n\n./bootstrap\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642841698753-5575bf55-0b9a-4031-9468-4460a37c453a.png)\n\n缺少libusb-1.x，补充安装\n\nsudo apt install libusb-1.0\n\n再次configure\n\n这次应该是顺利配置了\n\n再补充下面这个\n\n./configure --enable-cmsis-dap --enable-jlink --enable-stlink --enable-ti-icdi\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642841849110-e2fadf15-b7d2-4645-b936-1db7b30e2afc.png)\n\n提示需要hidapi，\n\nsudo apt-get install libhidapi-dev\n\n其实是要补充安装这个libhidapi的库，然后再配置。注意一定要给权限。\n\nsudo ./configure --enable-cmsis-dap\n\n配置成功一定要看到这个地方是yes的\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642850188870-cbe6f9fb-8a8a-4b9c-bfe7-ebb2abd644e2.png)\n\n最后编译安装\n\nsudo make&make install\n\n完成安装以后，回到tinyriscv/tools/openocd目录下\n\nopenocd -f tinyriscv.cfg\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642843934150-06521622-27cb-4990-ae48-31be79b750f9.png)\n\n现在可以启用这个软件了，当然目前连接还是失败的，需要再做一些配置。\n\n  \n\n此外，首先需要对.cfg文件中的一些内容做修改。\n\n根据上一张图，有提示说use\"adapter speed\"not'adapeter_khz'\n\n意思就是用前面那个不要用后面那个表述，\n\n打开.cfg就可以看到对应的内容了，改过来就行。\n\n然后还需要准备权限，参考[https://www.bbsmax.com/A/A2dm9B87de/](https://www.bbsmax.com/A/A2dm9B87de/)\n\n  \n\n用lsusb\n\n确认自己的调试器信息\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642844568496-0eb9bd3d-8f41-4e3d-8fde-451e4961b778.png)\n\nBus 003 Device 008: ID **0d28:0204** NXP LPC1768\n\n需要增加一个rules文件，参考[https://blog.csdn.net/zhengyangliu123/article/details/78232241](https://blog.csdn.net/zhengyangliu123/article/details/78232241)\n\n进入前面克隆的openocd/contrib 目录\n\n使用指令将 60-openocd.rules 文件复制入 /etc/udev/rules.d/ 目录下\n\nsudo cp 60-openocd.rules /etc/udev/rules.d/\n\n然后，对文件做一些修改【此处存疑，可能不改也能用】\n\nsudo gvim /etc/udev/rules.d/60-openocd.rules\n\n最下面的地方，改成跟我下图一样的。\n\n注意idVendor和idProduct要保持和上面看到的**0d28:0204**设备信息一致。\n\n保存以后重启电脑\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642850481531-9c985367-461a-4aac-8814-e9470b6efe83.png)\n\n回到之前的tinyriscv中的openocd文件夹，使用终端执行\n\nopenocd -f tinyriscv.cfg\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642845563701-97b3bd7d-d83b-4217-95ac-84ecc9d44539.png)\n\n终于看到这个了，不容易啊\n\n***注意，这里存在未知问题。每次重启系统以后，最开始使用openocd会报错。需执行3次，才会识别并启用……**\n\n**原因不明，但每次都这样。只要启动成功，不关机就不会有这个问题。**\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642849298195-291dbe76-f976-4ffc-9899-66345ac03da2.png)\n\n新开一个终端，看作者后续的操作。windows和linux在路径上有些不同\n\n然后打开另一个CMD窗口，执行以下命令来连接openocd，注意电脑要启用telnet host服务。\n\ntelnet localhost 4444\n\n然后在这个CMD窗口下使用load_image命令将固件下载到FPGA，这里以freertos.bin文件为例，如下所示：\n\nload_image D:/gitee/open/tinyriscv/tests/example/FreeRTOS/Demo/tinyriscv_GCC/freertos.bin 0x0 bin 0x0 0x1000000\n\n使用verify_image命令来校验是否下载成功，如下所示：\n\nverify_image D:/gitee/open/tinyriscv/tests/example/FreeRTOS/Demo/tinyriscv_GCC/freertos.bin 0x0\n\n如果下载出错的话会有提示的，没有提示则说明下载成功。\n\n最后执行以下命令让程序跑起来：\n\nresume 0\n\n注意：每次下载程序前记得先执行halt命令停住CPU。；\n\n这里使用gpio进行验证\n\n在/home/eda/Project/tinyriscv/tests/example/gpio路径下使用make编译生成bin文件\n\n在telnet窗口下使用下面命令烧写程序\n\nload_image /home/eda/Project/tinyriscv/tests/example/gpio/gpio.bin 0x0 bin 0x0 0x1000000\n\nverify_image /home/eda/Project/tinyriscv/tests/example/gpio/gpio.bin 0x0 bin 0x0\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642848549441-fd8d6505-7ab4-4923-a6e6-2efc77ef0d2d.png)\n\n如果看到这个，说明程序烧写成功了\n\nresume 0\n\n此时开发板已经可以正常使用，LED灯会随对应的那个开关亮灭。\n\n下面测试一下串口，\n\n先去把串口发送uart_tx的程序编译一下\n\n安装串口调试工具cutecom\n\nsudo apt-get install cutecom\n\n直接打开工具\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642849032103-675596f5-f767-43b3-bd70-e9546f14ce6e.png)\n\n选这个ACM\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642849045300-28590f80-c0da-4973-920f-f5b17112c5b3.png)\n\nOPEN以后会看到，连接的就是这个CMSIS-DAP调试器\n\nload_image /home/eda/Project/tinyriscv/tests/example/uart_tx/uart_tx.bin 0x0 bin 0x0 0x1000000\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642849088312-75a6736b-e0c5-4498-84d0-e4f1e90ea30b.png)\n\n![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/image-1642849150317-3b885dcb-0e75-4f58-b58d-1a5d4e89b46b.png)\n\n烧写进去并且resume以后，可以看到串口助手窗口打印了hello world。\n\n至此，整个tinyriscv的linux开发环境搭建完成，可以运行整个项目的所有内容。\n\n# 其他补充\n\n输入su命令获取root权限时， 出现了\n\nauthentication failure 的问题，即身份验证失败。\n\n需要进行下面操作：\n\n$ sudo passwd root\n\nEnter new UNIX password:\n\n//此时输入你的密码\n\nRetype new UNIX password:\n\n//再次输入，相同密码。\n\npasswd: password updated successfully\n\n此时再用su命令，就可以获取到root权限了。","tags":["数字IC","Linux"],"categories":["技术笔记"]},{"title":"CHI flitpend是干嘛的","url":"/posts/b6eda8db.html","content":"\n\n定位一个挂死问题，追波形追了一个下午，最后发现是这个FLITPEND导致的……\n\n\n<!--less-->\n\n\n## 参考文献\n\nARM官方手册：[AMBA 5 CHI Architecture Specification](https://developer.arm.com/documentation/ihi0050/ec/?lang=en) [CHI协议链路层 - 知乎](https://zhuanlan.zhihu.com/p/483365845)\n\n## FLITPEND协议描述\n\nCHI协议链路层的一个信号![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230109222754.png)\n\n之前看协议的时候有点忽略了这个东西 这个PEND信号是什么含义，可能字面上不太好理解。 它其实就是个时钟门控信号\n\nFLITPEND信号预测接下来会有一笔有效的flit传输。 可以用来开启时钟 正常来讲，FLITPEND需要比FLITV快一个时钟， 也就是在FLITPEND有效的下一拍发来数据， 所以该信号就是一笔预测信号，帮助SLV开启时钟的。![](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20230109223107.png)\n\n## 问题记录\n\n这次定位问题就是在这个地方， 使用了pend，但是发过来的pend不准。 本来FLITPEND需要比FLITV早一拍到， 但可能由于multicycle的原因，导致慢了一点点， FLITPEND没有在早一拍的时钟上升沿到达， FLITPEND和FLITV同拍了， 这会导致时钟门控打开的晚了，\n\n从时序图可以看到， FLITV和FLIT才是应该同拍的信号， 时钟门控打开的晚了， 导致在某个模块中，同拍输入FLITV和FLIT， 在下一个时钟变成了错拍的情况： FLITV过了一拍，FLIT过了一拍才输出。\n\nFLITV和FLIT错拍了， 后续所有采集都会采错，就，导致系统挂死了。","tags":["CHI","AMBA","知识分享"],"categories":["技术笔记"]},{"title":"Hexo Icarus主题文章栏如何调宽","url":"/posts/39ae3fe6.html","content":"\nHexo Icarus主题文章栏设置为2栏以后，太窄了，显示内容较少，想提高一下页面利用率。\n\n<!--less-->\n\n> Hexo Icarus主题文章栏设置为2栏以后，太窄了，显示内容较少，想提高一下页面利用率。\n\n这里需要修改Icarus主题目录下的几个文件。\n\n - layout/layout.jsx\n - layout/common/widgets.jsx\n - include/style/responsive.styl\n\n\n# 参考文献\n---\n\n[Icarus主题美化_icarus插入代码-CSDN博客](https://blog.csdn.net/etherealsymbol/article/details/107060652?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0-107060652-blog-111564883.235^v43^control&spm=1001.2101.3001.4242.1&utm_relevant_index=1)\n[Icarus主题魔改 - Winky's Blog](https://winkygranger.github.io/2023/05/02/Icarus%E4%B8%BB%E9%A2%98%E9%AD%94%E6%94%B9/)\n\n[Icarus主题的一些常用配置 - zmm'blog](http://zhaommmmomo.cn/2021/09/14/Icarus%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE/#%E5%A2%9E%E5%8A%A0%E4%B8%A4%E6%A0%8F%E5%B8%83%E5%B1%80%E4%B8%8B%E6%96%87%E7%AB%A0%E7%9A%84%E5%AE%BD%E5%BA%A6)\n\n[icarus个性化配置 - Hongjie's blog](http://www.anticme.com/2021/03/26/icarus%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/#%E4%BF%AE%E6%94%B9%E5%B8%83%E5%B1%80%E5%AE%BD%E5%BA%A6)\n\n\n# 修改要点\n---\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240702003502.png)\n\n修改这一个地方就可以了\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240702003518.png)\n\n\n## 调整前\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240702003644.png)\n\n## 调整后\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240702003704.png)\n有明显的效果，但是左侧空的太多了。不对称的感觉。\n\n\n\n# 修改要点2\n---\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240702010431.png)\n\n关键是这里，把这个2 * 给删掉。\n这样修改以后，2栏模式和3栏模式，都可以对齐了。\n\n\n\n## 再调整后  \n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240702010620.png)\n","tags":["工具","HEXO"],"categories":["解决方案"]},{"title":"Hexo直接发布Obsidian路径下的文章","url":"/posts/da16531b.html","content":"\nObsidian撰写文章，还要复制到Hexo的_post路径下，才能部署，这个动作太麻烦了。\n\n<!--less-->\n\n> Obsidian撰写文章，还要复制到Hexo的_post路径下，才能部署，这个动作太麻烦了。\n\n\n# 参考文献\n---\n[Win10 mklink 命令怎么用，mklink 命令使用教程-逍遥峡谷](https://www.icoa.cn/a/910.html)  \n[想写就写，灵思无疆：用自动化部署让写作更得心应手 - 少数派](https://sspai.com/post/80741#!)  \n\n# 建立软链接即可实现\n---\n通过mklink的windows命令，可以将obsidian下的文章路径，链接到hexo的_post下，这样再执行hexo d，就可以直接发布文章了。\n```\nmklink /d /j [链接到的路径] [被链接的路径]\n```\n\n![mklink命令示例](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240628010112.png)\n\n![建立链接后的效果，看着像快捷方式](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240702224257.png)\n\n建立连接以后，看着像是快捷方式，但不能用快捷方式的方式来链接。必须用mklink的命令来完成。\n\n# 进一步的，直接在Obsidian执行Hexo部署命令\n\n需要使用到插件shell command。\n然后将工作路径设置在Hexo仓下，命令只需要`hexo g -d`即可。\n![设置工作路径](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240702224537.png)\n\n![添加一条命令](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240702224633.png)\n\n将该命令设置到command列表上，这个需要commander插件来实现。\n![command图标](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240702224719.png)\n\n今后点一下就可以执行命令完成Hexo的部署啦  \n\n![执行命令的气泡信息提示](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20240702224755.png)\n","tags":["Obsidian","HEXO"],"categories":["解决方案"]},{"title":"markdown笔记工具分析","url":"/posts/c1f4e46a.html","content":"\n记录一下自己使用其他笔记工具的感受。\n\n<!--less-->\n\n\n兜兜转转选择了使用obsidian作为自己的markdown笔记工具。记录一下自己使用其他笔记工具的感受。\n\n# typora\n能很好的完成markdown的编写工作，但缺少文件管理能力。\n没有标签页。没有其他功能。\n\n\n# 思源\n支持markdown编辑，但数据格式其实是sy这样的私有格式。\n每一段都有链接能力，粒度太小，其实我用不上。\n加载速度较慢。\n导出markdown还算方便，可以整个笔记本导出。\n\n# 语雀\n建议不要使用它进行编辑。只作为发布平台。\n真的，绑架用户是最垃圾的行为。\n导出便捷性极差，不能整个知识库导出。\n文章只能一篇一篇导出。\n我清楚的记得，早期的语雀是可以整个知识库一起导出的，\n而且导出的格式有很多种，包括word，pdf，markdown等等。\n我才放心使用的，没想到后面更新后把这些都嘎掉了。\n现在知识库导出只能导出私有格式，\n文章导出除了私有格式只有markdown，\n真的，很，讨厌你们这样的行为。\n\n迁移成本高，说到底就是绑架用户，\n网页端体验不佳，切换页面加载很不舒服。\n不能离线使用。\n\n# obsidian\n比较全面的工具。\n官方同步功能价格昂贵，\n还好有remote save这样的插件可以实现同步功能，\n我个人结合OneDrive使用十分方便，\n移动端和PC端同步数据方便。\n数据就是markdown，备份方便。\n\n缺点：在公司不敢用。\n\n\n# VSCODE+office view扩展\n不得已的选择，不过比typora文件管理方便一些。\n","tags":["Markdown"],"categories":["工具套件"]},{"title":"Readwise文献剪藏有用吗","url":"/posts/22e0203a.html","content":"\n\nReadwise Reader，构建笔记系统的最后一环，稍后读+剪藏+RSS。\n\n<!--less-->\n\n## 相遇不容易\n终于找到了！！！！\n我笔记系统的最后一环，稍后读+剪藏+RSS。\n\n我试了好几个RSS阅读器，还是那个问题，我觉得好，想收藏的时候会很尴尬，没法流畅的剪藏到obsidian里面，只能很尴尬的发个链接过来。\n\n终于发现了这个readwise，而且居然能用国内网直连更新！！！我去，为什么readly还有inoread都必须翻墙才能刷新数据无语了，这个就可以直连。\n\n而且这个工具可以直接同步笔记到obsidian上，太完美了我只能说，真正的剪藏操作。\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20231107221329.png)\n就是价格有点贵，如果原价的话，要700r一年………………\n然后神奇的是，说中国可以申请发展中国家优惠…………\n我试了一下，光速神奇成功…………………………\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20231107220847.png)\n好吧，现在4美元1个月，我直接开了一年。\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20231107220251.png)\n\n## 使用体验\n这个东西用起来体验可以说是非常完美了。整个工作流程是畅通的。\n首先在feed栏看RSS链更新的文章，瞅一眼标题，如果感兴趣，就拖拽一下改成later待读状态。\n![4a521234b277c4c3edfcf49a3b8cf49.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/4a521234b277c4c3edfcf49a3b8cf49.jpg)\n\n全部清干净以后，有空的时候再去later里读一读。\n![e628865545c41009d465fdc71bde403.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/e628865545c41009d465fdc71bde403.jpg)\n\n读的时候，如果发现没有价值直接删掉，如果有意思的段落，可以双击高亮。\n\n全文读完以后选择归档achieve。\n\n最后在打开obsidian的时候，就会自动同步，同步以后就可以看到高亮的内容啦，甚至还有原文高亮链接，点开以后可以网页端继续看全文。只能说体验逻辑非常流畅完整。\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20231108224038.png)\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20231108224052.png)\n\n![image.png](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20231108224137.png)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n获取RSS链接的方式不太容易，终于要还是靠RSSHub，另外我也可以直接在inoreader直接搜索，然后复制它的rss链接。\n[各种转 RSS 服务](https://rss.lilydjwg.me/)\n[2023 年我的 RSS 订阅方式](http://jpliu.github.io/rss2023.html)\n[💬 Social Media | RSSHub](https://docs.rsshub.app/zh/routes/social-media)\n","tags":["方法论","工具"],"categories":["工具套件"]},{"title":"为什么要用Markdown做笔记","url":"/posts/c97fc71d.html","content":"\nmarkdown有个说法，叫做让人可以专注于笔记内容上。\n\n\n<!--less-->\n\n\nmarkdown是一种，简单文本格式，它的内容格式其实是固定的。对比最明显的就是word文档这种富文本。\n\n正文的字号，字体，每一级标题的字号字体，文本的颜色，序列形式，表格格式，一切都是设定好的。当然，具体展现形式还是可以通过主题配置进行修改，但本质是固定的。可以看一下这个测试用例，一切都是有定数的。[Markdown 测试用例 - GShang2021 - 博客园](https://www.cnblogs.com/ctgu/p/15804280.html)\n\n\n\n如果尝试用过word做笔记，就肯定会遇到一些比较烦的情况。比如，复制网页内容的时候，还需要特意调整格式，缩进乱跑等情况。还有表格，有时候自动变化的表格会让人很抓狂。\n\n而在markdown里，由于文本的格式是固定的，所以你复制进入的是正文，它就会自动使用正文的格式，保持文章格式的一致性。这样可以很轻松的写出好看的文章，保持一致性，看的非常舒服。\n\n另外，md作为一种代码，它的信息量小，存储成本极低。甚至可以用git进行版本管理，非常有趣。当然，我一般也不会去进行版本管理，因为文章的内容一般是新增的。我也没有回退版本的需求。不过能托管到git仓上，对于数据的备份也是有极大帮助的。\n\n另外一点，markdown作为一种代码格式，他是有自己的语法的。\n当你想加粗，注释，引用，增加序列的时候，通过输入的方式就可以完成。在熟练使用后，可以提升编辑的流畅感。\n不需要动鼠标，不需要按快捷键，虽然这样也很方便。\n\n当然也有不方便的地方，那就是图片。如果能够使用一些方式进行同步的话，其实还是能够接受的，但如果想将内容输出为博客，传到网络上的话，可能需要研究一下图床才行。","tags":["笔记","Markdown"],"categories":["技术笔记"]},{"title":"家有小红","url":"/posts/cea648c2.html","content":"# 家有小红\n## 核心目标\n- 记录小红的成长\n- 观察小红的健康\n## 当前关注\n- [ ] 饮食结构调整\n\n## 里程碑\n### 2025-08-02 小红来我家半年啦\n目前看着一切安好，吃好喝好很好动。\n目前基本控制龟粮为主，水果、蔬菜少吃。\n\n## 相关项目\n```dataviewjs\n// 获取当前笔记名称（不含.md）\nconst currentNoteName = dv.current().file.name.replace(\".md\", \"\");\n\n// 查询所有链接到当前 project 笔记的 `type=project` 笔记\nconst projectPages = dv.pages()\n    .where(p => \n        p.type === \"projects\" &&\n        p.file.outlinks.some(link => link.path === dv.current().file.path)\n    )\n    .sort(p => p.file.cday, 'asc'); // 仍按创建时间排序\n\n// 状态显示函数（基于 done 状态）\nfunction getStatusIcon(project) {\n    return project.done ? \"✅ 已完成\" : \"🟡 进行中\";\n}\n\n// 进度显示函数（支持多种格式）\nfunction getProgressDisplay(project) {\n    if (project.done) return \"▮▮▮▮▮ 100%\";\n    if (!project.progress) return \"▯▯▯▯▯ 0%\";\n    \n    // 处理不同进度格式\n    if (project.progress.includes(\"▮\")) {\n        return project.progress;\n    } else {\n        const percent = parseInt(project.progress.toString().replace(/\\D/g, '')) || 0;\n        const filled = Math.floor(percent / 20);\n        return \"▮\".repeat(filled) + \"▯\".repeat(5-filled) + ` ${percent}%`;\n    }\n}\n\n// 结项日期显示函数\nfunction getCompletionDate(project) {\n    if (!project.done) return \" \";\n    if (project.completion) {\n        return dv.date(project.completion).toISODate();\n    }\n    if (project.file.mtime) {\n        return project.file.mtime.toISODate(); // 降级使用最后修改时间\n    }\n    return \"无记录\";\n}\n\n// 显示结果\nif (projectPages.length > 0) {\n    // 统计项目状态及关联笔记数量\n    const projectsWithNoteCount = projectPages.map(p => {\n        const noteCount = dv.pages()\n            .where(n => \n                n.type === \"notes\" &&\n                n.file.outlinks.some(link => link.path === p.file.path)\n            ).length;\n\n        return {\n            ...p,\n            noteCount,\n            status: getStatusIcon(p),\n            progress: getProgressDisplay(p),\n            completion: getCompletionDate(p)\n        };\n    });\n\n    // 计算统计信息\n    const doneCount = projectsWithNoteCount.filter(p => p.done).length;\n    const totalCount = projectsWithNoteCount.length;\n\n    dv.table(\n    [\"状态\", \"项目名称\", \"进度\", \"关联笔记\", \"创建时间\", \"结项日期\"], \n    [\n        ...projectsWithNoteCount.map(p => [\n            p.status,\n            p.file.link,\n            p.progress,\n            p.noteCount > 0 ? `📝 ${p.noteCount}` : \"无\",\n            p.file.cday.toISODate(),\n            p.completion\n        ]),\n        // 统计行（已修复）\n        [\n            `**${doneCount}/${totalCount}**`,\n            `**项目统计**`,\n            `**完成率: ${Math.round(doneCount/totalCount*100)}%**`,\n            \"\",\n            \"\",\n            `**最近结项: ${\n                projectsWithNoteCount\n                    .filter(p => p.done)\n                    .sort((a, b) => (b.file?.mtime || new Date(0)) - (a.file?.mtime || new Date(0)))\n                    [0]?.completion || \"无\"\n            }**`\n        ]\n    ]\n\t);\n} else {\n    dv.span(`当前领域笔记没有链接到任何项目笔记`);\n}\n\n```\n\n## 相关笔记\n```dataviewjs\n// 获取当前领域名\nconst currentAreaName = dv.current().file.name.toLowerCase();\n\n// 查找所有 type 为 notes 且 tags 中包含领域名的笔记\nconst relatedNotes = dv.pages()\n    .where(p => \n        p.type === \"notes\" &&\n        Array.isArray(p.tags) &&\n        p.tags.some(tag => \n            typeof tag === \"string\" &&\n            tag.toLowerCase().includes(currentAreaName)\n        )\n    )\n    .sort(p => p.file.mtime, 'desc'); // 按修改时间倒序\n\n// 生成表格\ndv.table(\n    [\"笔记名称\", \"最后修改时间\"],\n    relatedNotes.map(p => [\n        p.file.link,\n        p.file.mtime ? p.file.mtime.toFormat(\"yyyy-MM-dd HH:mm\") : \"未知\"\n    ])\n);\n\n```\n\n\n\n## 相关资源\n```dataviewjs\n// 当前领域名（小写）\nconst currentAreaName = dv.current().file.name.toLowerCase();\n\n// 获取当前领域笔记的 tags（全部小写）\nconst areaTags = (dv.current().tags || [])\n    .filter(t => typeof t === \"string\")\n    .map(t => t.toLowerCase());\n\n// 查找相关的 resources\nconst relatedResources = dv.pages()\n    .where(p => \n        p.type === \"resources\" &&\n        Array.isArray(p.tags) &&\n        (\n            // 方式1：tags 包含领域名\n            p.tags.some(tag => typeof tag === \"string\" && tag.toLowerCase().includes(currentAreaName))\n            ||\n            // 方式2：tags 与领域的 tags 有交集\n            p.tags.some(tag => typeof tag === \"string\" && areaTags.includes(tag.toLowerCase()))\n        )\n    )\n    .sort(p => p.file.mtime, 'desc'); // 按最后修改时间降序\n\n// 输出表格\ndv.table(\n    [\"资源笔记\", \"最后修改时间\", \"匹配标签\"],\n    relatedResources.map(p => {\n        const resTags = (p.tags || []).map(t => t.toLowerCase());\n        const matched = resTags.filter(t => t.includes(currentAreaName) || areaTags.includes(t));\n        return [\n            p.file.link,\n            p.file.mtime ? p.file.mtime.toFormat(\"yyyy-MM-dd HH:mm\") : \"未知\",\n            matched.join(\"，\") || \"—\"\n        ];\n    })\n);\n\n```","tags":["爬宠","红腿陆龟"]},{"title":"完成比完美更重要的日记系统","url":"/posts/8a5ecb4c.html","content":"\n# 完成比完美更重要的日记系统\n**关联领域**: [笔记人生](认真生活/笔记人生.md)\n\n## 项目计划\n- [x] #TODO 公司的方案较好，改造本笔记系统  [due:: 2025-06-29]  [completion:: 2025-07-28]\n- [/] #TODO 如何在周记体现打卡情况  [due:: 2025-09-05]\n- [x] 习惯跟踪还需要优化显示 #TODO  [due:: 2025-05-31]  [completion:: 2025-06-08]\n- [ ] 如何在周记体现项目进度 #TODO [due:: 2025-05-30]\n- [x] quickadd日记按键语法优化  [due:: 2025-05-29]  [completion:: 2025-05-30]\n- [x] 尝试调整嵌入小记时的间距  [due:: 2025-05-29]  [completion:: 2025-05-29]\n- [x] 小记嵌入显示背景色修改  [due:: 2025-05-29]  [completion:: 2025-05-29]\n- [x] 完成三次周记维护，养成习惯 #TODO  [repeat:: every week]  [due:: 2025-06-15]  [completion:: 2025-07-05]\n- [x] 完成三次周记维护，养成习惯 #TODO  [repeat:: every week]  [due:: 2025-06-08]  [completion:: 2025-07-05]\n- [x] 完成三次周记维护，养成习惯 #TODO  [repeat:: every week]  [due:: 2025-06-01]  [completion:: 2025-07-05]\n- [ ] 添加年记模板 #TODO  [due:: 2025-06-30]\n- [ ] 添加月记模板 #TODO  [due:: 2025-06-15]\n- [ ] 分析月记意义 #TODO  [due:: 2025-06-01]\n- [x] 实现日记按键note toolbar美化  [due:: 2025-05-28]  [completion:: 2025-05-28]\n- [x] 实现记账按键  [due:: 2025-05-27]  [completion:: 2025-05-28]\n- [x] 实现周记汇总打卡进度  [due:: 2025-05-27]  [completion:: 2025-05-30]\n- [x] 优化周记模板，更好的整理，并撰写小结  [due:: 2025-05-27]  [completion:: 2025-05-30]\n- [x] 建立项目计划  [due:: 2025-05-26]  [completion:: 2025-05-28]\n- [x] 优化日记模板  [due:: 2025-05-26]  [completion:: 2025-05-27]\n\n## 项目笔记\n```dataviewjs\n// 获取当前笔记名称（不含.md）\nconst currentNoteName = dv.current().file.name.replace(\".md\", \"\");\n\n// 查询所有链接到当前 project 笔记的 `type=note` 笔记\nconst notePages = dv.pages()\n    .where(n => \n        n.type === \"note\" &&\n        n.file.outlinks.some(link => link.path === dv.current().file.path)\n    )\n    .sort(n => n.modify, 'desc'); // 按修改时间排序\n\n// 计算统计信息\nconst totalNotes = notePages.length;\nconst completedNotes = notePages.filter(n => n.done).length;\nconst recentUpdated = notePages[0]?.file.mday.toISODate() || \"无记录\";\n\n// 显示结果\nif (totalNotes > 0) {\n    dv.table(\n        [\"状态\", \"笔记名称\", \"最近修改\", \"进度\"], \n        [\n            ...notePages.map(n => [\n                n.done ? \"✅ 已完成\" : \"🟡 进行中\",\n                n.file.link,\n                n.file.mday.toISODate(),\n                n.progress || \"无进度数据\"\n            ]),\n            // 统计行\n            [\n                `**${completedNotes}/${totalNotes}**`,\n                `**笔记统计**`,\n                `**最近更新: ${recentUpdated}**`,\n                ` `\n            ]\n        ]\n    );\n} else {\n    dv.span(`当前 project 笔记没有链接到任何笔记`);\n}\n\n```\n\n## 项目资源\n","tags":["日记","PARA","生活"]},{"title":"第一次购房计划","url":"/posts/18a15a97.html","content":"\n# 第一次购房计划\n**关联领域**: [舒适的家](认真生活/舒适的家.md)\n\n## 项目计划\n- [x] #TODO 看房黄埔雅苑三期  [due:: 2025-06-22]  [completion:: 2025-06-22]\n- [x] #TODO 整理买房核心要素  [due:: 2025-06-18]  [completion:: 2025-06-22]\n- [x] #TODO 建立项目计划  [due:: 2025-06-18]  [completion:: 2025-06-23]\n\n## 项目笔记\n```dataviewjs\n// 获取当前笔记名称（不含.md）\nconst currentNoteName = dv.current().file.name.replace(\".md\", \"\");\n\n// 查询所有链接到当前 project 笔记的 `type=note` 笔记\nconst notePages = dv.pages()\n    .where(n => \n        n.type === \"notes\" &&\n        n.file.outlinks.some(link => link.path === dv.current().file.path)\n    )\n    .sort(n => n.modify, 'desc'); // 按修改时间排序\n\n// 计算统计信息\nconst totalNotes = notePages.length;\nconst completedNotes = notePages.filter(n => n.done).length;\nconst recentUpdated = notePages[0]?.file.mday.toISODate() || \"无记录\";\n\n// 显示结果\nif (totalNotes > 0) {\n    dv.table(\n        [\"状态\", \"笔记名称\", \"最近修改\", \"进度\"], \n        [\n            ...notePages.map(n => [\n                n.done ? \"✅ 已完成\" : \"🟡 进行中\",\n                n.file.link,\n                n.file.mday.toISODate(),\n                n.progress || \"无进度数据\"\n            ]),\n            // 统计行\n            [\n                `**${completedNotes}/${totalNotes}**`,\n                `**笔记统计**`,\n                `**最近更新: ${recentUpdated}**`,\n                ` `\n            ]\n        ]\n    );\n} else {\n    dv.span(`当前 project 笔记没有链接到任何笔记`);\n}\n\n```\n\n## 项目资源\n","tags":["购房"]},{"title":"基于PARA法的任务管理架构实现","url":"/posts/43d2d36c.html","content":"\n# 基于PARA法的任务管理架构实现\n\n**关联领域**: [笔记人生](认真生活/笔记人生.md)\n\n## 项目计划\n- [ ] #TODO hexo发布自动化 [due:: 2025-09-07]\n- [x] #TODO 建立习惯打卡规则  [due:: 2025-09-04]  [completion:: 2025-09-05]\n- [x] #TODO 主页项目领域笔记显示优化。  [due:: 2025-08-17]  [completion:: 2025-08-29]\n- [ ] #TODO 三天打鱼两天晒网的计划，是否还能重拾？还剩小半年，现在开始还不晚。  [due:: 2025-09-06]\n- [x] #TODO type修改project为复数  [due:: 2025-08-03]  [completion:: 2025-08-19]\n- [x] #TODO 如何在主页呈现项目信息  [due:: 2025-06-08]  [completion:: 2025-09-01]\n- [x] #TODO 按键改造成note toolbar  [due:: 2025-05-26]  [completion:: 2025-05-28]\n- [ ] 增加项目延期场景 #TODO [due:: 2025-05-26]\n- [x] 增加项目计划关闭时间 #TODO  [due:: 2025-05-26]  [completion:: 2025-06-08]\n- [ ] 整理PARA笔记执行流程 #TODO  [due:: 2025-05-31]\n- [ ] 完成PARA改造 #TODO  [due:: 2025-09-30]\n- [x] 领域笔记模板准备 #TODO  [due:: 2025-05-26]  [completion:: 2025-06-18]\n- [ ] 项目笔记模板准备 #TODO [due:: 2025-05-26]\n- [x] #TODO 建立项目计划  [due:: 2025-05-21]  [completion:: 2025-05-26]\n- [x] #TODO 支持在项目的目录下直接新建笔记  [due:: 2025-05-25]  [completion:: 2025-05-25]\n- [x] #TODO 明确哪些类型的笔记需要PARA化  [due:: 2025-05-25]  [completion:: 2025-05-25]\n- [x] #TODO 实现项目看板，显示进度、完成状态、结项日期等  [due:: 2025-05-24]  [completion:: 2025-05-24]\n- [x] #TODO 建立folder note，实现文件层次化归档  [due:: 2025-05-23]  [completion:: 2025-05-23]\n- [x] #TODO 支持领域笔记自动查询相关项目笔记，显示修改时间及进度  [due:: 2025-05-21]  [completion:: 2025-05-22]\n- [x] #TODO 支持自动更新笔记进度  [due:: 2025-05-21]  [completion:: 2025-05-22]\n\n## 项目日志\n### 2025-09-07 hexo自动化不方便 \nhttps://github.com/Enveloppe/obsidian-enveloppe 研究下这个 \n### 2025-08-31 理解进一步加深 \n需要绘制一个系统架构图，来推进PARA架构了。 \n\n\n## 项目笔记\n```dataviewjs\n// 获取当前笔记名称（不含.md）\nconst currentNoteName = dv.current().file.name.replace(\".md\", \"\");\n\n// 查询所有链接到当前 project 笔记的 `type=note` 笔记\nconst notePages = dv.pages()\n    .where(n => \n        n.type === \"notes\" &&\n        n.file.outlinks.some(link => link.path === dv.current().file.path)\n    )\n    .sort(n => n.modify, 'desc'); // 按修改时间排序\n\n// 计算统计信息\nconst totalNotes = notePages.length;\nconst completedNotes = notePages.filter(n => n.done).length;\nconst recentUpdated = notePages[0]?.file.mday.toISODate() || \"无记录\";\n\n// 显示结果\nif (totalNotes > 0) {\n    dv.table(\n        [\"状态\", \"笔记名称\", \"最近修改\", \"进度\"], \n        [\n            ...notePages.map(n => [\n                n.done ? \"✅ 已完成\" : \"🟡 进行中\",\n                n.file.link,\n                n.file.mday.toISODate(),\n                n.progress || \"无进度数据\"\n            ]),\n            // 统计行\n            [\n                `**${completedNotes}/${totalNotes}**`,\n                `**笔记统计**`,\n                `**最近更新: ${recentUpdated}**`,\n                ` `\n            ]\n        ]\n    );\n} else {\n    dv.span(`当前 project 笔记没有链接到任何笔记`);\n}\n\n```\n\n## 项目资源\n- [[让模糊的愿望一步步落地：基于 Obsidian 的目标项目化实践]]\n- [[笔记软件及剪藏：Obsidian与Markdownload - 知乎]]\n- [[文献仓库/待读/让模糊的愿望一步步落地：基于 Obsidian 的目标项目化实践]]\n","tags":["PARA","Obsidian","方法论","任务管理"]},{"title":"要以什么粒度规划自己的工作？","url":"/posts/d875bafd.html","content":"要以什么粒度规划自己的工作？\n\n其实，我们每一天过的是很快的。\n只有少数任务需要限定在某个具体的时间段，这类属于及时任务。\n而大部分工作，能在当天完成，就已经可以了。\n\n因此，我的任务以天为粒度规划，如果需要立马完成，将优先级调到最高，并备注一下即可。\n","tags":["笔记","方法论"],"categories":["闪念胶囊"]},{"title":"2025 五一 巴厘岛","url":"/posts/a1ad8d3c.html","content":"# 第一天 在途\n这一天值得说的是去程，\n这次选择了蛇口轮渡到香港机场的方案，\n我只能说非常舒适，人少，过关快，有厕所，到机场时间稳定可控，全程很放松。\n这次选择了国泰航空，比较贵，但是确实很好。飞机餐食有准备特色印尼菜，味道好，最后哈根达斯收尾。\n\n大约五点半，落地机场后就是光速出关，找接机。是那种拿着纸写着BAI的那种哈哈，找着以后坐车前往酒店。\n这里开始感受巴厘岛落后了……主干道路也窄，所以很堵，非常堵，开了很久。路上也是摩托乱窜。两侧店铺破旧，小平房，经济发展毫无疑问是比较差滴，不过能看到当地风格的建筑，所以还算新奇。\n但到了酒店就不一样了。\n直接到酒店入住，酒店是那种度假酒店，围了一个泳池的那种，看着贼好，第一次住这样的酒店还是很新奇的。\n\n![20250430_183819.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250430_183819.jpg)\n酒店内很豪华，酒店外真的就很破，直接进小县城的感觉。\n为了吃晚饭，很保守的在酒店旁的餐厅吃了一顿。\n味道很独特但称不上好吃，那个炒饭好咸……\n![20250430_204252.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250430_204252.jpg)\n\n# 第二天 渐入佳境\n第二天，我开始有度假的感觉啦\n首先是好好睡了一觉，睡醒慢悠悠的去吃了早餐。五星级酒店的早餐就是赞啊，自助餐，东西很丰富，水准很高。特别的，他们的咖啡很好喝，我点的那杯拿铁很香，很润，喝起来很舒服，唤醒我精神的感觉。\n![20250501_094209.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250501_094209.jpg)\n\n然后出门购物，说实话，乡下地方，街道两旁的东西并不是很好逛，东西少，价格贵，但我依旧在一个手工艺品店挑了一个木雕猫头鹰，莫名的就看对眼了，价格15rmb就也还好。\n![20250501_115105.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250501_115105.jpg)\n\n\n最后还是在一个小mall里买齐了东西，柳依要的裤子，编织袋，我还买了一件花衬衫哈哈，挺帅，适合我的气质。\n午饭吃的泰国菜，柳依是越南粉，我是鸡肉绿咖喱，还喝了泰式奶茶和椰子。泰奶很好喝，不知道咋做的，风味上很像港奶，但是比它丝滑，也更甜一点。绿咖喱很有特色，很好吃，但我觉得咖喱少了一点，饭没法全部配着吃完，可惜可惜。\n![20250501_130201.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250501_130201.jpg)\n\n下午就很度假啦，我直接拒绝了白白出门找甜点的计划，美美的享受酒店泳池旁的闲适感。穿上我新买的花衬衫和泳裤，找一张凳子，铺上免费的毛巾，往那一趟，嘴里喝着冰可乐，手里拿着电子书，别提多安逸了～身体稍微沾点水，再躺在椅子上，风轻轻吹过带来凉意，感觉特别特别舒服，心情很放松，没有压力没有烦恼，短暂且珍贵。白白最后也被这舒服的氛围所吸引，没有出门，换上泳装跟我一起下水玩了一会。我老婆泳装真好看，心动的感觉。最后慢悠悠地把我的败犬女主第三卷看完啦，至此动漫第一季的剧情我也是补完了，文字版依旧有趣，真的好喜欢这些角色的性格和对话，看得我很开心。后面就是新鲜的剧情了，好期待啊！\n![20250501_151606.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250501_151606.jpg)\n![20250501_154956.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250501_154956.jpg)\n\n\n大约五点钟，才再次出门前往沙滩。沙滩很近走路五分钟就到了，他们这沙滩海岸线很长，可以沿着一直走。幸运的是沙滩比较实，我没有拖鞋，穿着徒步鞋走过也完全没有进沙子。吹着海风，听着海浪，心情愈发平和。最后花了50r两个人，租了两张舒服的沙滩椅躺着等日落。有点可惜的是日落到海平面的最后一节被厚厚的云层遮挡住了，幸运的是即便没到最后一节，夕阳也已经散发出了绝美的红颜，感恩。\n![DSCF0049.JPG](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/DSCF0049.JPG)\n\n日落后，我们就去觅食了。莫名找到一家bar，主要是因为白白把海鲜拼盘误认为烤猪扒了……bar的氛围很好，所以也呆的下去。两人共喝一瓶BINTANG啤酒，但很遗憾东西没有很好吃，点了个羊肉塔可？量很少，一口就无啦，全靠标准水平的玛格丽塔披萨保住了肚子不饿。饭后再步行回酒店的路上，再次发现了冰淇淋，点了一个朗姆口味和柠檬口味，朗姆酒香醇厚，柠檬清爽，好吃滴。\n![20250501_183842.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250501_183842.jpg)\n\n第二天并未就此结束，今天早上我们已经预约好了晚上八点的SPA，所以回到酒店休整一下就前往享受Spa生活。精油推拿我没怎么体验过，这次全是享受到了，确实是很舒服。技师小姐姐力气不算大，在我略微有疼痛感的水平。但是推的很认真很到位，六十分钟流程很扎实，捏完身体酥酥软软滴。\n第二天全是真真进入假期状态了，而且第一次体验到这种度假，而非旅游的感觉。整个人就是放松，放松，不像旅游，其实还挺累的，晚上在酒店就是摊着，腰酸疼的要死那种……\n![20250501_195907.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250501_195907.jpg)\n\n# 第三天 转移AYANA\n今天睡醒的就比较早了，所以计划好了去泳池游泳再吃早餐。白白犹豫了老半天，还是禁不住游泳的诱惑一起去了。我游的不多，主要是躺在浮床上凉爽地晒太阳，最后游了十分钟就很舒服了。\n运动完再吃早餐果然胃口极佳，直接拿了满满一大盆，还能快速全部吃完了。这酒店自助是真心不错，可能我标准低吧，反正觉得都挺好吃的，吃的挺开心。\n顺利的拉完屎，现在瘫在阳台的沙发上敲游记。今天天气依旧很好，不算热，风吹过暖暖地很舒服的那种。\n![20250502_090610.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250502_090610.jpg)\n\n中午没吃饭，找了个小咖啡馆消磨了一些时间，再打车前往超高级度假村，ayana。\n真是长见识了，一个超大的度假村区域，就是直接围了一块地，里面分四个区域的旅馆。我们选择的是最便宜的林巴区，但环境也很棒很大。每个区域都有泳池，餐厅，酒吧，真的极尽享受。这天下午入住休整了一下，就前往主要的海边悬崖区，ayana lobby那边，看看海景。这个区域整体建筑就是很有印度风，顺着台阶而下可以纵览海景，没有遮挡。运气不错，天虽不蓝但并没有雨，所以海景还是很赞，就是天气有点热，闷得我一下就出汗了。\n![DSCF0078.JPG](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/DSCF0078.JPG)\n\n网上预定的餐厅是kisik海鲜&烧烤，没选那个最有名的岩石餐厅。岩石餐厅那里也就是下去看了一眼，真想看日落我觉得还是kisik强，坐到了刚好正看日落的桌子。预定的五点半，日落是六点零几分的时候，顺利看到了全程，开心。晚饭比较一般了，也没有指望，点的牛排，虾，海鲜串，全都只能说还过得去，谈不上特别好吃。唯一亮点是免费送的空心菜，我甚至找服务员加了一份。\n![20250502_174855.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250502_174855.jpg)\n\n回酒店泡了个澡，养足精神后，去了unique屋顶泳池酒吧搞浪漫。我也是第一次喝鸡尾酒，点了杯大名鼎鼎的长岛冰茶。挺好喝，但是太上头了，印象深刻的伏特加味道。柳依喝了个无酒精混合果汁，感觉那个也很好喝。两个人在那强行搞浪漫哈哈。不过我确实喝的太上头了，晚上直接昏睡。\n![20250502_210910.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250502_210910.jpg)\n\n# 第四天 完美海滩游\n今天的主要任务就是AYANA的私人海滩，库布海滩。早上睡到自然醒，但也赶在九点高峰期前吃上了TOGE餐厅的自助早餐。价格着实高，但好在吃的确实不错。主打的就是种类丰富多样，覆盖各国美食，我属于啥也喜欢的流派，所以拿了好大一碟。\n![20250503_085900.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250503_085900.jpg)\n\n吃饱喝足坐摆渡车前往库布海滩，此时天气已经有点热意了。先说结论，本次海滩游非常完美，拍到了很多美照，也在海浪中好好玩耍了一番。库布海滩需要乘坐电梯到悬崖下，是一个在峡口的海滩。沙子很白很美，海水也很透亮，是那种浅水绿深水蓝，最符合海岛形象的海水。能看到这样的海景，本次旅程的价值就达成一大半了。\n我比较兴奋，虽然海浪比较大，估计是浮潜不了了，但是玩水本身就很有乐趣。白白老是嫌晒，被我催促了好几次才愿意换上泳衣。事实证明不穿泳衣拍就太可惜了，天气真的绝赞，海浪也很美，沙滩很白很长，轻而易举就拍出了大量美腻的泳装照片。\n![20250503_103744.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250503_103744.jpg)\n\n话说我老婆身材真好啊。\n![DSCF0452.JPG](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/DSCF0452.JPG)\n\n拍了照片以后白白就躲到沙滩椅下了，我自己跑去玩水。稍微试着游了一下，感觉浪真的是太大了，好凶，怪吓人的。比较大的浪能直接把人掀翻，不做好准备站都站不稳，所以放弃了游太远，更别说浮潜了。最后直接在海滩边上玩海浪对抗小游戏，尝试在每一波海浪冲击下站稳。这么无聊的游戏我愣是开心的玩了十多分钟哈哈哈。有一次浪真的是太大了，我直接被掀翻，人都懵懵的。\n![20250503_111345.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250503_111345.jpg)\n\n上午库布海滩顺利结束后，中午打车去吃烤猪扒。比较有名的一家猪扒店，叫做wahaha。烤猪扒保守了，点了小份的，没想到香嫩酥脆，吸溜几口就没了，很可惜。\n吃完还逛了纪念品店，以及当地的大超市sideway。这个大超市其实就是类似ole的那种进口商品店。稍微买了点特色零食后就回酒店了，下午没睡觉巨困。\n![20250503_133649.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250503_133649.jpg)\n\n回酒店休整周，又接着去泳池放松。我们住的这个wana有一个长条的森林泳池，来的人比较少，所以很放松。我发现了一个绝赞姿势，就是躺在浮床上，边泡泳池边看电子书。这样很凉快，下午的阳光洒在身上也暖暖的，很舒服。而白白又去她的长距离游泳去了，估摸着游了一公里，太强了哦喵喵。\n![20250503_162331.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250503_162331.jpg)\n![20250503_162331.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250503_162331.jpg)\n\n\n晚上再次去觅食，很无语的是没有预约上那个日料餐厅，本膳，吃个拉面啥的。去了以后说只能进食60分钟，那还是算了。反身去TO’GE，反而吃到了好东西。不愧是最多元的餐厅，点到了仁当牛肉，这可是印尼国菜，吃上了真的太棒了，貌似是用各种香辛料咖喱粉炖煮后的牛肉，非常好吃，非常扎实，这个吃起来比昨晚的牛排幸福多了。叻沙比较贵比较一般。还有巴厘猪肉卷，卷很大很厚，一口下去有很丰富的香味。今晚吃的很好吃，很有特色，感谢本膳没能让我吃上。\n![20250503_193048.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250503_193048.jpg)\n\n晚上本来计划去runa屋顶泳池酒吧，但因为今天也泡过水，白白也吃撑了，就选择散步去看看岩石后酒吧。入住的时候还送了免费的鸡尾酒，可以去白嫖体验一下。气氛还可以，是乐队在表演，不是那种轰轰轰的DJ音乐。但就是不习惯蹦迪，玩不起来。两个人安静地在那嘬着免费的鸡尾酒，欣赏到了欧美白人大叔的熟练蹦迪。听了几首曲子后就溜了，终究是享受不来呢。\n![20250503_214853.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250503_214853.jpg)\n\n# 第五天 最后的躺平\n今天下午的飞机，所以上午还能好好享受完整的半天假期。\n早上起的稍微早一点，带着昨天超市买好的面包当早餐，去rimba特色的tevana花园晨间散步。这个花园还挺大的，里面有大片漂亮的草坪和各种花卉，看不太懂。人很少，应该没啥人会来这个景点，所以可以安安静静的散步一圈。早晨的时候到花园里呼吸一下，感觉还是挺不错滴。\n![20250504_082041.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250504_082041.jpg)\n\n然后还跑了一趟runa屋顶泳池，把昨晚没去的也去见识了一下。屋顶的泳池风景确实挺不错的，可以看到海，可惜太晒了，所以白白待不下去就撤退了。\n最后我们两兵分两路。我去rimba的无边泳池泡水晒太阳看书，白白去健身房。这个泳池感觉很不错啊，有一个半没在水池的躺椅，我可以躺在上面看书，哇塞这个体验太爽了。只要没在水里，即便偶尔被太阳晒着也不觉得热，很舒服。泡够了再随便游个两圈，就上岸躺在椅子上享受微风吹拂。很难阐述那种安逸和舒适，只能说舒服到容易睡着。\n![20250504_082041.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250504_103509.jpg)\n\n十一点多，就回房收拾行李啦，虽然恋恋不舍但还是得离开了。退房寄存行李，我们再次去TOGE吃午饭。这次点了心心念念的海南鸡饭和马来鱼咖喱，终于是正经地吃了一顿咖喱，冬阴功风味的那种，我超爱。这个马来鱼肉很大，很扎实，而且完全没有刺，这下真的爽吃咖喱了。再配上经典可口可乐，一口咖喱一口可乐，顶级。\n![20250504_122548.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250504_122548.jpg)\n\n吃完饭甚至还跑了趟精品店，想要买AYANA的客房睡衣，穿着真的很方便很舒服，可惜没有蓝色的了，最后我买了AYANA的深红色，白白买了RIMBA的绿色，也算是此行最大的纪念品。因为预先订好了送机的车，所以一点十五分准时上车前往机场。\n![20250504_125657.jpg](https://picgo-2022.obs.cn-south-1.myhuaweicloud.com/20250504_125657.jpg)\n\n至此，本次巴厘岛度假之旅正式结束。\n\n# 小结\n这是一次非常完美的度假旅游，全程都很顺利。而且天气很好，每一天都是晴天，太给面子了，真的非常感谢！\n天气加持下，巴厘岛的海很蓝很美，度假酒店的泳池待着也很舒适。这次和白白也多次对齐行程主旨：不是旅行，而是度假。\n很成功，度假不会紧张，也不需要奔波，不会疲惫。身体和心理真的好好得到了休息。\n我也是第一次体会到度假的快乐，现在工作真的太紧张太忙太累了，幸好有这个假期让我好好恢复了一下。\n现在在候机室，过一会就登机啦，再见咯BALI～\n\n\n\n\n\n","tags":["巴厘岛","度假","海滩"],"categories":["世界巡礼"]},{"title":"若想达成目标，就不应该再考虑省钱","url":"/posts/70658b32.html","content":"因为各种事情的花钱结果而有所感悟。\n\n<!--less-->\n\n# 若想达成目标，就不应该再考虑省钱\n\n## 抓住主要矛盾\n对于这一点也是越来越有感触了。\n在有一个明确目标的时候，为了实现这个目标，得到一个好的结果，此时就不应该再考虑“省”这件事。\n省并非有错，而是相较于更好的达成目标这个主要矛盾，我们不要投入过多的思维在次要矛盾上。\n\n很多时候，钱一次给到位了，就能够直接收获满意的结果。\n比如，购置相机镜头，想要一个又轻便，又好看，画质还好的，就应该直接投入预算去购买原厂饼干头。\n确实，一颗国产镜头价格不过700，富士原厂饼干头要2200，价格差了三倍。\n但是国产镜头画质较差，有明显暗角，体积更大，这都是对应这个价格的。省了点钱，但是用着又不爽。\n这种东西也不会有很多个，所以真的投入足够的预算，买一个好的，比省出2个差的钱要有意义的多。\n\n## 满足上述理论的前提\n首先，当购买次数只有1~2次的时候，一步到位肯定是最好的\n如果需要大量、多次购买，那么一次省下来的价值，才存在。\n","tags":["人生"],"categories":["思维殿堂"]},{"title":"记一次让Deepseek帮忙优化PARA笔记法","url":"/posts/f689686b.html","content":"摘要  \n\n<!--less-->\n\n1. 对我要的内容理解不充分。\n2. 不过能给出可以理解的例子，说明流程；\n3. 提出了很多有效建议，比如如何一步步改造自己的笔记库。\n4. 给出的很多脚本执行存在问题，可能功能有效，但是会异常报错。需要人分析哪些语法存在问题。\n5. 多个AI交替检查脚本，有奇效。","tags":["PARA","AI","Deepseek"],"categories":["技术笔记"]},{"title":"尝试做三天打鱼两天晒网式的2025年计划","url":"/posts/37706040.html","content":"\n看了一篇文章，感觉很有用。\n[不用内耗的个人时间管理，我的 2024 实践小结](文献仓库/思维分享/不用内耗的个人时间管理，我的%202024%20实践小结.md)\n\n2024年结束了，笔记规划这个事情现在推进的还不够好，在2025年要执行起来。\n\n\n2月份，完成OBSIDIAN的彻底重构\n2月份，开始创作视频\n\n\n\n\n\n","tags":["笔记","Obsidian"],"categories":["方法学论"]},{"title":"我即“公司”，让自己的各个“部门”制定2025年度计划","url":"/posts/d56a9866.html","content":"# 脑子一抽，又在纠结自己的年度计划了\n今年已经四月份了，我的年度计划还没有搞出来。\n为什么又想起这件事情，主要还是发现自己的短线计划虽然已经系统化了，\n但是缺少了长线计划，使得生活仿佛缺少了一条主线。\no\n\n# 参考如下两篇\n[年度计划完不成，可能是好事](文献仓库/思维分享/年度计划完不成，可能是好事.md)\n\n[时间管理或许是伪命题 IV](文献仓库/思维分享/时间管理或许是伪命题%20IV.md) \n主线任务、支线任务、临时任务","tags":["计划","效率"],"categories":["方法学论"]},{"title":"喵＆汪！2025～","url":"/posts/7d7449bf.html","content":"以后就按照这个标题来制作年度视频吧！\n以后多用手机录像，录横屏的。","categories":["日常随记"]},{"title":"决定购房的核心要素整理","url":"/posts/72e64147.html","content":"最近看房看的有点多，心乱了。稍微花时间理顺了一下自己的核心需求，以及购房的逻辑。\n\n<!--less-->\n\n# 决定购房的核心要素整理\n相关项目：[第一次购房计划](认真生活/舒适的家/第一次购房计划.md)\n## 必须满足\n**安静**\n- 换房的根因\n- 不接受任何噪音要素\n\n**交通**\n- 近地铁，便于通勤\n- 不偏远，去哪都不方便也烦心\n\n**空间**\n- 三房起，85㎡+\n- 充足的空间，相处有距离，心情也舒畅\n- 仅黄埔雅苑可以放宽要求\n\n**小区**\n- 必须是花园小区\n- 有绿化、能散步、更安全\n- 老式小区不如不要\n\n**装修**\n- 精装修或者硬装好\n- 既然买二手，就希望能拎包入住\n- 注：浴室、厨房可放宽，可以考虑改造\n\n## 加分项\n**价格**\n- 极限750W\n- 记住，每省10W，购车的预算就多10W，性价比更高\n\n**朝向**\n- 东南、正南、正东最佳，朝北不行\n\n**学位**\n- 未来可能有用\n- 为了保值\n\n**车位**\n- 充裕的车位也减少一件烦心事\n\n","tags":["舒适的家","买房"],"categories":["购房笔记"]},{"title":"笔记人生","url":"/posts/16fe55c8.html","content":"# 笔记人生\n## 核心目标\n- 发挥基本的markdown笔记能力\n- 推行PARA笔记法，管理任务\n- 记录个人见解，漫游回顾，以正思想。\n- 开设事务档案，人生漫长，过目就忘。\n\n## 相关项目\n```dataviewjs\n// 获取当前笔记名称（不含.md）\nconst currentNoteName = dv.current().file.name.replace(\".md\", \"\");\n\n// 查询所有链接到当前 project 笔记的 `type=project` 笔记\nconst projectPages = dv.pages()\n    .where(p => \n        p.type === \"projects\" &&\n        p.file.outlinks.some(link => link.path === dv.current().file.path)\n    )\n    .sort(p => p.file.cday, 'asc'); // 仍按创建时间排序\n\n// 状态显示函数（基于 done 状态）\nfunction getStatusIcon(project) {\n    return project.done ? \"✅ 已完成\" : \"🟡 进行中\";\n}\n\n// 进度显示函数（支持多种格式）\nfunction getProgressDisplay(project) {\n    if (project.done) return \"▮▮▮▮▮ 100%\";\n    if (!project.progress) return \"▯▯▯▯▯ 0%\";\n    \n    // 处理不同进度格式\n    if (project.progress.includes(\"▮\")) {\n        return project.progress;\n    } else {\n        const percent = parseInt(project.progress.toString().replace(/\\D/g, '')) || 0;\n        const filled = Math.floor(percent / 20);\n        return \"▮\".repeat(filled) + \"▯\".repeat(5-filled) + ` ${percent}%`;\n    }\n}\n\n// 结项日期显示函数\nfunction getCompletionDate(project) {\n    if (!project.done) return \" \";\n    if (project.completion) {\n        return dv.date(project.completion).toISODate();\n    }\n    if (project.file.mtime) {\n        return project.file.mtime.toISODate(); // 降级使用最后修改时间\n    }\n    return \"无记录\";\n}\n\n// 显示结果\nif (projectPages.length > 0) {\n    // 统计项目状态及关联笔记数量\n    const projectsWithNoteCount = projectPages.map(p => {\n        const noteCount = dv.pages()\n            .where(n => \n                n.type === \"notes\" &&\n                n.file.outlinks.some(link => link.path === p.file.path)\n            ).length;\n\n        return {\n            ...p,\n            noteCount,\n            status: getStatusIcon(p),\n            progress: \"▯▯▯▯▯ 0%\",\n            completion: getCompletionDate(p)\n        };\n    });\n\n    // 计算统计信息\n    const doneCount = projectsWithNoteCount.filter(p => p.done).length;\n    const totalCount = projectsWithNoteCount.length;\n\n    dv.table(\n        [\"状态\", \"项目名称\", \"进度\", \"关联笔记\", \"创建时间\", \"结项日期\"], \n        [\n            ...projectsWithNoteCount.map(p => [\n                p.status,\n                p.file.link,\n                p.progress,\n                p.noteCount > 0 ? `📝 ${p.noteCount}` : \"无\",\n                p.file.cday.toISODate(),\n                p.completion\n            ]),\n            // 统计行\n            [\n                `**${doneCount}/${totalCount}**`,\n                `**项目统计**`,\n                `**完成率: ${Math.round(doneCount/totalCount*100)}%**`,\n                \"\",\n                \"\",\n                `**最近结项: ${projectsWithNoteCount.filter(p => p.done).sort((a,b) => b.file.mtime - a.file.mtime)[0]?.completion || \"无\"}**`\n            ]\n        ]\n    );\n} else {\n    dv.span(`当前 project 笔记没有链接到任何项目笔记`);\n}\n\n```\n","tags":["方法学论","笔记"],"categories":["架构"]},{"title":"舒适的家","url":"/posts/a874d6b4.html","content":"# 舒适的家\n> 拥有一个舒适的家，住着喵、汪。\n\n\n## 项目列表\n```dataviewjs\n// 获取当前笔记名称（不含.md）\nconst currentNoteName = dv.current().file.name.replace(\".md\", \"\");\n\n// 查询所有链接到当前 project 笔记的 `type=project` 笔记\nconst projectPages = dv.pages()\n    .where(p => \n        p.type === \"projects\" &&\n        p.file.outlinks.some(link => link.path === dv.current().file.path)\n    )\n    .sort(p => p.file.cday, 'asc'); // 仍按创建时间排序\n\n// 状态显示函数（基于 done 状态）\nfunction getStatusIcon(project) {\n    return project.done ? \"✅ 已完成\" : \"🟡 进行中\";\n}\n\n// 进度显示函数（支持多种格式）\nfunction getProgressDisplay(project) {\n    if (project.done) return \"▮▮▮▮▮ 100%\";\n    if (!project.progress) return \"▯▯▯▯▯ 0%\";\n    \n    // 处理不同进度格式\n    if (project.progress.includes(\"▮\")) {\n        return project.progress;\n    } else {\n        const percent = parseInt(project.progress.toString().replace(/\\D/g, '')) || 0;\n        const filled = Math.floor(percent / 20);\n        return \"▮\".repeat(filled) + \"▯\".repeat(5-filled) + ` ${percent}%`;\n    }\n}\n\n// 结项日期显示函数\nfunction getCompletionDate(project) {\n    if (!project.done) return \" \";\n    if (project.completion) {\n        return dv.date(project.completion).toISODate();\n    }\n    if (project.file.mtime) {\n        return project.file.mtime.toISODate(); // 降级使用最后修改时间\n    }\n    return \"无记录\";\n}\n\n// 显示结果\nif (projectPages.length > 0) {\n    // 统计项目状态及关联笔记数量\n    const projectsWithNoteCount = projectPages.map(p => {\n        const noteCount = dv.pages()\n            .where(n => \n                n.type === \"notes\" &&\n                n.file.outlinks.some(link => link.path === p.file.path)\n            ).length;\n\n        return {\n            ...p,\n            noteCount,\n            status: getStatusIcon(p),\n            progress: getProgressDisplay(p),\n            completion: getCompletionDate(p)\n        };\n    });\n\n    // 计算统计信息\n    const doneCount = projectsWithNoteCount.filter(p => p.done).length;\n    const totalCount = projectsWithNoteCount.length;\n\n    dv.table(\n    [\"状态\", \"项目名称\", \"进度\", \"关联笔记\", \"创建时间\", \"结项日期\"], \n    [\n        ...projectsWithNoteCount.map(p => [\n            p.status,\n            p.file.link,\n            p.progress,\n            p.noteCount > 0 ? `📝 ${p.noteCount}` : \"无\",\n            p.file.cday.toISODate(),\n            p.completion\n        ]),\n        // 统计行（已修复）\n        [\n            `**${doneCount}/${totalCount}**`,\n            `**项目统计**`,\n            `**完成率: ${Math.round(doneCount/totalCount*100)}%**`,\n            \"\",\n            \"\",\n            `**最近结项: ${\n                projectsWithNoteCount\n                    .filter(p => p.done)\n                    .sort((a, b) => (b.file?.mtime || new Date(0)) - (a.file?.mtime || new Date(0)))\n                    [0]?.completion || \"无\"\n            }**`\n        ]\n    ]\n\t);\n} else {\n    dv.span(`当前 project 笔记没有链接到任何项目笔记`);\n}\n\n```","tags":["家居","深圳"]},{"title":"身心健康","url":"/posts/4be51cea.html","content":"# 身心健康\n## 核心目标\n- 健全的灵魂，寄宿在健全的精神和健全的身体上。\n## 当前关注\n- [ ] 保持运动习惯\n- [ ] 戒除“无意义”手淫\n\n## 里程碑\n### 2025-08-17 \n运动日常化进入第四阶段\n建立早睡打卡项目，跟踪每日睡眠情况。正常睡眠就打卡，晚睡就记录原因。\n\n## 相关项目\n```dataviewjs\n// 获取当前笔记名称（不含.md）\nconst currentNoteName = dv.current().file.name.replace(\".md\", \"\");\n\n// 查询所有链接到当前 project 笔记的 `type=project` 笔记\nconst projectPages = dv.pages()\n    .where(p => \n        p.type === \"projects\" &&\n        p.file.outlinks.some(link => link.path === dv.current().file.path)\n    )\n    .sort(p => p.file.cday, 'asc'); // 仍按创建时间排序\n\n// 状态显示函数（基于 done 状态）\nfunction getStatusIcon(project) {\n    return project.done ? \"✅ 已完成\" : \"🟡 进行中\";\n}\n\n// 进度显示函数（支持多种格式）\nfunction getProgressDisplay(project) {\n    if (project.done) return \"▮▮▮▮▮ 100%\";\n    if (!project.progress) return \"▯▯▯▯▯ 0%\";\n    \n    // 处理不同进度格式\n    if (project.progress.includes(\"▮\")) {\n        return project.progress;\n    } else {\n        const percent = parseInt(project.progress.toString().replace(/\\D/g, '')) || 0;\n        const filled = Math.floor(percent / 20);\n        return \"▮\".repeat(filled) + \"▯\".repeat(5-filled) + ` ${percent}%`;\n    }\n}\n\n// 结项日期显示函数\nfunction getCompletionDate(project) {\n    if (!project.done) return \" \";\n    if (project.completion) {\n        return dv.date(project.completion).toISODate();\n    }\n    if (project.file.mtime) {\n        return project.file.mtime.toISODate(); // 降级使用最后修改时间\n    }\n    return \"无记录\";\n}\n\n// 显示结果\nif (projectPages.length > 0) {\n    // 统计项目状态及关联笔记数量\n    const projectsWithNoteCount = projectPages.map(p => {\n        const noteCount = dv.pages()\n            .where(n => \n                n.type === \"notes\" &&\n                n.file.outlinks.some(link => link.path === p.file.path)\n            ).length;\n\n        return {\n            ...p,\n            noteCount,\n            status: getStatusIcon(p),\n            progress: getProgressDisplay(p),\n            completion: getCompletionDate(p)\n        };\n    });\n\n    // 计算统计信息\n    const doneCount = projectsWithNoteCount.filter(p => p.done).length;\n    const totalCount = projectsWithNoteCount.length;\n\n    dv.table(\n    [\"状态\", \"项目名称\", \"进度\", \"关联笔记\", \"创建时间\", \"结项日期\"], \n    [\n        ...projectsWithNoteCount.map(p => [\n            p.status,\n            p.file.link,\n            p.progress,\n            p.noteCount > 0 ? `📝 ${p.noteCount}` : \"无\",\n            p.file.cday.toISODate(),\n            p.completion\n        ]),\n        // 统计行（已修复）\n        [\n            `**${doneCount}/${totalCount}**`,\n            `**项目统计**`,\n            `**完成率: ${Math.round(doneCount/totalCount*100)}%**`,\n            \"\",\n            \"\",\n            `**最近结项: ${\n                projectsWithNoteCount\n                    .filter(p => p.done)\n                    .sort((a, b) => (b.file?.mtime || new Date(0)) - (a.file?.mtime || new Date(0)))\n                    [0]?.completion || \"无\"\n            }**`\n        ]\n    ]\n\t);\n} else {\n    dv.span(`当前领域笔记没有链接到任何项目笔记`);\n}\n\n```\n\n\n\n## 相关笔记\n```dataviewjs\n// 获取当前领域名\nconst currentAreaName = dv.current().file.name.toLowerCase();\n\n// 查找所有 type 为 notes 且 tags 中包含领域名的笔记\nconst relatedNotes = dv.pages()\n    .where(p => \n        p.type === \"notes\" &&\n        Array.isArray(p.tags) &&\n        p.tags.some(tag => \n            typeof tag === \"string\" &&\n            tag.toLowerCase().includes(currentAreaName)\n        )\n    )\n    .sort(p => p.file.mtime, 'desc'); // 按修改时间倒序\n\n// 生成表格\ndv.table(\n    [\"笔记名称\", \"最后修改时间\"],\n    relatedNotes.map(p => [\n        p.file.link,\n        p.file.mtime ? p.file.mtime.toFormat(\"yyyy-MM-dd HH:mm\") : \"未知\"\n    ])\n);\n\n```\n\n\n\n## 相关资源\n```dataviewjs\n// 当前领域名（小写）\nconst currentAreaName = dv.current().file.name.toLowerCase();\n\n// 获取当前领域笔记的 tags（全部小写）\nconst areaTags = (dv.current().tags || [])\n    .filter(t => typeof t === \"string\")\n    .map(t => t.toLowerCase());\n\n// 查找相关的 resources\nconst relatedResources = dv.pages()\n    .where(p => \n        p.type === \"resources\" &&\n        Array.isArray(p.tags) &&\n        (\n            // 方式1：tags 包含领域名\n            p.tags.some(tag => typeof tag === \"string\" && tag.toLowerCase().includes(currentAreaName))\n            ||\n            // 方式2：tags 与领域的 tags 有交集\n            p.tags.some(tag => typeof tag === \"string\" && areaTags.includes(tag.toLowerCase()))\n        )\n    )\n    .sort(p => p.file.mtime, 'desc'); // 按最后修改时间降序\n\n// 输出表格\ndv.table(\n    [\"资源笔记\", \"最后修改时间\", \"匹配标签\"],\n    relatedResources.map(p => {\n        const resTags = (p.tags || []).map(t => t.toLowerCase());\n        const matched = resTags.filter(t => t.includes(currentAreaName) || areaTags.includes(t));\n        return [\n            p.file.link,\n            p.file.mtime ? p.file.mtime.toFormat(\"yyyy-MM-dd HH:mm\") : \"未知\",\n            matched.join(\"，\") || \"—\"\n        ];\n    })\n);\n\n```"}]